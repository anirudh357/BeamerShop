/*! For license information please see main.02a85d22.js.LICENSE.txt */
!function(){var e={5318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},862:function(e,t,n){var r=n(8).default;function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(a,s,u):a[s]=e[s]}return a.default=e,n&&n.set(e,a),a},e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e,t,n){e.exports=n(9727)},4399:function(e,t,n){"use strict";function r(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}function i(e){if("string"!==typeof e)throw new Error(r(7));return e.charAt(0).toUpperCase()+e.slice(1)}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.r(t),n.d(t,{capitalize:function(){return i},createChainedFunction:function(){return a},createSvgIcon:function(){return Ar},debounce:function(){return Pr},deprecatedPropType:function(){return Rr},isMuiElement:function(){return Dr},ownerDocument:function(){return Mr},ownerWindow:function(){return Lr},requirePropFactory:function(){return Fr},setRef:function(){return jr},unstable_useId:function(){return zr},unsupportedProp:function(){return Ur},useControlled:function(){return Vr},useEventCallback:function(){return Br},useForkRef:function(){return qr},useIsFocusVisible:function(){return ti}});var o=n(7462),s=n(2791),u=n(3366);function c(e,t){if(null==e)return{};var n,r,i=(0,u.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=l(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function f(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=l(e))&&(r&&(r+=" "),r+=t);return r}var h=n(2110),d=n.n(h),p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v="object"===("undefined"===typeof window?"undefined":p(window))&&"object"===("undefined"===typeof document?"undefined":p(document))&&9===document.nodeType,m=n(3144),y=n(4578),g=n(7326),k={}.constructor;function w(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(w);if(e.constructor!==k)return e;var t={};for(var n in e)t[n]=w(e[n]);return t}function b(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=w(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var x=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},_=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=x(e[r]," ");else n=x(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function S(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function E(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function T(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var s=S(n),u=s.linebreak,c=s.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var f=o[l];for(var h in f){var d=f[h];null!=d&&(r&&(r+=u),r+=E(h+":"+c+_(d)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=u),r+=E(p+":"+c+_(v)+";",a))}for(var m in t){var y=t[m];null!=y&&"fallbacks"!==m&&(r&&(r+=u),r+=E(m+":"+c+_(y)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+u+r+u),E(""+e+c+"{"+r,--a)+E("}",a)):r}var I=/([[\].#*$><+~=|^:(),"'`\s])/g,C="undefined"!==typeof CSS&&CSS.escape,N=function(e){return C?C(e):e.replace(I,"\\$1")},O=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var s=a&&o;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),A=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,s=r.sheet,u=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=u((0,g.Z)((0,g.Z)(i)),s),i.selectorText="."+N(i.id)),i}(0,y.Z)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=_(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,o.Z)({},e,{allowEmpty:!0}):e;return T(this.selectorText,this.style,n)},(0,m.Z)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(O),P={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new A(e,t,n)}},R={indent:1,children:!0},D=/@([\w-]+)/,M=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(D);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new ae((0,o.Z)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=R);var t=S(e).linebreak;if(null==e.indent&&(e.indent=R.indent),null==e.children&&(e.children=R.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),L=/@media|@supports\s+/,F={onCreateRule:function(e,t,n){return L.test(e)?new M(e,t,n):null}},j={indent:1,children:!0},U=/@keyframes\s+([\w-]+)/,V=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(U);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,a=n.sheet,s=n.generateId;for(var u in this.id=!1===i?this.name:N(s(this,a)),this.rules=new ae((0,o.Z)({},n,{parent:this})),t)this.rules.add(u,t[u],(0,o.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=j);var t=S(e).linebreak;if(null==e.indent&&(e.indent=j.indent),null==e.children&&(e.children=j.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),Z=/@keyframes\s+/,B=/\$([\w-]+)/g,q=function(e,t){return"string"===typeof e?e.replace(B,(function(e,n){return n in t?t[n]:e})):e},z=function(e,t,n){var r=e[t],i=q(r,n);i!==r&&(e[t]=i)},W={onCreateRule:function(e,t,n){return"string"===typeof e&&Z.test(e)?new V(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&z(e,"animation-name",n.keyframes),"animation"in e&&z(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return q(e,r.keyframes);default:return e}}},H=function(e){function t(){return e.apply(this,arguments)||this}return(0,y.Z)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,o.Z)({},e,{allowEmpty:!0}):e;return T(this.key,this.style,n)},t}(O),G={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new H(e,t,n):null}},Y=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=S(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=T(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return T(this.at,this.style,e)},e}(),K=/@font-face/,Q={onCreateRule:function(e,t,n){return K.test(e)?new Y(e,t,n):null}},$=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return T(this.key,this.style,e)},e}(),J={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new $(e,t,n):null}},X=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),ee={"@charset":!0,"@import":!0,"@namespace":!0},te={onCreateRule:function(e,t,n){return e in ee?new X(e,t,n):null}},ne=[P,F,W,G,Q,J,te],re={process:!0},ie={force:!0,process:!0},ae=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,a=r.sheet,s=r.jss,u=r.Renderer,c=r.generateId,l=r.scoped,f=(0,o.Z)({classes:this.classes,parent:i,sheet:a,jss:s,Renderer:u,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(f.selector="."+N(this.classes[h]));var d=b(h,t,f);if(!d)return null;this.register(d);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var r=this.get(e),i=this.index.indexOf(r);r&&this.remove(r);var a=n;return-1!==i&&(a=(0,o.Z)({},n,{index:i})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof A?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof V&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof A?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof V&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=re);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(a.onUpdate(n,t,o,r),r.process&&s&&s!==t.style){for(var u in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[u];c!==s[u]&&t.prop(u,c,ie)}for(var l in s){var f=t.style[l],h=s[l];null==f&&f!==h&&t.prop(l,null,ie)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=S(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),oe=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,o.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new ae(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),se=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),ue=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,u.Z)(t,["attached"]),i=S(r).linebreak,a="",o=0;o<this.registry.length;o++){var s=this.registry[o];null!=n&&s.attached!==n||(a&&(a+=i),a+=s.toString(r))}return a},(0,m.Z)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),ce=new ue,le="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),fe="2f1acc6c3a606b082e5eef5e54414ffb";null==le[fe]&&(le[fe]=0);var he=le[fe]++,de=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+he+i+t:a+n.key+"-"+he+(i?"-"+i:"")+"-"+t}},pe=function(e){var t;return function(){return t||(t=e()),t}},ve=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},me=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=_(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},ye=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},ge=function(e,t){return e.selectorText=t,e.selectorText===t},ke=pe((function(){return document.querySelector("head")}));function we(e){var t=ce.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=ke(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var be=pe((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),xe=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},_e=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},Se=function(){function e(e){this.getPropertyValue=ve,this.setProperty=me,this.removeProperty=ye,this.setSelector=ge,this.hasInsertedRules=!1,this.cssRules=[],e&&ce.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=be();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=we(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else ke().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=_e(n,t);if(!1===(i=xe(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var s=_e(n,t),u=xe(n,o,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,s,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof oe&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Ee=0,Te=function(){function e(e){this.id=Ee++,this.version="10.9.0",this.plugins=new se,this.options={id:{minify:!1},createGenerateId:de,Renderer:v?Se:null,plugins:[]},this.generateId=de({minify:!1});for(var t=0;t<ne.length;t++)this.plugins.use(ne[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,o.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ce.index?0:ce.index+1);var r=new oe(e,(0,o.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),ce.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=(0,o.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=b(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),Ie=function(e){return new Te(e)},Ce="object"===typeof CSS&&null!=CSS&&"number"in CSS;function Ne(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=Ne(r);a&&(t||(t={}),t[n]=a)}}return t}Ie();function Oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=(0,o.Z)({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var Ae={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Pe=Ae;var Re=s.createContext(null);function De(){return s.useContext(Re)}var Me="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",Le=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Fe=Date.now(),je="fnValues"+Fe,Ue="fnStyle"+ ++Fe,Ve=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=b(e,{},n);return r[Ue]=t,r},onProcessStyle:function(e,t){if(je in t||Ue in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[je]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[Ue];a&&(i.style=a(e)||{});var o=i[je];if(o)for(var s in o)i.prop(s,o[s](e),r)}}},Ze="@global",Be="@global ",qe=function(){function e(e,t,n){for(var r in this.type="global",this.at=Ze,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new ae((0,o.Z)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),ze=function(){function e(e,t,n){this.type="global",this.at=Ze,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(Be.length);this.rule=n.jss.createRule(r,t,(0,o.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),We=/\s*,\s*/g;function He(e,t){for(var n=e.split(We),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Ge=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Ze)return new qe(e,t,n);if("@"===e[0]&&e.substr(0,Be.length)===Be)return new ze(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[Ze]:null;if(i){for(var a in i)t.addRule(a,i[a],(0,o.Z)({},n,{selector:He(a,e.selector)}));delete r[Ze]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,Ze.length)===Ze){var a=He(i.substr(Ze.length),e.selector);t.addRule(a,r[i],(0,o.Z)({},n,{selector:a})),delete r[i]}}(e,t))}}},Ye=/\s*,\s*/g,Ke=/&/g,Qe=/\$([\w-]+)/g;var $e=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Ye),r=e.split(Ye),i="",a=0;a<n.length;a++)for(var o=n[a],s=0;s<r.length;s++){var u=r[s];i&&(i+=", "),i+=-1!==u.indexOf("&")?u.replace(Ke,o):o+" "+u}return i}function n(e,t,n){if(n)return(0,o.Z)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=(0,o.Z)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,a){if("style"!==i.type)return r;var s,u,c=i,l=c.options.parent;for(var f in r){var h=-1!==f.indexOf("&"),d="@"===f[0];if(h||d){if(s=n(c,l,s),h){var p=t(f,c.selector);u||(u=e(l,a)),p=p.replace(Qe,u);var v=c.key+"-"+f;"replaceRule"in l?l.replaceRule(v,r[f],(0,o.Z)({},s,{selector:p})):l.addRule(v,r[f],(0,o.Z)({},s,{selector:p}))}else d&&l.addRule(f,{},s).addRule(c.key,r[f],{selector:c.selector});delete r[f]}}return r}}},Je=/[A-Z]/g,Xe=/^ms-/,et={};function tt(e){return"-"+e.toLowerCase()}var nt=function(e){if(et.hasOwnProperty(e))return et[e];var t=e.replace(Je,tt);return et[e]=Xe.test(t)?"-"+t:t};function rt(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:nt(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(rt):t.fallbacks=rt(e.fallbacks)),t}var it=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=rt(e[t]);return e}return rt(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=nt(t);return t===r?e:(n.prop(r,e),null)}}},at=Ce&&CSS?CSS.px:"px",ot=Ce&&CSS?CSS.ms:"ms",st=Ce&&CSS?CSS.percent:"%";function ut(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var ct=ut({"animation-delay":ot,"animation-duration":ot,"background-position":at,"background-position-x":at,"background-position-y":at,"background-size":at,border:at,"border-bottom":at,"border-bottom-left-radius":at,"border-bottom-right-radius":at,"border-bottom-width":at,"border-left":at,"border-left-width":at,"border-radius":at,"border-right":at,"border-right-width":at,"border-top":at,"border-top-left-radius":at,"border-top-right-radius":at,"border-top-width":at,"border-width":at,"border-block":at,"border-block-end":at,"border-block-end-width":at,"border-block-start":at,"border-block-start-width":at,"border-block-width":at,"border-inline":at,"border-inline-end":at,"border-inline-end-width":at,"border-inline-start":at,"border-inline-start-width":at,"border-inline-width":at,"border-start-start-radius":at,"border-start-end-radius":at,"border-end-start-radius":at,"border-end-end-radius":at,margin:at,"margin-bottom":at,"margin-left":at,"margin-right":at,"margin-top":at,"margin-block":at,"margin-block-end":at,"margin-block-start":at,"margin-inline":at,"margin-inline-end":at,"margin-inline-start":at,padding:at,"padding-bottom":at,"padding-left":at,"padding-right":at,"padding-top":at,"padding-block":at,"padding-block-end":at,"padding-block-start":at,"padding-inline":at,"padding-inline-end":at,"padding-inline-start":at,"mask-position-x":at,"mask-position-y":at,"mask-size":at,height:at,width:at,"min-height":at,"max-height":at,"min-width":at,"max-width":at,bottom:at,left:at,top:at,right:at,inset:at,"inset-block":at,"inset-block-end":at,"inset-block-start":at,"inset-inline":at,"inset-inline-end":at,"inset-inline-start":at,"box-shadow":at,"text-shadow":at,"column-gap":at,"column-rule":at,"column-rule-width":at,"column-width":at,"font-size":at,"font-size-delta":at,"letter-spacing":at,"text-decoration-thickness":at,"text-indent":at,"text-stroke":at,"text-stroke-width":at,"word-spacing":at,motion:at,"motion-offset":at,outline:at,"outline-offset":at,"outline-width":at,perspective:at,"perspective-origin-x":st,"perspective-origin-y":st,"transform-origin":st,"transform-origin-x":st,"transform-origin-y":st,"transform-origin-z":st,"transition-delay":ot,"transition-duration":ot,"vertical-align":at,"flex-basis":at,"shape-margin":at,size:at,gap:at,grid:at,"grid-gap":at,"row-gap":at,"grid-row-gap":at,"grid-column-gap":at,"grid-template-rows":at,"grid-template-columns":at,"grid-auto-rows":at,"grid-auto-columns":at,"box-shadow-x":at,"box-shadow-y":at,"box-shadow-blur":at,"box-shadow-spread":at,"font-line-height":at,"text-shadow-x":at,"text-shadow-y":at,"text-shadow-blur":at});function lt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=lt(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=lt(i,t[i],n);else for(var a in t)t[a]=lt(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||ct[e];return!o||0===t&&o===at?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var ft=function(e){void 0===e&&(e={});var t=ut(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=lt(r,e[r],t);return e},onChangeValue:function(e,n){return lt(n,e,t)}}},ht=n(3433),dt="",pt="",vt="",mt="",yt=v&&"ontouchstart"in document.documentElement;if(v){var gt={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},kt=document.createElement("p").style;for(var wt in gt)if(wt+"Transform"in kt){dt=wt,pt=gt[wt];break}"Webkit"===dt&&"msHyphens"in kt&&(dt="ms",pt=gt.ms,mt="edge"),"Webkit"===dt&&"-apple-trailing-word"in kt&&(vt="apple")}var bt=dt,xt=pt,_t=vt,St=mt,Et=yt;var Tt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===bt?"-webkit-"+e:xt+e)}},It={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===bt?xt+"print-"+e:e)}},Ct=/[-\s]+(.)?/g;function Nt(e,t){return t?t.toUpperCase():""}function Ot(e){return e.replace(Ct,Nt)}function At(e){return Ot("-"+e)}var Pt,Rt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===bt){var n="mask-image";if(Ot(n)in t)return e;if(bt+At(n)in t)return xt+e}return e}},Dt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==_t||Et?e:xt+e)}},Mt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:xt+e)}},Lt={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:xt+e)}},Ft={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===bt||"ms"===bt&&"edge"!==St?xt+e:e)}},jt={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===bt||"ms"===bt||"apple"===_t?xt+e:e)}},Ut={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===bt?"WebkitColumn"+At(e)in t&&xt+"column-"+e:"Moz"===bt&&("page"+At(e)in t&&"page-"+e))}},Vt={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===bt)return e;var n=e.replace("-inline","");return bt+At(n)in t&&xt+n}},Zt={supportedProperty:function(e,t){return Ot(e)in t&&e}},Bt={supportedProperty:function(e,t){var n=At(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:bt+n in t?xt+e:"Webkit"!==bt&&"Webkit"+n in t&&"-webkit-"+e}},qt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===bt?""+xt+e:e)}},zt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===bt?xt+"scroll-chaining":e)}},Wt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Ht={supportedProperty:function(e,t){var n=Wt[e];return!!n&&(bt+At(n)in t&&xt+n)}},Gt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Yt=Object.keys(Gt),Kt=function(e){return xt+e},Qt={supportedProperty:function(e,t,n){var r=n.multiple;if(Yt.indexOf(e)>-1){var i=Gt[e];if(!Array.isArray(i))return bt+At(i)in t&&xt+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(bt+At(i[0])in t))return!1;return i.map(Kt)}return!1}},$t=[Tt,It,Rt,Dt,Mt,Lt,Ft,jt,Ut,Vt,Zt,Bt,qt,zt,Ht,Qt],Jt=$t.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Xt=$t.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,ht.Z)(t.noPrefill)),e}),[]),en={};if(v){Pt=document.createElement("p");var tn=window.getComputedStyle(document.documentElement,"");for(var nn in tn)isNaN(nn)||(en[tn[nn]]=tn[nn]);Xt.forEach((function(e){return delete en[e]}))}function rn(e,t){if(void 0===t&&(t={}),!Pt)return e;if(null!=en[e])return en[e];"transition"!==e&&"transform"!==e||(t[e]=e in Pt.style);for(var n=0;n<Jt.length&&(en[e]=Jt[n](e,Pt.style,t),!en[e]);n++);try{Pt.style[e]=""}catch(r){return!1}return en[e]}var an,on={},sn={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},un=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function cn(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?rn(t):", "+rn(n);return r||(t||n)}function ln(e,t){var n=t;if(!an||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=on[r])return on[r];try{an.style[e]=n}catch(i){return on[r]=!1,!1}if(sn[e])n=n.replace(un,cn);else if(""===an.style[e]&&("-ms-flex"===(n=xt+n)&&(an.style[e]="-ms-flexbox"),an.style[e]=n,""===an.style[e]))return on[r]=!1,!1;return an.style[e]="",on[r]=n,on[r]}v&&(an=document.createElement("p"));var fn=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=rn(n);a&&a!==n&&(i=!0);var o=!1,s=ln(a,_(r));s&&s!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===bt?e:"@"+xt+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return ln(t,_(e))||e}}};var hn=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var dn=Ie({plugins:[Ve(),Ge(),$e(),it(),ft(),"undefined"===typeof window?null:fn(),hn()]}),pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,s=""===o?"":"".concat(o,"-"),u=0,c=function(){return u+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Le.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[Me]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(s).concat(i).concat(c())}}(),vn={disableGeneration:!1,generateClassName:pn,jss:dn,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},mn=s.createContext(vn);var yn=-1e9;function gn(){return yn+=1}var kn=n(1002);function wn(e){return e&&"object"===(0,kn.Z)(e)&&e.constructor===Object}function bn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?(0,o.Z)({},e):e;return wn(e)&&wn(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(wn(t[i])&&i in e?r[i]=bn(e[i],t[i],n):r[i]=t[i])})),r}function xn(e){var t="function"===typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(u){throw u}if(!r||!n.overrides||!n.overrides[r])return i;var a=n.overrides[r],s=(0,o.Z)({},i);return Object.keys(a).forEach((function(e){s[e]=bn(s[e],a[e])})),s},options:{}}}var _n={};function Sn(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Oe({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function En(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,a=e.stylesCreator,s=e.name;if(!i.disableGeneration){var u=Pe.get(i.sheetsManager,a,r);u||(u={refs:0,staticSheet:null,dynamicStyles:null},Pe.set(i.sheetsManager,a,r,u));var c=(0,o.Z)({},a.options,i,{theme:r,flip:"boolean"===typeof i.flip?i.flip:"rtl"===r.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var l=i.sheetsRegistry;if(0===u.refs){var f;i.sheetsCache&&(f=Pe.get(i.sheetsCache,a,r));var h=a.create(r,s);f||((f=i.jss.createStyleSheet(h,(0,o.Z)({link:!1},c))).attach(),i.sheetsCache&&Pe.set(i.sheetsCache,a,r,f)),l&&l.add(f),u.staticSheet=f,u.dynamicStyles=Ne(h)}if(u.dynamicStyles){var d=i.jss.createStyleSheet(u.dynamicStyles,(0,o.Z)({link:!0},c));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=Oe({baseClasses:u.staticSheet.classes,newClasses:d.classes}),l&&l.add(d)}else n.classes=u.staticSheet.classes;u.refs+=1}}function Tn(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function In(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Pe.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Pe.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function Cn(e,t){var n,r=s.useRef([]),i=s.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),s.useEffect((function(){return function(){n&&n()}}),[i])}function Nn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,r=t.classNamePrefix,i=t.Component,a=t.defaultTheme,u=void 0===a?_n:a,l=c(t,["name","classNamePrefix","Component","defaultTheme"]),f=xn(e),h=n||r||"makeStyles";f.options={index:gn(),name:n,meta:h,classNamePrefix:h};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=De()||u,r=(0,o.Z)({},s.useContext(mn),l),a=s.useRef(),c=s.useRef();Cn((function(){var i={name:n,state:{},stylesCreator:f,stylesOptions:r,theme:t};return En(i,e),c.current=!1,a.current=i,function(){In(i)}}),[t,f]),s.useEffect((function(){c.current&&Tn(a.current,e),c.current=!0}));var h=Sn(a.current,e.classes,i);return h};return d}function On(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}var An=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=t.defaultTheme,i=t.withTheme,a=void 0!==i&&i,u=t.name,l=c(t,["defaultTheme","withTheme","name"]);var f=u,h=Nn(e,(0,o.Z)({defaultTheme:r,Component:n,name:u||n.displayName,classNamePrefix:f},l)),p=s.forwardRef((function(e,t){e.classes;var i,l=e.innerRef,f=c(e,["classes","innerRef"]),d=h((0,o.Z)({},n.defaultProps,e)),p=f;return("string"===typeof u||a)&&(i=De()||r,u&&(p=On({theme:i,name:u,props:f})),a&&!p.theme&&(p.theme=i)),s.createElement(n,(0,o.Z)({ref:l||t,classes:d},p))}));return d()(p,n),p}},Pn=["xs","sm","md","lg","xl"];function Rn(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,s=void 0===a?5:a,u=c(e,["values","unit","step"]);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function f(e,t){var r=Pn.indexOf(t);return r===Pn.length-1?l(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[Pn[r+1]]?n[Pn[r+1]]:t)-s/100).concat(i,")")}return(0,o.Z)({keys:Pn,values:n,up:l,down:function(e){var t=Pn.indexOf(e)+1,r=n[Pn[t]];return t===Pn.length?l("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-s/100).concat(i,")")},between:f,only:function(e){return f(e,e)},width:function(e){return n[e]}},u)}var Dn=n(4942);function Mn(e,t,n){var r;return(0,o.Z)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),(0,o.Z)({paddingLeft:t(2),paddingRight:t(2)},n,(0,Dn.Z)({},e.up("sm"),(0,o.Z)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},(0,Dn.Z)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,Dn.Z)(r,e.up("sm"),{minHeight:64}),r)},n)}var Ln={black:"#000",white:"#fff"},Fn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},jn={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},Un={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Vn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Zn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Bn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},qn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function zn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Wn(e){if(e.type)return e;if("#"===e.charAt(0))return Wn(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(r(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function Hn(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function Gn(e){var t="hsl"===(e=Wn(e)).type?Wn(function(e){var t=(e=Wn(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),Hn({type:s,values:u})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Yn(e,t){if(e=Wn(e),t=zn(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Hn(e)}function Kn(e,t){if(e=Wn(e),t=zn(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return Hn(e)}var Qn={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ln.white,default:Fn[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},$n={text:{primary:Ln.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:Fn[800],default:"#303030"},action:{active:Ln.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Jn(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Kn(e.main,i):"dark"===t&&(e.dark=Yn(e.main,a)))}function Xn(e){var t=e.primary,n=void 0===t?{light:jn[300],main:jn[500],dark:jn[700]}:t,i=e.secondary,a=void 0===i?{light:Un.A200,main:Un.A400,dark:Un.A700}:i,s=e.error,u=void 0===s?{light:Vn[300],main:Vn[500],dark:Vn[700]}:s,l=e.warning,f=void 0===l?{light:Zn[300],main:Zn[500],dark:Zn[700]}:l,h=e.info,d=void 0===h?{light:Bn[300],main:Bn[500],dark:Bn[700]}:h,p=e.success,v=void 0===p?{light:qn[300],main:qn[500],dark:qn[700]}:p,m=e.type,y=void 0===m?"light":m,g=e.contrastThreshold,k=void 0===g?3:g,w=e.tonalOffset,b=void 0===w?.2:w,x=c(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function _(e){var t=function(e,t){var n=Gn(e),r=Gn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,$n.text.primary)>=k?$n.text.primary:Qn.text.primary;return t}var S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,o.Z)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(r(4,t));if("string"!==typeof e.main)throw new Error(r(5,JSON.stringify(e.main)));return Jn(e,"light",n,b),Jn(e,"dark",i,b),e.contrastText||(e.contrastText=_(e.main)),e},E={dark:$n,light:Qn};return bn((0,o.Z)({common:Ln,type:y,primary:S(n),secondary:S(a,"A400","A200","A700"),error:S(u),warning:S(f),info:S(d),success:S(v),grey:Fn,contrastThreshold:k,getContrastText:_,augmentColor:S,tonalOffset:b},E[y]),x)}function er(e){return Math.round(1e5*e)/1e5}function tr(e){return er(e)}var nr={textTransform:"uppercase"},rr='"Roboto", "Helvetica", "Arial", sans-serif';function ir(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?rr:r,a=n.fontSize,s=void 0===a?14:a,u=n.fontWeightLight,l=void 0===u?300:u,f=n.fontWeightRegular,h=void 0===f?400:f,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,g=void 0===y?16:y,k=n.allVariants,w=n.pxToRem,b=c(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var x=s/14,_=w||function(e){return"".concat(e/g*x,"rem")},S=function(e,t,n,r,a){return(0,o.Z)({fontFamily:i,fontWeight:e,fontSize:_(t),lineHeight:n},i===rr?{letterSpacing:"".concat(er(r/t),"em")}:{},a,k)},E={h1:S(l,96,1.167,-1.5),h2:S(l,60,1.2,-.5),h3:S(h,48,1.167,0),h4:S(h,34,1.235,.25),h5:S(h,24,1.334,0),h6:S(p,20,1.6,.15),subtitle1:S(h,16,1.75,.15),subtitle2:S(p,14,1.57,.1),body1:S(h,16,1.5,.15),body2:S(h,14,1.43,.15),button:S(p,14,1.75,.4,nr),caption:S(h,12,1.66,.4),overline:S(h,12,2.66,1,nr)};return bn((0,o.Z)({htmlFontSize:g,pxToRem:_,round:tr,fontFamily:i,fontSize:s,fontWeightLight:l,fontWeightRegular:h,fontWeightMedium:p,fontWeightBold:m},E),b,{clone:!1})}function ar(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var or=["none",ar(0,2,1,-1,0,1,1,0,0,1,3,0),ar(0,3,1,-2,0,2,2,0,0,1,5,0),ar(0,3,3,-2,0,3,4,0,0,1,8,0),ar(0,2,4,-1,0,4,5,0,0,1,10,0),ar(0,3,5,-1,0,5,8,0,0,1,14,0),ar(0,3,5,-1,0,6,10,0,0,1,18,0),ar(0,4,5,-2,0,7,10,1,0,2,16,1),ar(0,5,5,-3,0,8,10,1,0,3,14,2),ar(0,5,6,-3,0,9,12,1,0,3,16,2),ar(0,6,6,-3,0,10,14,1,0,4,18,3),ar(0,6,7,-4,0,11,15,1,0,4,20,3),ar(0,7,8,-4,0,12,17,2,0,5,22,4),ar(0,7,8,-4,0,13,19,2,0,5,24,4),ar(0,7,9,-4,0,14,21,2,0,5,26,4),ar(0,8,9,-5,0,15,22,2,0,6,28,5),ar(0,8,10,-5,0,16,24,2,0,6,30,5),ar(0,8,11,-5,0,17,26,2,0,6,32,5),ar(0,9,11,-5,0,18,28,2,0,7,34,6),ar(0,9,12,-6,0,19,29,2,0,7,36,6),ar(0,10,13,-6,0,20,31,3,0,8,38,7),ar(0,10,13,-6,0,21,33,3,0,8,40,7),ar(0,10,14,-6,0,22,35,3,0,8,42,7),ar(0,11,14,-7,0,23,36,3,0,9,44,8),ar(0,11,15,-7,0,24,38,3,0,9,46,8)],sr={borderRadius:4},ur=n(9439),cr={xs:0,sm:600,md:960,lg:1280,xl:1920},lr={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(cr[e],"px)")}};var fr=function(e,t){return t?bn(e,t,{clone:!1}):e};var hr={m:"margin",p:"padding"},dr={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},pr={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},vr=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!pr[e])return[e];e=pr[e]}var t=e.split(""),n=(0,ur.Z)(t,2),r=n[0],i=n[1],a=hr[r],o=dr[i]||"";return Array.isArray(o)?o.map((function(e){return a+e})):[a+o]})),mr=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function yr(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function gr(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function kr(e){var t=yr(e.theme);return Object.keys(e).map((function(n){if(-1===mr.indexOf(n))return null;var r=gr(vr(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||lr;return t.reduce((function(e,i,a){return e[r.up(r.keys[a])]=n(t[a]),e}),{})}if("object"===(0,kn.Z)(t)){var i=e.theme.breakpoints||lr;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(fr,{})}kr.propTypes={},kr.filterProps=mr;function wr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=yr({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var br={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},xr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function _r(e){return"".concat(Math.round(e),"ms")}var Sr={easing:br,duration:xr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?xr.standard:n,i=t.easing,a=void 0===i?br.easeInOut:i,o=t.delay,s=void 0===o?0:o;c(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:_r(r)," ").concat(a," ").concat("string"===typeof s?s:_r(s))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},Er={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Tr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,i=void 0===r?{}:r,a=e.palette,o=void 0===a?{}:a,s=e.spacing,u=e.typography,l=void 0===u?{}:u,f=c(e,["breakpoints","mixins","palette","spacing","typography"]),h=Xn(o),d=Rn(n),p=wr(s),v=bn({breakpoints:d,direction:"ltr",mixins:Mn(d,p,i),overrides:{},palette:h,props:{},shadows:or,typography:ir(h,l),spacing:p,shape:sr,transitions:Sr,zIndex:Er},f),m=arguments.length,y=new Array(m>1?m-1:0),g=1;g<m;g++)y[g-1]=arguments[g];return v=y.reduce((function(e,t){return bn(e,t)}),v)}var Ir=Tr();var Cr=function(e,t){return An(e,(0,o.Z)({defaultTheme:Ir},t))},Nr=s.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.className,u=e.color,l=void 0===u?"inherit":u,h=e.component,d=void 0===h?"svg":h,p=e.fontSize,v=void 0===p?"medium":p,m=e.htmlColor,y=e.titleAccess,g=e.viewBox,k=void 0===g?"0 0 24 24":g,w=c(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return s.createElement(d,(0,o.Z)({className:f(r.root,a,"inherit"!==l&&r["color".concat(i(l))],"default"!==v&&"medium"!==v&&r["fontSize".concat(i(v))]),focusable:"false",viewBox:k,color:m,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},w),n,y?s.createElement("title",null,y):null)}));Nr.muiName="SvgIcon";var Or=Cr((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(Nr);function Ar(e,t){var n=function(t,n){return s.createElement(Or,(0,o.Z)({ref:n},t),e)};return n.muiName=Or.muiName,s.memo(s.forwardRef(n))}function Pr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this,s=function(){e.apply(o,i)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}function Rr(e,t){return function(){return null}}function Dr(e,t){return s.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}function Mr(e){return e&&e.ownerDocument||document}function Lr(e){return Mr(e).defaultView||window}function Fr(e){return function(){return null}}function jr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Ur(e,t,n,r,i){return null}function Vr(e){var t=e.controlled,n=e.default,r=(e.name,e.state,s.useRef(void 0!==t).current),i=s.useState(n),a=i[0],o=i[1];return[r?t:a,s.useCallback((function(e){r||o(e)}),[])]}var Zr="undefined"!==typeof window?s.useLayoutEffect:s.useEffect;function Br(e){var t=s.useRef(e);return Zr((function(){t.current=e})),s.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}function qr(e,t){return s.useMemo((function(){return null==e&&null==t?null:function(n){jr(e,n),jr(t,n)}}),[e,t])}function zr(e){var t=s.useState(e),n=t[0],r=t[1],i=e||n;return s.useEffect((function(){null==n&&r("mui-".concat(Math.round(1e5*Math.random())))}),[n]),i}var Wr=n(4164),Hr=!0,Gr=!1,Yr=null,Kr={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Qr(e){e.metaKey||e.altKey||e.ctrlKey||(Hr=!0)}function $r(){Hr=!1}function Jr(){"hidden"===this.visibilityState&&Gr&&(Hr=!0)}function Xr(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return Hr||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!Kr[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function ei(){Gr=!0,window.clearTimeout(Yr),Yr=window.setTimeout((function(){Gr=!1}),100)}function ti(){return{isFocusVisible:Xr,onBlurVisible:ei,ref:s.useCallback((function(e){var t,n=Wr.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",Qr,!0),t.addEventListener("mousedown",$r,!0),t.addEventListener("pointerdown",$r,!0),t.addEventListener("touchstart",$r,!0),t.addEventListener("visibilitychange",Jr,!0))}),[])}}},3880:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},6208:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M17.21 9l-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),"ShoppingBasket");t.Z=o},4894:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(4399)},5764:function(e,t,n){!function(e,t){"use strict";function n(e,t){return e(t={exports:{}},t.exports),t.exports}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function i(){}function a(){}a.resetWarningCache=i;var o=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n},s=n((function(e){e.exports=o()}));function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){return d(e)||p(e,t)||v(e,t)||y()}function d(e){if(Array.isArray(e))return e}function p(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}function v(e,t){if(e){if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var g=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},k=function(e){return null!==e&&"object"===u(e)},w=function(e){return k(e)&&"function"===typeof e.then},b=function(e){return k(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},x="[object Object]",_=function e(t,n){if(!k(t)||!k(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var i=Object.prototype.toString.call(t)===x;if(i!==(Object.prototype.toString.call(n)===x))return!1;if(!i&&!r)return t===n;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(var s={},u=0;u<a.length;u+=1)s[a[u]]=!0;for(var c=0;c<o.length;c+=1)s[o[c]]=!0;var l=Object.keys(s);if(l.length!==a.length)return!1;var f=t,h=n,d=function(t){return e(f[t],h[t])};return l.every(d)},S=function(e,t,n){return k(e)?Object.keys(e).reduce((function(r,i){var a=!k(t)||!_(e[i],t[i]);return n.includes(i)?(a&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),r):a?f(f({},r||{}),{},c({},i,e[i])):r}),null):null},E="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",T=function(e){if(null===e||b(e))return e;throw new Error(E)},I=function(e){if(w(e))return{tag:"async",stripePromise:Promise.resolve(e).then(T)};var t=T(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},C=t.createContext(null);C.displayName="ElementsContext";var N=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},O=function(e){var n=e.stripe,r=e.options,i=e.children,a=t.useRef(!1),o=t.useRef(!0),s=t.useMemo((function(){return I(n)}),[n]),u=h(t.useState((function(){return{stripe:null,elements:null}})),2),c=u[0],l=u[1],f=g(n);null!==f&&f!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it."),a.current||("sync"===s.tag&&(a.current=!0,l({stripe:s.stripe,elements:s.stripe.elements(r)})),"async"===s.tag&&(a.current=!0,s.stripePromise.then((function(e){e&&o.current&&l({stripe:e,elements:e.elements(r)})}))));var d=g(r);return t.useEffect((function(){if(c.elements){var e=S(r,d,["clientSecret","fonts"]);e&&c.elements.update(e)}}),[r,d,c.elements]),t.useEffect((function(){return function(){o.current=!1}}),[]),t.useEffect((function(){var e=c.stripe;e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"1.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"1.7.0",url:"https://stripe.com/docs/stripe-js/react"}))}),[c.stripe]),t.createElement(C.Provider,{value:c},i)};O.propTypes={stripe:s.any,options:s.object};var A=function(e){var n=t.useContext(C);return N(n,e)},P=function(){return A("calls useElements()").elements},R=function(){return A("calls useStripe()").stripe},D=function(e){return(0,e.children)(A("mounts <ElementsConsumer>"))};D.propTypes={children:s.func.isRequired};var M=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),function(){n.current&&n.current.apply(n,arguments)}},L=function(){},F=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},j=function(e,n){var r="".concat(F(e),"Element"),i=n?function(e){A("mounts <".concat(r,">"));var n=e.id,i=e.className;return t.createElement("div",{id:n,className:i})}:function(n){var i=n.id,a=n.className,o=n.options,s=void 0===o?{}:o,u=n.onBlur,c=void 0===u?L:u,l=n.onFocus,f=void 0===l?L:l,h=n.onReady,d=void 0===h?L:h,p=n.onChange,v=void 0===p?L:p,m=n.onEscape,y=void 0===m?L:m,k=n.onClick,w=void 0===k?L:k,b=A("mounts <".concat(r,">")).elements,x=t.useRef(null),_=t.useRef(null),E=M(d),T=M(c),I=M(f),C=M(w),N=M(v),O=M(y);t.useLayoutEffect((function(){if(null==x.current&&b&&null!=_.current){var t=b.create(e,s);x.current=t,t.mount(_.current),t.on("ready",(function(){return E(t)})),t.on("change",N),t.on("blur",T),t.on("focus",I),t.on("escape",O),t.on("click",C)}}));var P=g(s);return t.useEffect((function(){if(x.current){var e=S(s,P,["paymentRequest"]);e&&x.current.update(e)}}),[s,P]),t.useLayoutEffect((function(){return function(){x.current&&x.current.destroy()}}),[]),t.createElement("div",{id:i,className:a,ref:_})};return i.propTypes={id:s.string,className:s.string,onChange:s.func,onBlur:s.func,onFocus:s.func,onReady:s.func,onClick:s.func,options:s.object},i.displayName=r,i.__elementType=e,i},U="undefined"===typeof window,V=j("auBankAccount",U),Z=j("card",U),B=j("cardNumber",U),q=j("cardExpiry",U),z=j("cardCvc",U),W=j("fpxBank",U),H=j("iban",U),G=j("idealBank",U),Y=j("p24Bank",U),K=j("epsBank",U),Q=j("payment",U),$=j("paymentRequestButton",U),J=j("linkAuthentication",U),X=j("shippingAddress",U),ee=j("affirmMessage",U),te=j("afterpayClearpayMessage",U);e.AffirmMessageElement=ee,e.AfterpayClearpayMessageElement=te,e.AuBankAccountElement=V,e.CardCvcElement=z,e.CardElement=Z,e.CardExpiryElement=q,e.CardNumberElement=B,e.Elements=O,e.ElementsConsumer=D,e.EpsBankElement=K,e.FpxBankElement=W,e.IbanElement=H,e.IdealBankElement=G,e.LinkAuthenticationElement=J,e.P24BankElement=Y,e.PaymentElement=Q,e.PaymentRequestButtonElement=$,e.ShippingAddressElement=X,e.useElements=P,e.useStripe=R,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(2791))},4569:function(e,t,n){e.exports=n(8036)},4232:function(e,t,n){"use strict";var r=n(3589),i=n(7297),a=n(9301),o=n(9774),s=n(1804),u=n(9145),c=n(5411),l=n(6467),f=n(221),h=n(9346);e.exports=function(e){return new Promise((function(t,n){var d,p=e.data,v=e.headers,m=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}r.isFormData(p)&&delete v["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var k=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(k+":"+w)}var b=s(e.baseURL,e.url);function x(){if(g){var r="getAllResponseHeaders"in g?u(g.getAllResponseHeaders()):null,a={data:m&&"text"!==m&&"json"!==m?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g};i((function(e){t(e),y()}),(function(e){n(e),y()}),a),g=null}}if(g.open(e.method.toUpperCase(),o(b,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=x:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(x)},g.onabort=function(){g&&(n(l("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){n(l("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},r.isStandardBrowserEnv()){var _=(e.withCredentials||c(b))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;_&&(v[e.xsrfHeaderName]=_)}"setRequestHeader"in g&&r.forEach(v,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete v[t]:g.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),m&&"json"!==m&&(g.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(d=function(e){g&&(n(!e||e&&e.type?new h("canceled"):e),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d))),p||(p=null),g.send(p)}))}},8036:function(e,t,n){"use strict";var r=n(3589),i=n(4049),a=n(3773),o=n(777);var s=function e(t){var n=new a(t),s=i(a.prototype.request,n);return r.extend(s,a.prototype,n),r.extend(s,n),s.create=function(n){return e(o(t,n))},s}(n(221));s.Axios=a,s.Cancel=n(9346),s.CancelToken=n(6857),s.isCancel=n(5517),s.VERSION=n(7600).version,s.all=function(e){return Promise.all(e)},s.spread=n(8089),s.isAxiosError=n(9580),e.exports=s,e.exports.default=s},9346:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},6857:function(e,t,n){"use strict";var r=n(9346);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,n){"use strict";var r=n(3589),i=n(9774),a=n(7470),o=n(2733),s=n(777),u=n(7835),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new a,response:new a}}l.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var a,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!i){var f=[o,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(l),a=Promise.resolve(t);f.length;)a=a.then(f.shift(),f.shift());return a}for(var h=t;r.length;){var d=r.shift(),p=r.shift();try{h=d(h)}catch(v){p(v);break}}try{a=o(h)}catch(v){return Promise.reject(v)}for(;l.length;)a=a.then(l.shift(),l.shift());return a},l.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},7470:function(e,t,n){"use strict";var r=n(3589);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},1804:function(e,t,n){"use strict";var r=n(4044),i=n(9549);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},6467:function(e,t,n){"use strict";var r=n(6460);e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},2733:function(e,t,n){"use strict";var r=n(3589),i=n(2693),a=n(5517),o=n(221),s=n(9346);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},6460:function(e){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},777:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)})),n}},7297:function(e,t,n){"use strict";var r=n(6467);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},2693:function(e,t,n){"use strict";var r=n(3589),i=n(221);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},221:function(e,t,n){"use strict";var r=n(3589),i=n(4341),a=n(6460),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(4232)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o){if("SyntaxError"===s.name)throw a(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(o)})),e.exports=u},7600:function(e){e.exports={version:"0.26.0"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9774:function(e,t,n){"use strict";var r=n(3589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},9580:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},5411:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4341:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},9145:function(e,t,n){"use strict";var r=n(3589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7835:function(e,t,n){"use strict";var r=n(7600).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!a[r]&&(a[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new TypeError("option "+a+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+a)}},validators:i}},3589:function(e,t,n){"use strict";var r=n(4049),i=Object.prototype.toString;function a(e){return Array.isArray(e)}function o(e){return"undefined"===typeof e}function s(e){return"[object ArrayBuffer]"===i.call(e)}function u(e){return null!==e&&"object"===typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function f(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:s,isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:u,isPlainObject:c,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return u(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:f,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):a(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)f(arguments[r],n);return t},extend:function(e,t,n){return f(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return b(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||b(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===v},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===w||e.$$typeof===y)},t.typeOf=b},8309:function(e,t,n){"use strict";e.exports=n(746)},2426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function d(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Gn(e,t,n,r,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(e){return null==e._pf&&(e._pf=v()),e._pf}function y(e){if(null==e._isValid){var t=m(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function g(e){var t=p(NaN);return null!=e?d(m(t),e):m(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var k=r.momentProperties=[],w=!1;function b(e,t){var n,r,i;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=m(t)),c(t._locale)||(e._locale=t._locale),k.length>0)for(n=0;n<k.length;n++)c(i=t[r=k[n]])||(e[r]=i);return e}function x(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,r.updateOffset(this),w=!1)}function _(e){return e instanceof x||null!=e&&null!=e._isAMomentObject}function S(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,t){var n=!0;return d((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,a,o,u=[];for(a=0;a<arguments.length;a++){if(i="","object"===typeof arguments[a]){for(o in i+="\n["+a+"] ",arguments[0])s(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];u.push(i)}S(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var T,I={};function C(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),I[e]||(S(t),I[e]=!0)}function N(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function O(e){var t,n;for(n in e)s(e,n)&&(N(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function A(e,t){var n,r=d({},e);for(n in t)s(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&o(e[n])&&(r[n]=d({},r[n]));return r}function P(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,T=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var R={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function D(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return N(r)?r.call(t,n):r}function M(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,j={},U={};function V(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(U[e]=i),t&&(U[t[0]]=function(){return M(i.apply(this,arguments),t[1],t[2])}),n&&(U[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function B(e){var t,n,r=e.match(L);for(t=0,n=r.length;t<n;t++)U[r[t]]?r[t]=U[r[t]]:r[t]=Z(r[t]);return function(t){var i,a="";for(i=0;i<n;i++)a+=N(r[i])?r[i].call(t,e):r[i];return a}}function q(e,t){return e.isValid()?(t=z(t,e.localeData()),j[t]=j[t]||B(t),j[t](e)):e.localeData().invalidDate()}function z(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(F.lastIndex=0;n>=0&&F.test(e);)e=e.replace(F,r),F.lastIndex=0,n-=1;return e}var W={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function H(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(L).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var G="Invalid date";function Y(){return this._invalidDate}var K="%d",Q=/\d{1,2}/;function $(e){return this._ordinal.replace("%d",e)}var J={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function X(e,t,n,r){var i=this._relativeTime[n];return N(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return N(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)s(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var ae={};function oe(e,t){ae[e]=t}function se(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:ae[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function ue(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function le(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function fe(e,t){return function(n){return null!=n?(de(this,e,n),r.updateOffset(this,t),this):he(this,e)}}function he(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function de(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ue(e.year())&&1===e.month()&&29===e.date()?(n=le(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Xe(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return N(this[e=re(e)])?this[e]():this}function ve(e,t){if("object"===typeof e){var n,r=se(e=ie(e));for(n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit])}else if(N(this[e=re(e)]))return this[e](t);return this}var me,ye=/\d/,ge=/\d\d/,ke=/\d{3}/,we=/\d{4}/,be=/[+-]?\d{6}/,xe=/\d\d?/,_e=/\d\d\d\d?/,Se=/\d\d\d\d\d\d?/,Ee=/\d{1,3}/,Te=/\d{1,4}/,Ie=/[+-]?\d{1,6}/,Ce=/\d+/,Ne=/[+-]?\d+/,Oe=/Z|[+-]\d\d:?\d\d/gi,Ae=/Z|[+-]\d\d(?::?\d\d)?/gi,Pe=/[+-]?\d+(\.\d{1,3})?/,Re=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function De(e,t,n){me[e]=N(t)?t:function(e,r){return e&&n?n:t}}function Me(e,t){return s(me,e)?me[e](t._strict,t._locale):new RegExp(Le(e))}function Le(e){return Fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}me={};var je={};function Ue(e,t){var n,r=t;for("string"===typeof e&&(e=[e]),l(t)&&(r=function(e,n){n[t]=le(e)}),n=0;n<e.length;n++)je[e[n]]=r}function Ve(e,t){Ue(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function Ze(e,t,n){null!=t&&s(je,e)&&je[e](t,n._a,n,e)}var Be,qe=0,ze=1,We=2,He=3,Ge=4,Ye=5,Ke=6,Qe=7,$e=8;function Je(e,t){return(e%t+t)%t}function Xe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Je(t,12);return e+=(t-n)/12,1===n?ue(e)?29:28:31-n%7%2}Be=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),V("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),oe("month",8),De("M",xe),De("MM",xe,ge),De("MMM",(function(e,t){return t.monthsShortRegex(e)})),De("MMMM",(function(e,t){return t.monthsRegex(e)})),Ue(["M","MM"],(function(e,t){t[ze]=le(e)-1})),Ue(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[ze]=i:m(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Re,it=Re;function at(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}function ot(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Be.call(this._shortMonthsParse,o))?i:null:-1!==(i=Be.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=Be.call(this._shortMonthsParse,o))||-1!==(i=Be.call(this._longMonthsParse,o))?i:null:-1!==(i=Be.call(this._longMonthsParse,o))||-1!==(i=Be.call(this._shortMonthsParse,o))?i:null}function ut(e,t,n){var r,i,a;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ct(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=le(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Xe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function lt(e){return null!=e?(ct(this,e),r.updateOffset(this,!0),this):he(this,"Month")}function ft(){return Xe(this.year(),this.month())}function ht(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function dt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=Fe(r[t]),i[t]=Fe(i[t]);for(t=0;t<24;t++)a[t]=Fe(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function vt(e){return ue(e)?366:365}V("Y",0,0,(function(){var e=this.year();return e<=9999?M(e,4):"+"+e})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),oe("year",1),De("Y",Ne),De("YY",xe,ge),De("YYYY",Te,we),De("YYYYY",Ie,be),De("YYYYYY",Ie,be),Ue(["YYYYY","YYYYYY"],qe),Ue("YYYY",(function(e,t){t[qe]=2===e.length?r.parseTwoDigitYear(e):le(e)})),Ue("YY",(function(e,t){t[qe]=r.parseTwoDigitYear(e)})),Ue("Y",(function(e,t){t[qe]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return le(e)+(le(e)>68?1900:2e3)};var mt=fe("FullYear",!0);function yt(){return ue(this.year())}function gt(e,t,n,r,i,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,a,o),s}function kt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function wt(e,t,n){var r=7+t-n;return-(7+kt(e,0,r).getUTCDay()-t)%7+r-1}function bt(e,t,n,r,i){var a,o,s=1+7*(t-1)+(7+n-r)%7+wt(e,r,i);return s<=0?o=vt(a=e-1)+s:s>vt(e)?(a=e+1,o=s-vt(e)):(a=e,o=s),{year:a,dayOfYear:o}}function xt(e,t,n){var r,i,a=wt(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?r=o+_t(i=e.year()-1,t,n):o>_t(e.year(),t,n)?(r=o-_t(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function _t(e,t,n){var r=wt(e,t,n),i=wt(e+1,t,n);return(vt(e)-r+i)/7}function St(e){return xt(e,this._week.dow,this._week.doy).week}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),oe("week",5),oe("isoWeek",5),De("w",xe),De("ww",xe,ge),De("W",xe),De("WW",xe,ge),Ve(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=le(e)}));var Et={dow:0,doy:6};function Tt(){return this._week.dow}function It(){return this._week.doy}function Ct(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Nt(e){var t=xt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ot(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function At(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Pt(e,t){return e.slice(t,7).concat(e.slice(0,t))}V("d",0,"do","day"),V("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),V("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),V("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),oe("day",11),oe("weekday",11),oe("isoWeekday",11),De("d",xe),De("e",xe),De("E",xe),De("dd",(function(e,t){return t.weekdaysMinRegex(e)})),De("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),De("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ve(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:m(n).invalidWeekday=e})),Ve(["d","e","E"],(function(e,t,n,r){t[r]=le(e)}));var Rt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Dt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lt=Re,Ft=Re,jt=Re;function Ut(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Pt(n,this._week.dow):e?n[e.day()]:n}function Vt(e){return!0===e?Pt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Zt(e){return!0===e?Pt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Bt(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Be.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Be.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=Be.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=Be.call(this._weekdaysParse,o))||-1!==(i=Be.call(this._shortWeekdaysParse,o))||-1!==(i=Be.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Be.call(this._shortWeekdaysParse,o))||-1!==(i=Be.call(this._weekdaysParse,o))||-1!==(i=Be.call(this._minWeekdaysParse,o))?i:null:-1!==(i=Be.call(this._minWeekdaysParse,o))||-1!==(i=Be.call(this._weekdaysParse,o))||-1!==(i=Be.call(this._shortWeekdaysParse,o))?i:null}function qt(e,t,n){var r,i,a;if(this._weekdaysParseExact)return Bt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function zt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ot(e,this.localeData()),this.add(e-t,"d")):t}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ht(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=At(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Gt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Lt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Yt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ft),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Kt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=jt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qt(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],s=[],u=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=Fe(this.weekdaysMin(n,"")),i=Fe(this.weekdaysShort(n,"")),a=Fe(this.weekdays(n,"")),o.push(r),s.push(i),u.push(a),c.push(r),c.push(i),c.push(a);o.sort(e),s.sort(e),u.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function $t(){return this.hours()%12||12}function Jt(){return this.hours()||24}function Xt(e,t){V(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,$t),V("k",["kk",2],0,Jt),V("hmm",0,0,(function(){return""+$t.apply(this)+M(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+$t.apply(this)+M(this.minutes(),2)+M(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+M(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+M(this.minutes(),2)+M(this.seconds(),2)})),Xt("a",!0),Xt("A",!1),ne("hour","h"),oe("hour",13),De("a",en),De("A",en),De("H",xe),De("h",xe),De("k",xe),De("HH",xe,ge),De("hh",xe,ge),De("kk",xe,ge),De("hmm",_e),De("hmmss",Se),De("Hmm",_e),De("Hmmss",Se),Ue(["H","HH"],He),Ue(["k","kk"],(function(e,t,n){var r=le(e);t[He]=24===r?0:r})),Ue(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Ue(["h","hh"],(function(e,t,n){t[He]=le(e),m(n).bigHour=!0})),Ue("hmm",(function(e,t,n){var r=e.length-2;t[He]=le(e.substr(0,r)),t[Ge]=le(e.substr(r)),m(n).bigHour=!0})),Ue("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[He]=le(e.substr(0,r)),t[Ge]=le(e.substr(r,2)),t[Ye]=le(e.substr(i)),m(n).bigHour=!0})),Ue("Hmm",(function(e,t,n){var r=e.length-2;t[He]=le(e.substr(0,r)),t[Ge]=le(e.substr(r))})),Ue("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[He]=le(e.substr(0,r)),t[Ge]=le(e.substr(r,2)),t[Ye]=le(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=fe("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,sn={calendar:R,longDateFormat:W,invalidDate:G,ordinal:K,dayOfMonthOrdinalParse:Q,relativeTime:J,months:et,monthsShort:tt,week:Et,weekdays:Rt,weekdaysMin:Mt,weekdaysShort:Dt,meridiemParse:nn},un={},cn={};function ln(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function fn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,r,i,a=0;a<e.length;){for(t=(i=fn(e[a]).split("-")).length,n=(n=fn(e[a+1]))?n.split("-"):null;t>0;){if(r=dn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&ln(i,n)>=t-1)break;t--}a++}return on}function dn(t){var n=null;if(void 0===un[t]&&e&&e.exports)try{n=on._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),pn(n)}catch(r){un[t]=null}return un[t]}function pn(e,t){var n;return e&&((n=c(t)?yn(e):vn(e,t))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function vn(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=un[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[e]._config;else if(null!=t.parentLocale)if(null!=un[t.parentLocale])r=un[t.parentLocale]._config;else{if(null==(n=dn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return un[e]=new P(A(r,t)),cn[e]&&cn[e].forEach((function(e){vn(e.name,e.config)})),pn(e),un[e]}return delete un[e],null}function mn(e,t){if(null!=t){var n,r,i=sn;null!=un[e]&&null!=un[e].parentLocale?un[e].set(A(un[e]._config,t)):(null!=(r=dn(e))&&(i=r._config),t=A(i,t),null==r&&(t.abbr=e),(n=new P(t)).parentLocale=un[e],un[e]=n),pn(e)}else null!=un[e]&&(null!=un[e].parentLocale?(un[e]=un[e].parentLocale,e===pn()&&pn(e)):null!=un[e]&&delete un[e]);return un[e]}function yn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!a(e)){if(t=dn(e))return t;e=[e]}return hn(e)}function gn(){return T(un)}function kn(e){var t,n=e._a;return n&&-2===m(e).overflow&&(t=n[ze]<0||n[ze]>11?ze:n[We]<1||n[We]>Xe(n[qe],n[ze])?We:n[He]<0||n[He]>24||24===n[He]&&(0!==n[Ge]||0!==n[Ye]||0!==n[Ke])?He:n[Ge]<0||n[Ge]>59?Ge:n[Ye]<0||n[Ye]>59?Ye:n[Ke]<0||n[Ke]>999?Ke:-1,m(e)._overflowDayOfYear&&(t<qe||t>We)&&(t=We),m(e)._overflowWeeks&&-1===t&&(t=Qe),m(e)._overflowWeekday&&-1===t&&(t=$e),m(e).overflow=t),e}var wn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xn=/Z|[+-]\d\d(?::?\d\d)?/,_n=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Sn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],En=/^\/?Date\((-?\d+)/i,Tn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,In={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Cn(e){var t,n,r,i,a,o,s=e._i,u=wn.exec(s)||bn.exec(s);if(u){for(m(e).iso=!0,t=0,n=_n.length;t<n;t++)if(_n[t][1].exec(u[1])){i=_n[t][0],r=!1!==_n[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=Sn.length;t<n;t++)if(Sn[t][1].exec(u[3])){a=(u[2]||" ")+Sn[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(u[4]){if(!xn.exec(u[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),Vn(e)}else e._isValid=!1}function Nn(e,t,n,r,i,a){var o=[On(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function On(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function An(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Pn(e,t,n){return!e||Dt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Rn(e,t,n){if(e)return In[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Dn(e){var t,n=Tn.exec(An(e._i));if(n){if(t=Nn(n[4],n[3],n[2],n[5],n[6],n[7]),!Pn(n[1],t,e))return;e._a=t,e._tzm=Rn(n[8],n[9],n[10]),e._d=kt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function Mn(e){var t=En.exec(e._i);null===t?(Cn(e),!1===e._isValid&&(delete e._isValid,Dn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Ln(e,t,n){return null!=e?e:null!=t?t:n}function Fn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function jn(e){var t,n,r,i,a,o=[];if(!e._d){for(r=Fn(e),e._w&&null==e._a[We]&&null==e._a[ze]&&Un(e),null!=e._dayOfYear&&(a=Ln(e._a[qe],r[qe]),(e._dayOfYear>vt(a)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=kt(a,0,e._dayOfYear),e._a[ze]=n.getUTCMonth(),e._a[We]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[He]&&0===e._a[Ge]&&0===e._a[Ye]&&0===e._a[Ke]&&(e._nextDay=!0,e._a[He]=0),e._d=(e._useUTC?kt:gt).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[He]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(m(e).weekdayMismatch=!0)}}function Un(e){var t,n,r,i,a,o,s,u,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,n=Ln(t.GG,e._a[qe],xt(Yn(),1,4).year),r=Ln(t.W,1),((i=Ln(t.E,1))<1||i>7)&&(u=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,c=xt(Yn(),a,o),n=Ln(t.gg,e._a[qe],c.year),r=Ln(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(u=!0)):i=a),r<1||r>_t(n,a,o)?m(e)._overflowWeeks=!0:null!=u?m(e)._overflowWeekday=!0:(s=bt(n,r,i,a,o),e._a[qe]=s.year,e._dayOfYear=s.dayOfYear)}function Vn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],m(e).empty=!0;var t,n,i,a,o,s,u=""+e._i,c=u.length,l=0;for(i=z(e._f,e._locale).match(L)||[],t=0;t<i.length;t++)a=i[t],(n=(u.match(Me(a,e))||[])[0])&&((o=u.substr(0,u.indexOf(n))).length>0&&m(e).unusedInput.push(o),u=u.slice(u.indexOf(n)+n.length),l+=n.length),U[a]?(n?m(e).empty=!1:m(e).unusedTokens.push(a),Ze(a,n,e)):e._strict&&!n&&m(e).unusedTokens.push(a);m(e).charsLeftOver=c-l,u.length>0&&m(e).unusedInput.push(u),e._a[He]<=12&&!0===m(e).bigHour&&e._a[He]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[He]=Zn(e._locale,e._a[He],e._meridiem),null!==(s=m(e).era)&&(e._a[qe]=e._locale.erasConvertYear(s,e._a[qe])),jn(e),kn(e)}else Dn(e);else Cn(e)}function Zn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Bn(e){var t,n,r,i,a,o,s=!1;if(0===e._f.length)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)a=0,o=!1,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Vn(t),y(t)&&(o=!0),a+=m(t).charsLeftOver,a+=10*m(t).unusedTokens.length,m(t).score=a,s?a<r&&(r=a,n=t):(null==r||a<r||o)&&(r=a,n=t,o&&(s=!0));d(e,n||t)}function qn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),jn(e)}}function zn(e){var t=new x(kn(Wn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Wn(e){var t=e._i,n=e._f;return e._locale=e._locale||yn(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),_(t)?new x(kn(t)):(f(t)?e._d=t:a(n)?Bn(e):n?Vn(e):Hn(e),y(e)||(e._d=null),e))}function Hn(e){var t=e._i;c(t)?e._d=new Date(r.now()):f(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Mn(e):a(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),jn(e)):o(t)?qn(e):l(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Gn(e,t,n,r,i){var s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&u(e)||a(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,zn(s)}function Yn(e,t,n,r){return Gn(e,t,n,r,!1)}r.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Kn=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Yn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),Qn=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Yn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function $n(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Yn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Jn(){return $n("isBefore",[].slice.call(arguments,0))}function Xn(){return $n("isAfter",[].slice.call(arguments,0))}var er=function(){return Date.now?Date.now():+new Date},tr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function nr(e){var t,n,r=!1;for(t in e)if(s(e,t)&&(-1===Be.call(tr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<tr.length;++n)if(e[tr[n]]){if(r)return!1;parseFloat(e[tr[n]])!==le(e[tr[n]])&&(r=!0)}return!0}function rr(){return this._isValid}function ir(){return Ir(NaN)}function ar(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=nr(t),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=yn(),this._bubble()}function or(e){return e instanceof ar}function sr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function ur(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&le(e[r])!==le(t[r]))&&o++;return o+a}function cr(e,t){V(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+M(~~(e/60),2)+t+M(~~e%60,2)}))}cr("Z",":"),cr("ZZ",""),De("Z",Ae),De("ZZ",Ae),Ue(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=fr(Ae,e)}));var lr=/([\+\-]|\d\d)/gi;function fr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(lr)||["-",0,0])[1]+le(n[2]))?0:"+"===n[0]?r:-r}function hr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(_(e)||f(e)?e.valueOf():Yn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Yn(e).local()}function dr(e){return-Math.round(e._d.getTimezoneOffset())}function pr(e,t,n){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=fr(Ae,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=dr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Pr(this,Ir(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:dr(this)}function vr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function mr(e){return this.utcOffset(0,e)}function yr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(dr(this),"m")),this}function gr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=fr(Oe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function kr(e){return!!this.isValid()&&(e=e?Yn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function wr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function br(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return b(t,this),(t=Wn(t))._a?(e=t._isUTC?p(t._a):Yn(t._a),this._isDSTShifted=this.isValid()&&ur(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function xr(){return!!this.isValid()&&!this._isUTC}function _r(){return!!this.isValid()&&this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Er=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Tr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ir(e,t){var n,r,i,a=e,o=null;return or(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(o=Er.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:le(o[We])*n,h:le(o[He])*n,m:le(o[Ge])*n,s:le(o[Ye])*n,ms:le(sr(1e3*o[Ke]))*n}):(o=Tr.exec(e))?(n="-"===o[1]?-1:1,a={y:Cr(o[2],n),M:Cr(o[3],n),w:Cr(o[4],n),d:Cr(o[5],n),h:Cr(o[6],n),m:Cr(o[7],n),s:Cr(o[8],n)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(i=Or(Yn(a.from),Yn(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),r=new ar(a),or(e)&&s(e,"_locale")&&(r._locale=e._locale),or(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Cr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Nr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Or(e,t){var n;return e.isValid()&&t.isValid()?(t=hr(t,e),e.isBefore(t)?n=Nr(e,t):((n=Nr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Ar(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Pr(this,Ir(n,r),e),this}}function Pr(e,t,n,i){var a=t._milliseconds,o=sr(t._days),s=sr(t._months);e.isValid()&&(i=null==i||i,s&&ct(e,he(e,"Month")+s*n),o&&de(e,"Date",he(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),i&&r.updateOffset(e,o||s))}Ir.fn=ar.prototype,Ir.invalid=ir;var Rr=Ar(1,"add"),Dr=Ar(-1,"subtract");function Mr(e){return"string"===typeof e||e instanceof String}function Lr(e){return _(e)||f(e)||Mr(e)||l(e)||jr(e)||Fr(e)||null===e||void 0===e}function Fr(e){var t,n,r=o(e)&&!u(e),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<a.length;t+=1)n=a[t],i=i||s(e,n);return r&&i}function jr(e){var t=a(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&Mr(e)})).length),t&&n}function Ur(e){var t,n,r=o(e)&&!u(e),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)n=a[t],i=i||s(e,n);return r&&i}function Vr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Zr(e,t){1===arguments.length&&(arguments[0]?Lr(arguments[0])?(e=arguments[0],t=void 0):Ur(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Yn(),i=hr(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",o=t&&(N(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,Yn(n)))}function Br(){return new x(this)}function qr(e,t){var n=_(e)?e:Yn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function zr(e,t){var n=_(e)?e:Yn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Wr(e,t,n,r){var i=_(e)?e:Yn(e),a=_(t)?t:Yn(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))}function Hr(e,t){var n,r=_(e)?e:Yn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Gr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Yr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Kr(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=hr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":a=Qr(this,r)/12;break;case"month":a=Qr(this,r);break;case"quarter":a=Qr(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:ce(a)}function Qr(e,t){if(e.date()<t.date())return-Qr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function $r(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Jr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?q(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):N(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",q(n,"Z")):q(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Xr(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",a="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=a+'[")]',this.format(e+t+n+r)}function ei(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=q(this,e);return this.localeData().postformat(t)}function ti(e,t){return this.isValid()&&(_(e)&&e.isValid()||Yn(e).isValid())?Ir({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ni(e){return this.from(Yn(),e)}function ri(e,t){return this.isValid()&&(_(e)&&e.isValid()||Yn(e).isValid())?Ir({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ii(e){return this.to(Yn(),e)}function ai(e){var t;return void 0===e?this._locale._abbr:(null!=(t=yn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var oi=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function si(){return this._locale}var ui=1e3,ci=60*ui,li=60*ci,fi=3506328*li;function hi(e,t){return(e%t+t)%t}function di(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-fi:new Date(e,t,n).valueOf()}function pi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-fi:Date.UTC(e,t,n)}function vi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?pi:di,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=hi(t+(this._isUTC?0:this.utcOffset()*ci),li);break;case"minute":t=this._d.valueOf(),t-=hi(t,ci);break;case"second":t=this._d.valueOf(),t-=hi(t,ui)}return this._d.setTime(t),r.updateOffset(this,!0),this}function mi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?pi:di,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=li-hi(t+(this._isUTC?0:this.utcOffset()*ci),li)-1;break;case"minute":t=this._d.valueOf(),t+=ci-hi(t,ci)-1;break;case"second":t=this._d.valueOf(),t+=ui-hi(t,ui)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(){return this._d.valueOf()-6e4*(this._offset||0)}function gi(){return Math.floor(this.valueOf()/1e3)}function ki(){return new Date(this.valueOf())}function wi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function bi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function xi(){return this.isValid()?this.toISOString():null}function _i(){return y(this)}function Si(){return d({},m(this))}function Ei(){return m(this).overflow}function Ti(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ii(e,t){var n,i,a,o=this._eras||yn("en")._eras;for(n=0,i=o.length;n<i;++n)switch("string"===typeof o[n].since&&(a=r(o[n].since).startOf("day"),o[n].since=a.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=r(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf()}return o}function Ci(e,t,n){var r,i,a,o,s,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(a=u[r].name.toUpperCase(),o=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return u[r];break;case"NNNN":if(a===e)return u[r];break;case"NNNNN":if(s===e)return u[r]}else if([a,o,s].indexOf(e)>=0)return u[r]}function Ni(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Oi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Ai(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Pi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Ri(){var e,t,n,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return(this.year()-r(a[e].since).year())*n+a[e].offset;return this.year()}function Di(e){return s(this,"_erasNameRegex")||Zi.call(this),e?this._erasNameRegex:this._erasRegex}function Mi(e){return s(this,"_erasAbbrRegex")||Zi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Li(e){return s(this,"_erasNarrowRegex")||Zi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Fi(e,t){return t.erasAbbrRegex(e)}function ji(e,t){return t.erasNameRegex(e)}function Ui(e,t){return t.erasNarrowRegex(e)}function Vi(e,t){return t._eraYearOrdinalRegex||Ce}function Zi(){var e,t,n=[],r=[],i=[],a=[],o=this.eras();for(e=0,t=o.length;e<t;++e)r.push(Fe(o[e].name)),n.push(Fe(o[e].abbr)),i.push(Fe(o[e].narrow)),a.push(Fe(o[e].name)),a.push(Fe(o[e].abbr)),a.push(Fe(o[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function Bi(e,t){V(0,[e,e.length],0,t)}function qi(e){return Ki.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function zi(e){return Ki.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Wi(){return _t(this.year(),1,4)}function Hi(){return _t(this.isoWeekYear(),1,4)}function Gi(){var e=this.localeData()._week;return _t(this.year(),e.dow,e.doy)}function Yi(){var e=this.localeData()._week;return _t(this.weekYear(),e.dow,e.doy)}function Ki(e,t,n,r,i){var a;return null==e?xt(this,r,i).year:(t>(a=_t(e,r,i))&&(t=a),Qi.call(this,e,t,n,r,i))}function Qi(e,t,n,r,i){var a=bt(e,t,n,r,i),o=kt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function $i(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}V("N",0,0,"eraAbbr"),V("NN",0,0,"eraAbbr"),V("NNN",0,0,"eraAbbr"),V("NNNN",0,0,"eraName"),V("NNNNN",0,0,"eraNarrow"),V("y",["y",1],"yo","eraYear"),V("y",["yy",2],0,"eraYear"),V("y",["yyy",3],0,"eraYear"),V("y",["yyyy",4],0,"eraYear"),De("N",Fi),De("NN",Fi),De("NNN",Fi),De("NNNN",ji),De("NNNNN",Ui),Ue(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?m(n).era=i:m(n).invalidEra=e})),De("y",Ce),De("yy",Ce),De("yyy",Ce),De("yyyy",Ce),De("yo",Vi),Ue(["y","yy","yyy","yyyy"],qe),Ue(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[qe]=n._locale.eraYearOrdinalParse(e,i):t[qe]=parseInt(e,10)})),V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Bi("gggg","weekYear"),Bi("ggggg","weekYear"),Bi("GGGG","isoWeekYear"),Bi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),oe("weekYear",1),oe("isoWeekYear",1),De("G",Ne),De("g",Ne),De("GG",xe,ge),De("gg",xe,ge),De("GGGG",Te,we),De("gggg",Te,we),De("GGGGG",Ie,be),De("ggggg",Ie,be),Ve(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=le(e)})),Ve(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),V("Q",0,"Qo","quarter"),ne("quarter","Q"),oe("quarter",7),De("Q",ye),Ue("Q",(function(e,t){t[ze]=3*(le(e)-1)})),V("D",["DD",2],"Do","date"),ne("date","D"),oe("date",9),De("D",xe),De("DD",xe,ge),De("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ue(["D","DD"],We),Ue("Do",(function(e,t){t[We]=le(e.match(xe)[0])}));var Ji=fe("Date",!0);function Xi(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}V("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),oe("dayOfYear",4),De("DDD",Ee),De("DDDD",ke),Ue(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=le(e)})),V("m",["mm",2],0,"minute"),ne("minute","m"),oe("minute",14),De("m",xe),De("mm",xe,ge),Ue(["m","mm"],Ge);var ea=fe("Minutes",!1);V("s",["ss",2],0,"second"),ne("second","s"),oe("second",15),De("s",xe),De("ss",xe,ge),Ue(["s","ss"],Ye);var ta,na,ra=fe("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),oe("millisecond",16),De("S",Ee,ye),De("SS",Ee,ge),De("SSS",Ee,ke),ta="SSSS";ta.length<=9;ta+="S")De(ta,Ce);function ia(e,t){t[Ke]=le(1e3*("0."+e))}for(ta="S";ta.length<=9;ta+="S")Ue(ta,ia);function aa(){return this._isUTC?"UTC":""}function oa(){return this._isUTC?"Coordinated Universal Time":""}na=fe("Milliseconds",!1),V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var sa=x.prototype;function ua(e){return Yn(1e3*e)}function ca(){return Yn.apply(null,arguments).parseZone()}function la(e){return e}sa.add=Rr,sa.calendar=Zr,sa.clone=Br,sa.diff=Kr,sa.endOf=mi,sa.format=ei,sa.from=ti,sa.fromNow=ni,sa.to=ri,sa.toNow=ii,sa.get=pe,sa.invalidAt=Ei,sa.isAfter=qr,sa.isBefore=zr,sa.isBetween=Wr,sa.isSame=Hr,sa.isSameOrAfter=Gr,sa.isSameOrBefore=Yr,sa.isValid=_i,sa.lang=oi,sa.locale=ai,sa.localeData=si,sa.max=Qn,sa.min=Kn,sa.parsingFlags=Si,sa.set=ve,sa.startOf=vi,sa.subtract=Dr,sa.toArray=wi,sa.toObject=bi,sa.toDate=ki,sa.toISOString=Jr,sa.inspect=Xr,"undefined"!==typeof Symbol&&null!=Symbol.for&&(sa[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),sa.toJSON=xi,sa.toString=$r,sa.unix=gi,sa.valueOf=yi,sa.creationData=Ti,sa.eraName=Oi,sa.eraNarrow=Ai,sa.eraAbbr=Pi,sa.eraYear=Ri,sa.year=mt,sa.isLeapYear=yt,sa.weekYear=qi,sa.isoWeekYear=zi,sa.quarter=sa.quarters=$i,sa.month=lt,sa.daysInMonth=ft,sa.week=sa.weeks=Ct,sa.isoWeek=sa.isoWeeks=Nt,sa.weeksInYear=Gi,sa.weeksInWeekYear=Yi,sa.isoWeeksInYear=Wi,sa.isoWeeksInISOWeekYear=Hi,sa.date=Ji,sa.day=sa.days=zt,sa.weekday=Wt,sa.isoWeekday=Ht,sa.dayOfYear=Xi,sa.hour=sa.hours=rn,sa.minute=sa.minutes=ea,sa.second=sa.seconds=ra,sa.millisecond=sa.milliseconds=na,sa.utcOffset=pr,sa.utc=mr,sa.local=yr,sa.parseZone=gr,sa.hasAlignedHourOffset=kr,sa.isDST=wr,sa.isLocal=xr,sa.isUtcOffset=_r,sa.isUtc=Sr,sa.isUTC=Sr,sa.zoneAbbr=aa,sa.zoneName=oa,sa.dates=E("dates accessor is deprecated. Use date instead.",Ji),sa.months=E("months accessor is deprecated. Use month instead",lt),sa.years=E("years accessor is deprecated. Use year instead",mt),sa.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",vr),sa.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",br);var fa=P.prototype;function ha(e,t,n,r){var i=yn(),a=p().set(r,t);return i[n](a,e)}function da(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return ha(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=ha(e,r,n,"month");return i}function pa(e,t,n,r){"boolean"===typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var i,a=yn(),o=e?a._week.dow:0,s=[];if(null!=n)return ha(t,(n+o)%7,r,"day");for(i=0;i<7;i++)s[i]=ha(t,(i+o)%7,r,"day");return s}function va(e,t){return da(e,t,"months")}function ma(e,t){return da(e,t,"monthsShort")}function ya(e,t,n){return pa(e,t,n,"weekdays")}function ga(e,t,n){return pa(e,t,n,"weekdaysShort")}function ka(e,t,n){return pa(e,t,n,"weekdaysMin")}fa.calendar=D,fa.longDateFormat=H,fa.invalidDate=Y,fa.ordinal=$,fa.preparse=la,fa.postformat=la,fa.relativeTime=X,fa.pastFuture=ee,fa.set=O,fa.eras=Ii,fa.erasParse=Ci,fa.erasConvertYear=Ni,fa.erasAbbrRegex=Mi,fa.erasNameRegex=Di,fa.erasNarrowRegex=Li,fa.months=at,fa.monthsShort=ot,fa.monthsParse=ut,fa.monthsRegex=dt,fa.monthsShortRegex=ht,fa.week=St,fa.firstDayOfYear=It,fa.firstDayOfWeek=Tt,fa.weekdays=Ut,fa.weekdaysMin=Zt,fa.weekdaysShort=Vt,fa.weekdaysParse=qt,fa.weekdaysRegex=Gt,fa.weekdaysShortRegex=Yt,fa.weekdaysMinRegex=Kt,fa.isPM=tn,fa.meridiem=an,pn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===le(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=E("moment.lang is deprecated. Use moment.locale instead.",pn),r.langData=E("moment.langData is deprecated. Use moment.localeData instead.",yn);var wa=Math.abs;function ba(){var e=this._data;return this._milliseconds=wa(this._milliseconds),this._days=wa(this._days),this._months=wa(this._months),e.milliseconds=wa(e.milliseconds),e.seconds=wa(e.seconds),e.minutes=wa(e.minutes),e.hours=wa(e.hours),e.months=wa(e.months),e.years=wa(e.years),this}function xa(e,t,n,r){var i=Ir(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function _a(e,t){return xa(this,e,t,1)}function Sa(e,t){return xa(this,e,t,-1)}function Ea(e){return e<0?Math.floor(e):Math.ceil(e)}function Ta(){var e,t,n,r,i,a=this._milliseconds,o=this._days,s=this._months,u=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*Ea(Ca(s)+o),o=0,s=0),u.milliseconds=a%1e3,e=ce(a/1e3),u.seconds=e%60,t=ce(e/60),u.minutes=t%60,n=ce(t/60),u.hours=n%24,o+=ce(n/24),s+=i=ce(Ia(o)),o-=Ea(Ca(i)),r=ce(s/12),s%=12,u.days=o,u.months=s,u.years=r,this}function Ia(e){return 4800*e/146097}function Ca(e){return 146097*e/4800}function Na(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ia(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ca(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Oa(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*le(this._months/12):NaN}function Aa(e){return function(){return this.as(e)}}var Pa=Aa("ms"),Ra=Aa("s"),Da=Aa("m"),Ma=Aa("h"),La=Aa("d"),Fa=Aa("w"),ja=Aa("M"),Ua=Aa("Q"),Va=Aa("y");function Za(){return Ir(this)}function Ba(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function qa(e){return function(){return this.isValid()?this._data[e]:NaN}}var za=qa("milliseconds"),Wa=qa("seconds"),Ha=qa("minutes"),Ga=qa("hours"),Ya=qa("days"),Ka=qa("months"),Qa=qa("years");function $a(){return ce(this.days()/7)}var Ja=Math.round,Xa={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function eo(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function to(e,t,n,r){var i=Ir(e).abs(),a=Ja(i.as("s")),o=Ja(i.as("m")),s=Ja(i.as("h")),u=Ja(i.as("d")),c=Ja(i.as("M")),l=Ja(i.as("w")),f=Ja(i.as("y")),h=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(h=h||l<=1&&["w"]||l<n.w&&["ww",l]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||f<=1&&["y"]||["yy",f])[2]=t,h[3]=+e>0,h[4]=r,eo.apply(null,h)}function no(e){return void 0===e?Ja:"function"===typeof e&&(Ja=e,!0)}function ro(e,t){return void 0!==Xa[e]&&(void 0===t?Xa[e]:(Xa[e]=t,"s"===e&&(Xa.ss=t-1),!0))}function io(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,a=Xa;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(a=Object.assign({},Xa,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),r=to(this,!i,a,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var ao=Math.abs;function oo(e){return(e>0)-(e<0)||+e}function so(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,a,o,s,u=ao(this._milliseconds)/1e3,c=ao(this._days),l=ao(this._months),f=this.asSeconds();return f?(e=ce(u/60),t=ce(e/60),u%=60,e%=60,n=ce(l/12),l%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=f<0?"-":"",a=oo(this._months)!==oo(f)?"-":"",o=oo(this._days)!==oo(f)?"-":"",s=oo(this._milliseconds)!==oo(f)?"-":"",i+"P"+(n?a+n+"Y":"")+(l?a+l+"M":"")+(c?o+c+"D":"")+(t||e||u?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(u?s+r+"S":"")):"P0D"}var uo=ar.prototype;return uo.isValid=rr,uo.abs=ba,uo.add=_a,uo.subtract=Sa,uo.as=Na,uo.asMilliseconds=Pa,uo.asSeconds=Ra,uo.asMinutes=Da,uo.asHours=Ma,uo.asDays=La,uo.asWeeks=Fa,uo.asMonths=ja,uo.asQuarters=Ua,uo.asYears=Va,uo.valueOf=Oa,uo._bubble=Ta,uo.clone=Za,uo.get=Ba,uo.milliseconds=za,uo.seconds=Wa,uo.minutes=Ha,uo.hours=Ga,uo.days=Ya,uo.weeks=$a,uo.months=Ka,uo.years=Qa,uo.humanize=io,uo.toISOString=so,uo.toString=so,uo.toJSON=so,uo.locale=ai,uo.localeData=si,uo.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",so),uo.lang=oi,V("X",0,0,"unix"),V("x",0,0,"valueOf"),De("x",Ne),De("X",Pe),Ue("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Ue("x",(function(e,t,n){n._d=new Date(le(e))})),r.version="2.29.1",i(Yn),r.fn=sa,r.min=Jn,r.max=Xn,r.now=er,r.utc=p,r.unix=ua,r.months=va,r.isDate=f,r.locale=pn,r.invalid=g,r.duration=Ir,r.isMoment=_,r.weekdays=ya,r.parseZone=ca,r.localeData=yn,r.isDuration=or,r.monthsShort=ma,r.weekdaysMin=ka,r.defineLocale=vn,r.updateLocale=mn,r.locales=gn,r.weekdaysShort=ga,r.normalizeUnits=re,r.relativeTimeRounding=no,r.relativeTimeThreshold=ro,r.calendarFormat=Vr,r.prototype=sa,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2482:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(2007)),o=u(n(2791)),s=n(4432);function u(e){return e&&e.__esModule?e:{default:e}}var c={thousandSeparator:a.default.oneOfType([a.default.string,a.default.oneOf([!0])]),thousandSpacing:a.default.oneOf(["2","2s","3","4"]),decimalSeparator:a.default.string,decimalScale:a.default.number,fixedDecimalScale:a.default.bool,displayType:a.default.oneOf(["input","text"]),prefix:a.default.string,suffix:a.default.string,format:a.default.oneOfType([a.default.string,a.default.func]),removeFormatting:a.default.func,mask:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)]),value:a.default.oneOfType([a.default.number,a.default.string]),isNumericString:a.default.bool,customInput:a.default.func,allowNegative:a.default.bool,onValueChange:a.default.func,onKeyDown:a.default.func,onMouseUp:a.default.func,onChange:a.default.func,onFocus:a.default.func,onBlur:a.default.func,type:a.default.oneOf(["text","tel"]),isAllowed:a.default.func,renderText:a.default.func},l={displayType:"input",decimalSeparator:".",thousandSpacing:"3",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,isNumericString:!1,type:"text",onValueChange:s.noop,onChange:s.noop,onKeyDown:s.noop,onMouseUp:s.noop,onFocus:s.noop,onBlur:s.noop,isAllowed:s.returnTrue},f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.validateProps();var r=n.formatValueProp();return n.state={value:r,numAsString:n.removeFormatting(r)},n.onChange=n.onChange.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidUpdate",value:function(e){this.updateValueIfRequired(e)}},{key:"updateValueIfRequired",value:function(e){var t=this.props,n=this.state;if(e!==t){this.validateProps();var r=n.value,i=n.numAsString||"",a=void 0===t.value?this.formatNumString(i):this.formatValueProp();a!==r&&this.setState({value:a,numAsString:this.removeFormatting(a)})}}},{key:"getFloatString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.getSeparators(),n=t.decimalSeparator,r=this.getNumberRegex(!0),i="-"===e[0];i&&(e=e.replace("-",""));var a=(e=(e.match(r)||[]).join("").replace(n,".")).indexOf(".");return-1!==a&&(e=e.substring(0,a)+"."+e.substring(a+1,e.length).replace(new RegExp((0,s.escapeRegExp)(n),"g"),"")),i&&(e="-"+e),e}},{key:"getNumberRegex",value:function(e,t){var n=this.props,r=n.format,i=n.decimalScale,a=this.getSeparators().decimalSeparator;return new RegExp("\\d"+(!a||0===i||t||r?"":"|"+(0,s.escapeRegExp)(a)),e?"g":void 0)}},{key:"getSeparators",value:function(){var e=this.props,t=e.decimalSeparator,n=e.thousandSpacing,r=this.props.thousandSeparator;return!0===r&&(r=","),{decimalSeparator:t,thousandSeparator:r,thousandSpacing:n}}},{key:"getMaskAtIndex",value:function(e){var t=this.props.mask,n=void 0===t?" ":t;return"string"===typeof n?n:n[e]||" "}},{key:"validateProps",value:function(){var e=this.props.mask,t=this.getSeparators(),n=t.decimalSeparator,r=t.thousandSeparator;if(n===r)throw new Error("\n          Decimal separator can't be same as thousand separator.\n\n          thousandSeparator: "+r+' (thousandSeparator = {true} is same as thousandSeparator = ",")\n          decimalSeparator: '+n+" (default value for decimalSeparator is .)\n       ");if(e&&("string"===e?e:e.toString()).match(/\d/g))throw new Error("\n          Mask "+e+" should not contain numeric character;\n        ")}},{key:"splitDecimal",value:function(e){var t=this.props.allowNegative,n="-"===e[0],r=n&&t,i=(e=e.replace("-","")).split(".");return{beforeDecimal:i[0],afterDecimal:i[1]||"",hasNagation:n,addNegation:r}}},{key:"setPatchedCaretPosition",value:function(e,t,n){(0,s.setCaretPosition)(e,t),setTimeout((function(){e.value===n&&(0,s.setCaretPosition)(e,t)}),0)}},{key:"correctCaretPosition",value:function(e,t,n){var r=this.props,i=r.prefix,a=r.suffix,o=r.format;if(!o){var u="-"===e[0];return Math.min(Math.max(t,i.length+(u?1:0)),e.length-a.length)}if("function"===typeof o)return t;if("#"===o[t]&&(0,s.charIsNumber)(e[t]))return t;if("#"===o[t-1]&&(0,s.charIsNumber)(e[t-1]))return t;var c=o.indexOf("#"),l=o.lastIndexOf("#");t=Math.min(Math.max(t,c),l+1);for(var f=o.substring(t,o.length).indexOf("#"),h=t,d=t+(-1===f?0:f);h>c&&("#"!==o[h]||!(0,s.charIsNumber)(e[h]));)h-=1;return!(0,s.charIsNumber)(e[d])||"left"===n&&t!==c||t-h<d-t?h+1:d}},{key:"getCaretPosition",value:function(e,t,n){var r=this.props.format,i=this.state.value,a=this.getNumberRegex(!0),o=(e.match(a)||[]).join(""),s=(t.match(a)||[]).join(""),u=void 0,c=void 0;for(u=0,c=0;c<n;c++){var l=e[c]||"",f=t[u]||"";if((l.match(a)||l===f)&&("0"!==l||!f.match(a)||"0"===f||o.length===s.length)){for(;l!==t[u]&&u<t.length;)u++;u++}}return"string"!==typeof r||i||(u=t.length),u=this.correctCaretPosition(t,u)}},{key:"removePrefixAndSuffix",value:function(e){var t=this.props,n=t.format,r=t.prefix,i=t.suffix;if(!n&&e){var a="-"===e[0];a&&(e=e.substring(1,e.length));var o=(e=r&&0===e.indexOf(r)?e.substring(r.length,e.length):e).lastIndexOf(i);e=i&&-1!==o&&o===e.length-i.length?e.substring(0,o):e,a&&(e="-"+e)}return e}},{key:"removePatternFormatting",value:function(e){for(var t=this.props.format.split("#").filter((function(e){return""!==e})),n=0,r="",i=0,a=t.length;i<=a;i++){var o=t[i]||"",s=i===a?e.length:e.indexOf(o,n);if(-1===s){r=e;break}r+=e.substring(n,s),n=s+o.length}return(r.match(/\d/g)||[]).join("")}},{key:"removeFormatting",value:function(e){var t=this.props,n=t.format,r=t.removeFormatting;return e?(n?e="string"===typeof n?this.removePatternFormatting(e):"function"===typeof r?r(e):(e.match(/\d/g)||[]).join(""):(e=this.removePrefixAndSuffix(e),e=this.getFloatString(e)),e):e}},{key:"formatWithPattern",value:function(e){for(var t=this.props.format,n=0,r=t.split(""),i=0,a=t.length;i<a;i++)"#"===t[i]&&(r[i]=e[n]||this.getMaskAtIndex(n),n+=1);return r.join("")}},{key:"formatThousand",value:function(e,t,n){var r=void 0;switch(n){case s.thousandGroupSpacing.two:r=/(\d)(?=(\d{2})+(?!\d))/g;break;case s.thousandGroupSpacing.twoScaled:r=/(\d)(?=(((\d{2})+)(\d{1})(?!\d)))/g;break;case s.thousandGroupSpacing.four:r=/(\d)(?=(\d{4})+(?!\d))/g;break;default:r=/(\d)(?=(\d{3})+(?!\d))/g}return e.replace(r,"$1"+t)}},{key:"formatAsNumber",value:function(e){var t=this.props,n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix,a=t.suffix,o=this.getSeparators(),u=o.thousandSeparator,c=o.decimalSeparator,l=o.thousandSpacing,f=-1!==e.indexOf(".")||n&&r,h=this.splitDecimal(e),d=h.beforeDecimal,p=h.afterDecimal,v=h.addNegation;return void 0!==n&&(p=(0,s.limitToScale)(p,n,r)),u&&(d=this.formatThousand(d,u,l)),i&&(d=i+d),a&&(p+=a),v&&(d="-"+d),e=d+(f&&c||"")+p}},{key:"formatNumString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.format,n=e;return""===e?n="":"-"!==e||t?n="string"===typeof t?this.formatWithPattern(n):"function"===typeof t?t(n):this.formatAsNumber(n):(n="-",e=""),n}},{key:"formatValueProp",value:function(){var e=this.props,t=e.format,n=e.decimalScale,r=e.fixedDecimalScale,i=this.props,a=i.value,o=i.isNumericString;return void 0===a?"":("number"===typeof a&&(a=a.toString(),o=!0),o&&!t&&"number"===typeof n&&(a=(0,s.roundToPrecision)(a,n,r)),o?this.formatNumString(a):this.formatInput(a))}},{key:"formatNegation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.allowNegative,n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),a=r.test(e);return e=e.replace(/-/g,""),i&&!a&&t&&(e="-"+e),e}},{key:"formatInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.format;return t||(e=this.formatNegation(e)),e=this.removeFormatting(e),this.formatNumString(e)}},{key:"isCharacterAFormat",value:function(e,t){var n=this.props,r=n.format,i=n.prefix,a=n.suffix,o=n.decimalScale,s=n.fixedDecimalScale,u=this.getSeparators().decimalSeparator;return"string"===typeof r&&"#"!==r[e]||!(r||!(e<i.length||e>=t.length-a.length||o&&s&&t[e]===u))}},{key:"checkIfFormatGotDeleted",value:function(e,t,n){for(var r=e;r<t;r++)if(this.isCharacterAFormat(r,n))return!0;return!1}},{key:"correctInputValue",value:function(e,t,n){var r=this.props.format,i=this.state.numAsString||"";if(n.length>=t.length||!n.length)return n;var a=e,o=(0,s.splitString)(t,e),u=(0,s.splitString)(n,e),c=o[1].lastIndexOf(u[1]),l=a+(-1!==c?o[1].substring(0,c):"").length;if(this.checkIfFormatGotDeleted(a,l,t)&&(n=t),!r){var f=this.removeFormatting(n),h=this.splitDecimal(f),d=h.beforeDecimal,p=h.afterDecimal,v=h.addNegation;if(f.length<i.length&&""===d&&!parseFloat(p))return v?"-":""}return n}},{key:"onChange",value:function(e){e.persist();var t=e.target,n=t.value,r=this.state,i=this.props,a=i.isAllowed,o=r.value||"",s=Math.max(t.selectionStart,t.selectionEnd);n=this.correctInputValue(s,o,n);var u=this.formatInput(n)||"",c=this.removeFormatting(u),l={formattedValue:u,value:c,floatValue:parseFloat(c)};a(l)||(u=o),t.value=u;var f=this.getCaretPosition(n,u,s);this.setPatchedCaretPosition(t,f,u),u!==o?this.setState({value:u,numAsString:c},(function(){i.onValueChange(l),i.onChange(e)})):i.onChange(e)}},{key:"onBlur",value:function(e){var t=this.props,n=this.state,r=t.format,i=t.onBlur,a=n.numAsString,o=n.value;if(!r){a=(0,s.fixLeadingZero)(a);var u=this.formatNumString(a),c={formattedValue:u,value:a,floatValue:parseFloat(a)};if(u!==o)return e.persist(),void this.setState({value:u,numAsString:a},(function(){t.onValueChange(c),i(e)}))}i(e)}},{key:"onKeyDown",value:function(e){var t=e.target,n=e.key,r=t.selectionEnd,i=t.value,a=t.selectionStart,o=void 0,s=this.props,u=s.decimalScale,c=s.fixedDecimalScale,l=s.prefix,f=s.suffix,h=s.format,d=s.onKeyDown,p=void 0!==u&&c,v=this.getNumberRegex(!1,p),m=new RegExp("-"),y="string"===typeof h;if("ArrowLeft"===n||"Backspace"===n?o=a-1:"ArrowRight"===n?o=a+1:"Delete"===n&&(o=a),void 0!==o&&a===r){var g=o,k=y?h.indexOf("#"):l.length,w=y?h.lastIndexOf("#")+1:i.length-f.length;if("ArrowLeft"===n||"ArrowRight"===n){var b="ArrowLeft"===n?"left":"right";g=this.correctCaretPosition(i,o,b)}else if("Delete"!==n||v.test(i[o])||m.test(i[o])){if("Backspace"===n&&!v.test(i[o])&&!m.test(i[o])){for(;!v.test(i[g-1])&&g>k;)g--;g=this.correctCaretPosition(i,g,"left")}}else for(;!v.test(i[g])&&g<w;)g++;(g!==o||o<k||o>w)&&(e.preventDefault(),this.setPatchedCaretPosition(t,g,i)),e.isUnitTestRun&&this.setPatchedCaretPosition(t,g,i),this.props.onKeyDown(e)}else d(e)}},{key:"onMouseUp",value:function(e){var t=e.target,n=t.selectionStart,r=t.selectionEnd,i=t.value;if(n===r){var a=this.correctCaretPosition(i,n);a!==n&&this.setPatchedCaretPosition(t,a,i)}this.props.onMouseUp(e)}},{key:"onFocus",value:function(e){var t=this;e.persist(),setTimeout((function(){var n=e.target,r=n.selectionStart,i=n.value,a=t.correctCaretPosition(i,r);a!==r&&t.setPatchedCaretPosition(n,a,i),t.props.onFocus(e)}))}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.displayType,i=e.customInput,a=e.renderText,u=this.state.value,l=(0,s.omit)(this.props,c),f=r({},l,{type:t,value:u,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if("text"===n)return a?a(u)||null:o.default.createElement("span",l,u);if(i){var h=i;return o.default.createElement(h,f)}return o.default.createElement("input",f)}}]),t}(o.default.Component);f.propTypes=c,f.defaultProps=l,e.exports=f},4432:function(e,t){"use strict";function n(e,t,n){for(var r="",i=n?"0":"",a=0;a<=t-1;a++)r+=e[a]||i;return r}Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){},t.returnTrue=function(){return!0},t.charIsNumber=function(e){return!!(e||"").match(/\d/)},t.escapeRegExp=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},t.fixLeadingZero=function(e){if(!e)return e;var t="-"===e[0];t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")},t.splitString=function(e,t){return[e.substring(0,t),e.substring(t)]},t.limitToScale=n,t.roundToPrecision=function(e,t,r){var i=e.split("."),a=parseFloat("0."+(i[1]||"0")).toFixed(t).split("."),o=i[0].split("").reverse().reduce((function(e,t,n){return e.length>n?(Number(e[0])+Number(t)).toString()+e.substring(1,e.length):t+e}),a[0]),s=n(a[1]||"",(i[1]||"").length,r);return o+(s?"."+s:"")},t.omit=function(e,t){var n={};return Object.keys(e).forEach((function(r){t[r]||(n[r]=e[r])})),n},t.setCaretPosition=function(e,t){if(e.value=e.value,null!==e){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}};t.thousandGroupSpacing={two:"2",twoScaled:"2s",three:"3",four:"4"}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),a=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,S=60107,E=60108,T=60114,I=60109,C=60110,N=60112,O=60113,A=60120,P=60115,R=60116,D=60121,M=60128,L=60129,F=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),_=U("react.portal"),S=U("react.fragment"),E=U("react.strict_mode"),T=U("react.profiler"),I=U("react.provider"),C=U("react.context"),N=U("react.forward_ref"),O=U("react.suspense"),A=U("react.suspense_list"),P=U("react.memo"),R=U("react.lazy"),D=U("react.block"),U("react.scope"),M=U("react.opaque.id"),L=U("react.debug_trace_mode"),F=U("react.offscreen"),j=U("react.legacy_hidden")}var V,Z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=Z&&e[Z]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var z=!1;function W(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function H(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case T:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case D:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ce(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ce=null,Ne=null;function Oe(e){if(e=ri(e)){if("function"!==typeof Ie)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Ie(e.stateNode,e.type,t))}}function Ae(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Re(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Me(){}var Le=Re,Fe=!1,je=!1;function Ue(){null===Ce&&null===Ne||(Me(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ze=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){Ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){Ze=!1}function qe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var ze=!1,We=null,He=!1,Ge=null,Ye={onError:function(e){ze=!0,We=e}};function Ke(e,t,n,r,i,a,o,s,u){ze=!1,We=null,qe.apply(Ye,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Qe(e)!==e)throw Error(o(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function wt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wt)))}function xt(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&bt(st,e),null!==ut&&bt(ut,e),null!==ct&&bt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},Et={},Tt={};function It(e){if(Et[e])return Et[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return Et[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Ct=It("animationend"),Nt=It("animationiteration"),Ot=It("animationstart"),At=It("transitionend"),Pt=new Map,Rt=new Map,Dt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",Ot,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Mt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Lt=8;function Ft(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Lt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Ft(u),i=Lt):0!==(s&=a)&&(r=Ft(s),i=Lt)}else 0!==(a=n&~o)?(r=Ft(a),i=Lt):0!==s&&(r=Ft(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Zt(3584&~t))&&(0===(e=Zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ht|0)|0},Wt=Math.log,Ht=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Yt=a.unstable_runWithPriority,Kt=!0;function Qt(e,t,n,r){Fe||Me();var i=Jt,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||Ue()}}function $t(e,t,n,r){Yt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Kt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Xt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Mr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var a=Qe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=$e(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Mr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(mn),gn=un(i({},mn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),wn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(bn),_n=un(i({},hn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Cn(){return In}var Nn=i({},pn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=un(Nn),An=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=un(Dn),Ln=[9,13,27,32],Fn=f&&"CompositionEvent"in window,jn=null;f&&"documentMode"in document&&(jn=document.documentMode);var Un=f&&"TextEvent"in window&&!jn,Vn=f&&(!Fn||jn&&8<jn&&11>=jn),Zn=String.fromCharCode(32),Bn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Yn(e,t,n,r){Ae(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Qn=null;function $n(e){Nr(e,0)}function Jn(e){if($(ii(e)))return e}function Xn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Kn&&(Kn.detachEvent("onpropertychange",ar),Qn=Kn=null)}function ar(e){if("value"===e.propertyName&&Jn(Qn)){var t=[];if(Yn(t,Qn,e,Te(e)),e=$n,Fe)e(t);else{Fe=!0;try{Re(e,t)}finally{Fe=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Qn=n,(Kn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Qn)}function ur(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,wr=null,br=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=Fr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Mt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Mt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Mt(Dt,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Sr.length;Er++)Rt.set(Sr[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ke.apply(this,arguments),ze){if(!ze)throw Error(o(198));var l=We;ze=!1,We=null,He||(He=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Or(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Ar]||(e[Ar]=!0,s.forEach((function(t){Ir.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Dr(a,e,i,t),o.add(s))}function Dr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Qt;break;case 1:i=$t;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Mr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{Le(e,t,n)}finally{je=!1,Ue()}}((function(){var r=a,i=Te(n),o=[];e:{var s=Pt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=On;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Ct:case Nt:case Ot:u=wn;break;case At:u=Rn;break;case"scroll":u=vn;break;case"wheel":u=Mn;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Lr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=jr(d))p++;for(d=0,v=h;v;v=jr(v))d++;for(;0<p-d;)l=jr(l),p--;for(;0<d-p;)h=jr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=jr(l),h=jr(h)}l=null}else l=null;null!==u&&Ur(o,s,u,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(Gn(s))if(er)m=cr;else{m=sr;var y=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Yn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,wr=r,br=null);break;case"focusout":br=wr=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(y=Fr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Zn);case"textInput":return(e=t.data)===Zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Fn&&qn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Lr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Lr(e,a,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,a))&&o.unshift(Lr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(Lr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var Zr=null,Br=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Yr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Qr=0;var $r=Math.random().toString(36).slice(2),Jr="__reactFiber$"+$r,Xr="__reactProps$"+$r,ei="__reactContainer$"+$r,ti="__reactEvents$"+$r;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Kr(e);null!==e;){if(n=e[Jr])return n;e=Kr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Xr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Si=null,Ei=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Ii=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Oi=a.unstable_now,Ai=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Ri=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Mi=a.unstable_LowPriority,Li=a.unstable_IdlePriority,Fi={},ji=void 0!==Ni?Ni:function(){},Ui=null,Vi=null,Zi=!1,Bi=Oi(),qi=1e4>Bi?Oi:function(){return Oi()-Bi};function zi(){switch(Ai()){case Pi:return 99;case Ri:return 98;case Di:return 97;case Mi:return 96;case Li:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Pi;case 98:return Ri;case 97:return Di;case 96:return Mi;case 95:return Li;default:throw Error(o(332))}}function Hi(e,t){return e=Wi(e),Ei(e,t)}function Gi(e,t,n){return e=Wi(e),Ti(e,t,n)}function Yi(){if(null!==Vi){var e=Vi;Vi=null,Ii(e)}Ki()}function Ki(){if(!Zi&&null!==Ui){Zi=!0;var e=0;try{var t=Ui;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ti(Pi,Yi),n}finally{Zi=!1}}}var Qi=b.ReactCurrentBatchConfig;function $i(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Xi=null,ea=null,ta=null;function na(){ta=ea=Xi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Xi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Xi)throw Error(o(308));ea=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Zs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Sa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ea(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Qu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Yu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Qu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=$u(t,e.mode,n)).return=e,t}if(xa(t)||B(t))return(t=Yu(t,e.mode,n,null)).return=e,t;Sa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===S?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||B(n))return null!==i?null:f(e,t,n,r,null);Sa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===S?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Sa(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=B(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===S&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===S){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===S?((r=Yu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=_a(e,r,a),u.return=e,e=u)}return s(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$u(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Qu(a,e.mode,u)).return=e,e=r),s(e);if(xa(a))return v(e,r,a,u);if(B(a))return m(e,r,a,u);if(l&&Sa(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ta=Ea(!0),Ia=Ea(!1),Ca={},Na=ci(Ca),Oa=ci(Ca),Aa=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Ra(e,t){switch(fi(Aa,t),fi(Oa,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Da(){li(Na),li(Oa),li(Aa)}function Ma(e){Pa(Aa.current);var t=Pa(Na.current),n=pe(t,e.type);t!==n&&(fi(Oa,e),fi(Na,n))}function La(e){Oa.current===e&&(li(Na),li(Oa))}var Fa=ci(0);function ja(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,Za=!1;function Ba(e,t){var n=zu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function za(e){if(Za){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=Yr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,Za=!1,void(Ua=e);Ba(Ua,n)}Ua=e,Va=Yr(t.firstChild)}else e.flags=-1025&e.flags|2,Za=!1,Ua=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ha(e){if(e!==Ua)return!1;if(!Za)return Wa(e),Za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=Va;t;)Ba(e,t),t=Yr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Yr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?Yr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Ua=null,Za=!1}var Ya=[];function Ka(){for(var e=0;e<Ya.length;e++)Ya[e]._workInProgressVersionPrimary=null;Ya.length=0}var Qa=b.ReactCurrentDispatcher,$a=b.ReactCurrentBatchConfig,Ja=0,Xa=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Xa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qa.current=null===e||null===e.memoizedState?Ro:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Qa.current=Mo,e=n(r,i)}while(ro)}if(Qa.current=Po,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Xa=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Xa.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Xa.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Xa.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Xa.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Xa.lanes|=l,Zs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Ya.push(t))),e)return n(t._source);throw Ya.push(t),Error(o(350))}function po(e,t,n,r){var i=Rs;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Qa.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Xa;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-zt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ao.bind(null,Xa,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ao.bind(null,Xa,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Xa.updateQueue)?(t={lastEffect:null},Xa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function wo(e,t,n,r){var i=so();Xa.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Xa.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return wo(516,4,e,t)}function _o(e,t){return bo(516,4,e,t)}function So(e,t){return bo(4,2,e,t)}function Eo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Eo.bind(null,t,e),n)}function Io(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Oo(e,t){var n=zi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=$a.transition;$a.transition=1;try{e(!1),t()}finally{$a.transition=n}}))}function Ao(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Xa||null!==o&&o===Xa)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ao.bind(null,Xa,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:Io,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Oo.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Za){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Qr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Xa.mode)&&(Xa.flags|=516,yo(5,(function(){n("r:"+(Qr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Qr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:To,useLayoutEffect:So,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:Io,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Mo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:To,useLayoutEffect:So,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:Io,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Lo=b.ReactCurrentOwner,Fo=!1;function jo(e,t,n,r){t.child=null===e?Ia(t,null,n,r):Ta(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,jo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Wu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Hu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return zo(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return jo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function zo(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,jo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Wo(e,t,n,r,i){if(yi(n)){var a=!0;bi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&wa(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:$i(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&wa(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ga(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ho(e,t,n,r,a,i)}function Ho(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),as(e,t,a);r=t.stateNode,Lo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,s,a)):jo(e,t,s,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Ra(e,t.containerInfo)}var Yo,Ko,Qo,$o={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&za(t),e=i.children,a=i.fallback,o?(e=Xo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,e):"number"===typeof i.unstable_expectedLoadTime?(e=Xo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,t.lanes=33554432,e):((n=Ku({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=$o,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Xo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Ku(t,i,0,null),n=Yu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Hu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hu(o,s),null!==e?r=Hu(e,r):(r=Yu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(jo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ja(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ja(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Zs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Ka(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ha(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:La(t);var a=Pa(Aa.current);if(n=t.type,null!==e&&null!=t.stateNode)Ko(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Na.current),Ha(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Xr]=s,n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Or(Tr[e],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":ee(r,s),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Or("invalid",r);break;case"textarea":ue(r,s),Or("invalid",r)}for(var c in Se(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Or("scroll",r));switch(n){case"input":Q(r),re(r,s,!0);break;case"textarea":Q(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Xr]=r,Yo(e,t),t.stateNode=e,c=Ee(n,r),n){case"dialog":Or("cancel",e),Or("close",e),a=r;break;case"iframe":case"object":case"embed":Or("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Or(Tr[a],e);a=r;break;case"source":Or("error",e),a=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),a=r;break;case"details":Or("toggle",e),a=r;break;case"input":ee(e,r),a=X(e,r),Or("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Or("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Or("invalid",e);break;default:a=r}Se(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Or("scroll",e):null!=f&&w(e,s,f,c))}switch(n){case"input":Q(e),re(e,r,!1);break;case"textarea":Q(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Qo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Aa.current),Pa(Na.current),Ha(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ha(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===Rs||0===(134217727&Zs)&&0===(134217727&Bs)||gu(Rs,Ms))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==js||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=ja(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Hs&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=ja(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Fa.current,fi(Fa,s?1&t|2:1&t),n):null;case 23:case 24:return _u(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Ka(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return La(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return _u(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Yo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ko=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Na.current);var o,s=null;switch(n){case"input":a=X(e,a),r=X(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Se(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Or("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===M?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Qo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qs||(Qs=!0,$s=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:$i(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fu(n,e),Lu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:$i(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Si&&"function"===typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fu(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Es(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bs(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(bs(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_s(e,n,t):Ss(e,n,t)}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function Es(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?ge(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=qi(),gs(t.child,!0)),void Is(t);case 19:return void Is(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Is(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,Os=b.ReactCurrentDispatcher,As=b.ReactCurrentOwner,Ps=0,Rs=null,Ds=null,Ms=0,Ls=0,Fs=ci(0),js=0,Us=null,Vs=0,Zs=0,Bs=0,qs=0,zs=null,Ws=0,Hs=1/0;function Gs(){Hs=qi()+500}var Ys,Ks=null,Qs=!1,$s=null,Js=null,Xs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Ps)?qi():-1!==su?su:su=qi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===zi()?1:2;if(0===uu&&(uu=Vs),0!==Qi.transition){0!==cu&&(cu=null!==zs?zs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=zi(),0!==(4&Ps)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;qt(e,t,n),e===Rs&&(Bs|=t,4===js&&gu(e,Ms));var r=zi();1===t?0!==(8&Ps)&&0===(48&Ps)?ku(e):(mu(e,n),0===Ps&&(Gs(),Yi())):(0===(4&Ps)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),zs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-zt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Lt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=jt(e,e===Rs?Ms:0),t=Lt,0===r)null!==n&&(n!==Fi&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ii(n)}15===t?(n=ku.bind(null,e),null===Ui?(Ui=[n],Vi=Ti(Pi,Ki)):Ui.push(n),n=Fi):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Ps))throw Error(o(327));var t=e.callbackNode;if(Mu()&&e.callbackNode!==t)return null;var n=jt(e,e===Rs?Ms:0);if(0===n)return null;var r=n,i=Ps;Ps|=16;var a=Tu();for(Rs===e&&Ms===r||(Gs(),Su(e,r));;)try{Nu();break}catch(u){Eu(e,u)}if(na(),Os.current=a,Ps=i,null!==Ds?r=0:(Rs=null,Ms=0,r=js),0!==(Vs&Bs))Su(e,0);else if(0!==r){if(2===r&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Iu(e,n))),1===r)throw t=Us,Su(e,0),gu(e,n),mu(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Pu(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Ws+500-qi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Pu.bind(null,e),r);break}Pu(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-zt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=Wr(Pu.bind(null,e),n);break}Pu(e);break;default:throw Error(o(329))}}return mu(e,qi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~qs,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Ps))throw Error(o(327));if(Mu(),e===Rs&&0!==(e.expiredLanes&Ms)){var t=Ms,n=Iu(e,t);0!==(Vs&Bs)&&(n=Iu(e,t=jt(e,t)))}else n=Iu(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Iu(e,t))),1===n)throw n=Us,Su(e,0),gu(e,t),mu(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pu(e),mu(e,qi()),null}function wu(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Yi())}}function bu(e,t){var n=Ps;Ps&=-2,Ps|=8;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Yi())}}function xu(e,t){fi(Fs,Ls),Ls|=t,Vs|=t}function _u(){Ls=Fs.current,li(Fs)}function Su(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Ka();break;case 5:La(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:_u()}n=n.return}Rs=e,Ds=Hu(e.current,null),Ms=Ls=Vs=t,js=0,Us=null,qs=Bs=Zs=0}function Eu(e,t){for(;;){var n=Ds;try{if(na(),Qa.current=Po,no){for(var r=Xa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Xa=null,ro=!1,As.current=null,null===n||null===n.return){js=1,Us=t,Ds=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ms,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,fa(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var w=Zu.bind(null,a,c,s);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var b=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof b.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Js||!Js.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Au(n)}catch(_){t=_,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Tu(){var e=Os.current;return Os.current=Po,null===e?Po:e}function Iu(e,t){var n=Ps;Ps|=16;var r=Tu();for(Rs===e&&Ms===t||Su(e,t);;)try{Cu();break}catch(i){Eu(e,i)}if(na(),Ps=n,Os.current=r,null!==Ds)throw Error(o(261));return Rs=null,Ms=0,js}function Cu(){for(;null!==Ds;)Ou(Ds)}function Nu(){for(;null!==Ds&&!Ci();)Ou(Ds)}function Ou(e){var t=Ys(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Au(e):Ds=t,As.current=null}function Au(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ls)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ls)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===js&&(js=5)}function Pu(e){var t=zi();return Hi(99,Ru.bind(null,e,t)),null}function Ru(e,t){do{Mu()}while(null!==eu);if(0!==(48&Ps))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-zt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Rs&&(Ds=Rs=null,Ms=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ps,Ps|=32,As.current=null,Zr=Kt,yr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(T){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Br={focusedElem:s,selectionRange:u},Kt=!1,lu=null,fu=!1,Ks=r;do{try{Du()}catch(T){if(null===Ks)throw Error(o(330));Vu(Ks,T),Ks=Ks.nextEffect}}while(null!==Ks);lu=null,Ks=r;do{try{for(s=e;null!==Ks;){var k=Ks.flags;if(16&k&&ge(Ks.stateNode,""),128&k){var w=Ks.alternate;if(null!==w){var b=w.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&k){case 2:xs(Ks),Ks.flags&=-3;break;case 6:xs(Ks),Ks.flags&=-3,Ts(Ks.alternate,Ks);break;case 1024:Ks.flags&=-1025;break;case 1028:Ks.flags&=-1025,Ts(Ks.alternate,Ks);break;case 4:Ts(Ks.alternate,Ks);break;case 8:Es(s,u=Ks);var x=u.alternate;ws(u),null!==x&&ws(x)}Ks=Ks.nextEffect}}catch(T){if(null===Ks)throw Error(o(330));Vu(Ks,T),Ks=Ks.nextEffect}}while(null!==Ks);if(b=Br,w=mr(),k=b.focusedElem,s=b.selectionRange,w!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&yr(k)&&(w=s.start,void 0===(b=s.end)&&(b=w),"selectionStart"in k?(k.selectionStart=w,k.selectionEnd=Math.min(b,k.value.length)):(b=(w=k.ownerDocument||document)&&w.defaultView||window).getSelection&&(b=b.getSelection(),u=k.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!b.extend&&x>s&&(u=s,s=x,x=u),u=pr(k,x),a=pr(k,s),u&&a&&(1!==b.rangeCount||b.anchorNode!==u.node||b.anchorOffset!==u.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((w=w.createRange()).setStart(u.node,u.offset),b.removeAllRanges(),x>s?(b.addRange(w),b.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),b.addRange(w))))),w=[];for(b=k;b=b.parentNode;)1===b.nodeType&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<w.length;k++)(b=w[k]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Kt=!!Zr,Br=Zr=null,e.current=n,Ks=r;do{try{for(k=e;null!==Ks;){var _=Ks.flags;if(36&_&&ys(k,Ks.alternate,Ks),128&_){w=void 0;var S=Ks.ref;if(null!==S){var E=Ks.stateNode;Ks.tag,w=E,"function"===typeof S?S(w):S.current=w}}Ks=Ks.nextEffect}}catch(T){if(null===Ks)throw Error(o(330));Vu(Ks,T),Ks=Ks.nextEffect}}while(null!==Ks);Ks=null,ji(),Ps=i}else e.current=n;if(Xs)Xs=!1,eu=e,tu=t;else for(Ks=r;null!==Ks;)t=Ks.nextEffect,Ks.nextEffect=null,8&Ks.flags&&((_=Ks).sibling=null,_.stateNode=null),Ks=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Si&&"function"===typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(T){}if(mu(e,qi()),Qs)throw Qs=!1,e=$s,$s=null,e;return 0!==(8&Ps)||Yi(),null}function Du(){for(;null!==Ks;){var e=Ks.alternate;fu||null===lu||(0!==(8&Ks.flags)?et(Ks,lu)&&(fu=!0):13===Ks.tag&&Cs(e,Ks)&&et(Ks,lu)&&(fu=!0));var t=Ks.flags;0!==(256&t)&&ms(e,Ks),0===(512&t)||Xs||(Xs=!0,Gi(97,(function(){return Mu(),null}))),Ks=Ks.nextEffect}}function Mu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Hi(e,ju)}return!1}function Lu(e,t){nu.push(t,e),Xs||(Xs=!0,Gi(97,(function(){return Mu(),null})))}function Fu(e,t){ru.push(t,e),Xs||(Xs=!0,Gi(97,(function(){return Mu(),null})))}function ju(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ps))throw Error(o(331));var t=Ps;Ps|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ps=t,Yi(),!0}function Uu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(qt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))qt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Zu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Rs===e&&(Ms&n)===n&&(4===js||3===js&&(62914560&Ms)===Ms&&500>qi()-Ws?Su(e,0):qs|=n),mu(e,t)}function Bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===zi()?1:2:(0===uu&&(uu=Vs),0===(t=Zt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(qt(e,t,n),mu(e,n))}function qu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function zu(e,t,n,r){return new qu(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hu(e,t){var n=e.alternate;return null===n?((n=zu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Yu(n.children,i,a,t);case L:s=8,i|=16;break;case E:s=8,i|=1;break;case T:return(e=zu(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case O:return(e=zu(13,n,t,i)).type=O,e.elementType=O,e.lanes=a,e;case A:return(e=zu(19,n,t,i)).elementType=A,e.lanes=a,e;case F:return Ku(n,i,a,t);case j:return(e=zu(24,n,t,i)).elementType=j,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case C:s=9;break e;case N:s=11;break e;case P:s=14;break e;case R:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=zu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Yu(e,t,n,r){return(e=zu(7,e,r,t)).lanes=n,e}function Ku(e,t,n,r){return(e=zu(23,e,r,t)).elementType=F,e.lanes=n,e}function Qu(e,t,n){return(e=zu(6,e,null,t)).lanes=n,e}function $u(e,t,n){return(t=zu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Xu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=wi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=zu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}bu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Xu(e,t,null,n)}Ys=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Go(t),Ga();break;case 5:Ma(t);break;case 1:yi(t.type)&&bi(t);break;case 4:Ra(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=as(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return as(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Ho(null,t,r,!0,a,n)}else t.tag=0,jo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(i),e=$i(i,e),a){case 0:t=zo(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,$i(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,zo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Yr(t.stateNode.containerInfo.firstChild),Ua=t,a=Za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ya.push(a);for(n=Ia(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else jo(e,t,r,n),Ga();t=t.child}return t;case 5:return Ma(t),null===e&&za(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,zr(r,i)?s=null:null!==a&&zr(r,a)&&(t.flags|=16),qo(e,t),jo(e,t,s,n),t.child;case 6:return null===e&&za(t),null;case 13:return Jo(e,t,n);case 4:return Ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):jo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Ji,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}jo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,jo(e,t,r,n),t.child;case 14:return a=$i(i=t.type,t.pendingProps),Vo(e,t,i,a=$i(i.type,a),r,n);case 15:return Zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$i(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,bi(t)):e=!1,aa(t,n),ka(t,r,i),ba(t,r,i,n),Ho(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));$(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Re=wu,De=function(e,t,n,r,i){var a=Ps;Ps|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Ps=a)&&(Gs(),Yi())}},Me=function(){0===(49&Ps)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,qi())}))}Yi()}(),Mu())},Le=function(e,t){var n=Ps;Ps|=2;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Yi())}};var uc={Events:[ri,ii,ai,Ae,Pe,Mu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Si=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ps;if(0!==(48&n))return e(t);Ps|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Ps=n,Yi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(bu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},3381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},3813:function(e,t,n){var r=n(3381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return s(a(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(s+=e.slice(o,d),o=d+f.length,h)s+=h[1];else{var p=e[o],v=n[2],m=n[3],y=n[4],g=n[5],k=n[6],w=n[7];s&&(r.push(s),s="");var b=null!=v&&null!=p&&p!==v,x="+"===k||"*"===k,_="?"===k||"*"===k,S=n[2]||l,E=y||g;r.push({name:m||a++,prefix:v||"",delimiter:S,optional:_,repeat:x,partial:b,asterisk:!!w,pattern:E?c(E):w?".*":"[^"+u(S)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",s=t||{},u=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=s[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=u(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)o+=u(c);else{var h=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=u(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},9195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return b(e)===f}},8228:function(e,t,n){"use strict";n(9195)},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var w={current:null},b=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:w.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+T(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),I(o,t,n,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(s=e[c],c);u+=I(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=I(s=s.value,t,n,l=r+T(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function A(){var e=O.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)b.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return O()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};u(k,a,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(N([])));b&&b!==n&&r.call(b,a)&&(k=b);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:O}}function O(){return{value:t,done:!0}}return y.prototype=g,u(x,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(S.prototype),u(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,b=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?b.postMessage(null):(v=!1,m=null)}catch(n){throw b.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,b.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>E(o,n))void 0!==u&&0>E(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>E(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],I=[],C=1,N=null,O=3,A=!1,P=!1,R=!1;function D(e){for(var t=_(I);null!==t;){if(null===t.callback)S(I);else{if(!(t.startTime<=e))break;S(I),t.sortIndex=t.expirationTime,x(T,t)}t=_(I)}}function M(e){if(R=!1,D(e),!P)if(null!==_(T))P=!0,n(L);else{var t=_(I);null!==t&&r(M,t.startTime-e)}}function L(e,n){P=!1,R&&(R=!1,i()),A=!0;var a=O;try{for(D(n),N=_(T);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,O=N.priorityLevel;var s=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===_(T)&&S(T),D(n)}else S(T);N=_(T)}if(null!==N)var u=!0;else{var c=_(I);null!==c&&r(M,c.startTime-n),u=!1}return u}finally{N=null,O=a,A=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||A||(P=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return _(T)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(I,e),null===_(T)&&e===_(I)&&(R?i():R=!0,r(M,o-s))):(e.sortIndex=u,x(T,e),P||A||(P=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},7462:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},4578:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(9199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return $e},SDK_VERSION:function(){return Kt},_DEFAULT_ENTRY_NAME:function(){return Dt},_addComponent:function(){return jt},_addOrOverwriteComponent:function(){return Ut},_apps:function(){return Lt},_clearComponents:function(){return qt},_components:function(){return Ft},_getProvider:function(){return Zt},_registerComponent:function(){return Vt},_removeServiceInstance:function(){return Bt},deleteApp:function(){return Xt},getApp:function(){return $t},getApps:function(){return Jt},initializeApp:function(){return Qt},onLog:function(){return nn},registerVersion:function(){return tn},setLogLevel:function(){return rn}});var t=n(2791),r=n(4164);var i=n(9439),a=n(3880),o=n(6208),s=n(4578),u=n(7462);function c(e){return"/"===e.charAt(0)}function l(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var f=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&c(e),o=t&&c(t),s=a||o;if(e&&c(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var f=0,h=i.length;h>=0;h--){var d=i[h];"."===d?l(i,h):".."===d?(l(i,h),f++):f&&(l(i,h),f--)}if(!s)for(;f--;f)i.unshift("..");!s||""===i[0]||i[0]&&c(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p},h="Invariant failed";function d(e,t){if(!e)throw new Error(h)}function p(e){return"/"===e.charAt(0)?e:"/"+e}function v(e){return"/"===e.charAt(0)?e.substr(1):e}function m(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function y(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function g(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function k(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=(0,u.Z)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=f(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function w(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var b=!("undefined"===typeof window||!window.document||!window.document.createElement);function x(e,t){t(window.confirm(e))}var _="popstate",S="hashchange";function E(){try{return window.history.state||{}}catch(e){return{}}}function T(e){void 0===e&&(e={}),b||d(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,s=i.getUserConfirmation,c=void 0===s?x:s,l=i.keyLength,f=void 0===l?6:l,h=e.basename?y(p(e.basename)):"";function v(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return h&&(a=m(a,h)),k(a,r,n)}function T(){return Math.random().toString(36).substr(2,f)}var I=w();function C(e){(0,u.Z)(V,e),V.length=t.length,I.notifyListeners(V.location,V.action)}function N(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||P(v(e.state))}function O(){P(v(E()))}var A=!1;function P(e){if(A)A=!1,C();else{I.confirmTransitionTo(e,"POP",c,(function(t){t?C({action:"POP",location:e}):function(e){var t=V.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(A=!0,L(i))}(e)}))}}var R=v(E()),D=[R.key];function M(e){return h+g(e)}function L(e){t.go(e)}var F=0;function j(e){1===(F+=e)&&1===e?(window.addEventListener(_,N),r&&window.addEventListener(S,O)):0===F&&(window.removeEventListener(_,N),r&&window.removeEventListener(S,O))}var U=!1;var V={length:t.length,action:"POP",location:R,createHref:M,push:function(e,r){var i="PUSH",a=k(e,r,T(),V.location);I.confirmTransitionTo(a,i,c,(function(e){if(e){var r=M(a),s=a.key,u=a.state;if(n)if(t.pushState({key:s,state:u},null,r),o)window.location.href=r;else{var c=D.indexOf(V.location.key),l=D.slice(0,c+1);l.push(a.key),D=l,C({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=k(e,r,T(),V.location);I.confirmTransitionTo(a,i,c,(function(e){if(e){var r=M(a),s=a.key,u=a.state;if(n)if(t.replaceState({key:s,state:u},null,r),o)window.location.replace(r);else{var c=D.indexOf(V.location.key);-1!==c&&(D[c]=a.key),C({action:i,location:a})}else window.location.replace(r)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=I.setPrompt(e);return U||(j(1),U=!0),function(){return U&&(U=!1,j(-1)),t()}},listen:function(e){var t=I.appendListener(e);return j(1),function(){j(-1),t()}}};return V}var I="hashchange",C={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+v(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:v,decodePath:p},slash:{encodePath:p,decodePath:p}};function N(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function O(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function A(e){window.location.replace(N(window.location.href)+"#"+e)}function P(e){void 0===e&&{},b||d(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?x:r,a=n.hashType,o=void 0===a?"slash":a,s=e.basename?y(p(e.basename)):"",c=C[o],l=c.encodePath,f=c.decodePath;function h(){var e=f(O());return s&&m(e,s),k(e)}var v=w();function _(e){(0,u.Z)(V,e),V.length=t.length,v.notifyListeners(V.location,V.action)}var S=!1,E=null;function T(){var e,t,n=O(),r=l(n);if(n!==r)A(r);else{var a=h(),o=V.location;if(!S&&(a,o.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(E===g(a))return;null,function(e){if(S)!1,_();else{var t="POP";v.confirmTransitionTo(e,t,i,(function(n){n?_({action:t,location:e}):function(e){var t=V.location,n=M.lastIndexOf(g(t));-1===n&&0;var r=M.lastIndexOf(g(e));-1===r&&0;var i=n-r;i&&(!0,L(i))}(e)}))}}(a)}}var P=O(),R=l(P);P!==R&&A(R);var D=h(),M=[g(D)];function L(e){t.go(e)}var F=0;function j(e){1===(F+=e)&&1===e?window.addEventListener(I,T):0===F&&window.removeEventListener(I,T)}var U=!1;var V={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&N(window.location.href),n+"#"+l(s+g(e))},push:function(e,t){var n="PUSH",r=k(e,void 0,void 0,V.location);v.confirmTransitionTo(r,n,i,(function(e){if(e){var t=g(r),i=l(s+t);if(O()!==i){t,function(e){window.location.hash=e}(i);var a=M.lastIndexOf(g(V.location)),o=M.slice(0,a+1);o.push(t),o,_({action:n,location:r})}else _()}}))},replace:function(e,t){var n="REPLACE",r=k(e,void 0,void 0,V.location);v.confirmTransitionTo(r,n,i,(function(e){if(e){var t=g(r),i=l(s+t);O()!==i&&(t,A(i));var a=M.indexOf(g(V.location));-1!==a&&(M[a]=t),_({action:n,location:r})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&!1;var t=v.setPrompt(e);return U||(j(1),!0),function(){return U&&(!1,j(-1)),t()}},listen:function(e){var t=v.appendListener(e);return j(1),function(){j(-1),t()}}};return V}function R(e,t,n){return Math.min(Math.max(e,t),n)}function D(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,o=void 0===a?0:a,s=t.keyLength,c=void 0===s?6:s,l=w();function f(e){(0,u.Z)(y,e),y.length=y.entries.length,l.notifyListeners(y.location,y.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=R(o,0,i.length-1),p=i.map((function(e){return k(e,void 0,"string"===typeof e?h():e.key||h())})),v=g;function m(e){var t=R(y.index+e,0,y.entries.length-1),r=y.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var y={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:v,push:function(e,t){var r="PUSH",i=k(e,t,h(),y.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=y.index+1,n=y.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=k(e,t,h(),y.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(y.entries[y.index]=i,f({action:r,location:i}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=y.index+e;return t>=0&&t<y.entries.length},block:function(e){return void 0===e&&!1,l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return y}var M=n(2007),L=n.n(M),F=1073741823,j="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function U(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var V=t.createContext||function(e,n){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return j[e]=(j[e]||0)+1}()+"__",o=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=U(t.props.value),t}(0,s.Z)(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):F,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);o.childContextTypes=((r={})[a]=L().object.isRequired,r);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}(0,s.Z)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?F:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?F:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return u.contextTypes=((i={})[a]=L().object,i),{Provider:o,Consumer:u}},Z=V,B=n(3813),q=n.n(B),z=(n(8228),n(3366)),W=(n(2110),function(e){var t=Z();return t.displayName=e,t}),H=W("Router-History"),G=function(e){var t=Z();return t.displayName=e,t},Y=G("Router"),K=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}(0,s.Z)(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return t.createElement(Y.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(H.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;t.Component;var Q={},$=0;function J(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,s=void 0!==o&&o,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Q[n]||(Q[n]={});if(r[e])return r[e];var i=[],a={regexp:q()(e,i,t),keys:i};return $<1e4&&(r[e]=a,$++),a}(n,{end:a,strict:s,sensitive:c}),i=r.regexp,o=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var X=function(e){function n(){return e.apply(this,arguments)||this}return(0,s.Z)(n,e),n.prototype.render=function(){var e=this;return t.createElement(Y.Consumer,null,(function(n){n||d(!1);var r=e.props.location||n.location,i=e.props.computedMatch?e.props.computedMatch:e.props.path?J(r.pathname,e.props):n.match,a=(0,u.Z)({},n,{location:r,match:i}),o=e.props,s=o.children,c=o.component,l=o.render;return Array.isArray(s)&&0===s.length&&(s=null),t.createElement(Y.Provider,{value:a},a.match?s?"function"===typeof s?s(a):s:c?t.createElement(c,a):l?l(a):null:"function"===typeof s?s(a):null)}))},n}(t.Component);function ee(e){return"/"===e.charAt(0)?e:"/"+e}function te(e,t){if(!e)return t;var n=ee(e);return 0!==t.pathname.indexOf(n)?t:(0,u.Z)({},t,{pathname:t.pathname.substr(n.length)})}function ne(e){return"string"===typeof e?e:g(e)}function re(e){return function(){d(!1)}}function ie(){}t.Component;var ae=function(e){function n(){return e.apply(this,arguments)||this}return(0,s.Z)(n,e),n.prototype.render=function(){var e=this;return t.createElement(Y.Consumer,null,(function(n){n||d(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var o=e.props.path||e.props.from;i=o?J(a.pathname,(0,u.Z)({},e.props,{path:o})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);var oe=t.useContext;function se(){return oe(H)}var ue=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=T(t.props),t}return(0,s.Z)(n,e),n.prototype.render=function(){return t.createElement(K,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var ce=function(e,t){return"function"===typeof e?e(t):e},le=function(e,t){return"string"===typeof e?k(e,null,null,t):e},fe=function(e){return e},he=t.forwardRef;"undefined"===typeof he&&(he=fe);var de=he((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,o=(0,z.Z)(e,["innerRef","navigate","onClick"]),s=o.target,c=(0,u.Z)({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return c.ref=fe!==he&&n||r,t.createElement("a",c)}));var pe=he((function(e,n){var r=e.component,i=void 0===r?de:r,a=e.replace,o=e.to,s=e.innerRef,c=(0,z.Z)(e,["component","replace","to","innerRef"]);return t.createElement(Y.Consumer,null,(function(e){e||d(!1);var r=e.history,l=le(ce(o,e.location),e.location),f=l?r.createHref(l):"",h=(0,u.Z)({},c,{href:f,navigate:function(){var t=ce(o,e.location);(a?r.replace:r.push)(t)}});return fe!==he?h.ref=n||s:h.innerRef=s,t.createElement(i,h)}))})),ve=function(e){return e},me=t.forwardRef;"undefined"===typeof me&&(me=ve);me((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,o=void 0===a?"active":a,s=e.activeStyle,c=e.className,l=e.exact,f=e.isActive,h=e.location,p=e.sensitive,v=e.strict,m=e.style,y=e.to,g=e.innerRef,k=(0,z.Z)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(Y.Consumer,null,(function(e){e||d(!1);var r=h||e.location,a=le(ce(y,r),r),w=a.pathname,b=w&&w.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=b?J(r.pathname,{path:b,exact:l,sensitive:p,strict:v}):null,_=!!(f?f(x,r):x),S=_?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(c,o):c,E=_?(0,u.Z)({},m,{},s):m,T=(0,u.Z)({"aria-current":_&&i||null,className:S,style:E,to:a},k);return ve!==me?T.ref=n||g:T.innerRef=g,t.createElement(pe,T)}))}));var ye=n(184),ge=(0,t.createContext)(),ke=function(e){var n=e.reducer,r=e.initialState,i=e.children;return(0,ye.jsx)(ge.Provider,{value:(0,t.useReducer)(n,r),children:i})},we=function(){return(0,t.useContext)(ge)},be=n(4942);function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _e=n(3144),Se=n(181);function Ee(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,Se.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}var Te=n(7326),Ie=n(9611);function Ce(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,Ie.Z)(e,t)}function Ne(e){return Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ne(e)}function Oe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Ae=n(1002);function Pe(e,t){if(t&&("object"===(0,Ae.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,Te.Z)(e)}function Re(e){var t=Oe();return function(){var n,r=Ne(e);if(t){var i=Ne(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pe(this,n)}}function De(e,t,n){return De=Oe()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,Ie.Z)(i,n.prototype),i},De.apply(null,arguments)}function Me(e){var t="function"===typeof Map?new Map:void 0;return Me=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return De(e,arguments,Ne(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,Ie.Z)(n,e)},Me(e)}var Le=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Le(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},je=function(e){return function(e){var t=Le(e);return Fe.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ue=function(e){try{return Fe.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ve(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Ze(n)&&(e[n]=Ve(e[n],t[n]));return e}function Ze(e){return"__proto__"!==e}var Be=function(){function e(){var t=this;xe(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return(0,_e.Z)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function qe(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[je(JSON.stringify({alg:"none",type:"JWT"})),je(JSON.stringify(a)),""].join(".")}function ze(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function We(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function He(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Ge(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ye(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ke(){var e=ze();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Qe(){return"object"===typeof indexedDB}var $e=function(e){Ce(n,e);var t=Re(n);function n(e,r,i){var a;return xe(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf((0,Te.Z)(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,Te.Z)(a),Je.prototype.create),a}return(0,_e.Z)(n)}(Me(Error)),Je=function(){function e(t,n,r){xe(this,e),this.service=t,this.serviceName=n,this.errors=r}return(0,_e.Z)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Xe(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new $e(n,a,t);return o}}]),e}();function Xe(e,t){return e.replace(et,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var et=/\{\$([^}]+)}/g;function tt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function nt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(rt(s)&&rt(u)){if(!nt(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function rt(e){return null!==e&&"object"===typeof e}function it(e){for(var t=[],n=function(){var e=(0,i.Z)(a[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,a=Object.entries(e);r<a.length;r++)n();return t.length?"&"+t.join("&"):""}function at(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,i.Z)(n,2),a=r[0],o=r[1];t[decodeURIComponent(a)]=decodeURIComponent(o)}})),t}function ot(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function st(e,t){var n=new ut(e,t);return n.subscribe.bind(n)}var ut=function(){function e(t,n){var r=this;xe(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return(0,_e.Z)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Ee(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ct),void 0===r.error&&(r.error=ct),void 0===r.complete&&(r.complete=ct);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ct(){}function lt(e){return e&&e._delegate?e._delegate:e}var ft=n(3433);function ht(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function dt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ht(a,r,i,o,s,"next",e)}function s(e){ht(a,r,i,o,s,"throw",e)}o(void 0)}))}}var pt=n(7757),vt=n.n(pt),mt=function(){function e(t,n,r){xe(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,_e.Z)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),yt="[DEFAULT]",gt=function(){function e(t,n){xe(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,_e.Z)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Be;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:yt})}catch(c){}var t,n=Ee(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,i.Z)(t.value,2),a=r[0],o=r[1],s=this.normalizeInstanceIdentifier(a);try{var u=this.getOrInitializeService({instanceIdentifier:s});o.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=dt(pt.mark((function e(){var t;return pt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,ft.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,ft.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=Ee(this.instancesDeferred.entries());try{for(s.s();!(a=s.n()).done;){var u=(0,i.Z)(a.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(o)}}catch(h){s.e(h)}finally{s.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Ee(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Y_){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===yt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Y_){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt;return this.component?this.component.multipleInstances?e:yt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var kt,wt,bt=function(){function e(t){xe(this,e),this.name=t,this.providers=new Map}return(0,_e.Z)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new gt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),xt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(wt||(wt={}));var _t,St,Et={debug:wt.DEBUG,verbose:wt.VERBOSE,info:wt.INFO,warn:wt.WARN,error:wt.ERROR,silent:wt.SILENT},Tt=wt.INFO,It=(kt={},(0,be.Z)(kt,wt.DEBUG,"log"),(0,be.Z)(kt,wt.VERBOSE,"log"),(0,be.Z)(kt,wt.INFO,"info"),(0,be.Z)(kt,wt.WARN,"warn"),(0,be.Z)(kt,wt.ERROR,"error"),kt),Ct=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=It[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Nt=function(){function e(t){xe(this,e),this.name=t,this._logLevel=Tt,this._logHandler=Ct,this._userLogHandler=null,xt.push(this)}return(0,_e.Z)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in wt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Et[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wt.DEBUG].concat(t)),this._logHandler.apply(this,[this,wt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,wt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wt.INFO].concat(t)),this._logHandler.apply(this,[this,wt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wt.WARN].concat(t)),this._logHandler.apply(this,[this,wt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wt.ERROR].concat(t)),this._logHandler.apply(this,[this,wt.ERROR].concat(t))}}]),e}();var Ot=function(){function e(t){xe(this,e),this.container=t}return(0,_e.Z)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var At="@firebase/app",Pt="0.7.17",Rt=new Nt("@firebase/app"),Dt="[DEFAULT]",Mt=(_t={},(0,be.Z)(_t,At,"fire-core"),(0,be.Z)(_t,"@firebase/app-compat","fire-core-compat"),(0,be.Z)(_t,"@firebase/analytics","fire-analytics"),(0,be.Z)(_t,"@firebase/analytics-compat","fire-analytics-compat"),(0,be.Z)(_t,"@firebase/app-check","fire-app-check"),(0,be.Z)(_t,"@firebase/app-check-compat","fire-app-check-compat"),(0,be.Z)(_t,"@firebase/auth","fire-auth"),(0,be.Z)(_t,"@firebase/auth-compat","fire-auth-compat"),(0,be.Z)(_t,"@firebase/database","fire-rtdb"),(0,be.Z)(_t,"@firebase/database-compat","fire-rtdb-compat"),(0,be.Z)(_t,"@firebase/functions","fire-fn"),(0,be.Z)(_t,"@firebase/functions-compat","fire-fn-compat"),(0,be.Z)(_t,"@firebase/installations","fire-iid"),(0,be.Z)(_t,"@firebase/installations-compat","fire-iid-compat"),(0,be.Z)(_t,"@firebase/messaging","fire-fcm"),(0,be.Z)(_t,"@firebase/messaging-compat","fire-fcm-compat"),(0,be.Z)(_t,"@firebase/performance","fire-perf"),(0,be.Z)(_t,"@firebase/performance-compat","fire-perf-compat"),(0,be.Z)(_t,"@firebase/remote-config","fire-rc"),(0,be.Z)(_t,"@firebase/remote-config-compat","fire-rc-compat"),(0,be.Z)(_t,"@firebase/storage","fire-gcs"),(0,be.Z)(_t,"@firebase/storage-compat","fire-gcs-compat"),(0,be.Z)(_t,"@firebase/firestore","fire-fst"),(0,be.Z)(_t,"@firebase/firestore-compat","fire-fst-compat"),(0,be.Z)(_t,"fire-js","fire-js"),(0,be.Z)(_t,"firebase","fire-js-all"),_t),Lt=new Map,Ft=new Map;function jt(e,t){try{e.container.addComponent(t)}catch(n){Rt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ut(e,t){e.container.addOrOverwriteComponent(t)}function Vt(e){var t=e.name;if(Ft.has(t))return Rt.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ft.set(t,e);var n,r=Ee(Lt.values());try{for(r.s();!(n=r.n()).done;){jt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Zt(e,t){return e.container.getProvider(t)}function Bt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dt;Zt(e,t).clearInstance(n)}function qt(){Ft.clear()}var zt,Wt,Ht=(St={},(0,be.Z)(St,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,be.Z)(St,"bad-app-name","Illegal App name: '{$appName}"),(0,be.Z)(St,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,be.Z)(St,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,be.Z)(St,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,be.Z)(St,"invalid-log-argument","First argument to `onLog` must be null or a function."),St),Gt=new Je("app","Firebase",Ht),Yt=function(){function e(t,n,r){var i=this;xe(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mt("app",(function(){return i}),"PUBLIC"))}return(0,_e.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Gt.create("app-deleted",{appName:this._name})}}]),e}(),Kt="9.6.7";function Qt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Dt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Gt.create("bad-app-name",{appName:String(i)});var a=Lt.get(i);if(a){if(nt(e,a.options)&&nt(r,a.config))return a;throw Gt.create("duplicate-app",{appName:i})}var o,s=new bt(i),u=Ee(Ft.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Yt(e,r,s);return Lt.set(i,l),l}function $t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=Lt.get(e);if(!t)throw Gt.create("no-app",{appName:e});return t}function Jt(){return Array.from(Lt.values())}function Xt(e){return en.apply(this,arguments)}function en(){return(en=dt(pt.mark((function e(t){var n;return pt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Lt.has(n)){e.next=6;break}return Lt.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tn(e,t,n){var r,i=null!==(r=Mt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Rt.warn(s.join(" "))}Vt(new mt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function nn(e,t){if(null!==e&&"function"!==typeof e)throw Gt.create("invalid-log-argument");!function(e,t){var n,r=Ee(xt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Et[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:wt[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function rn(e){var t;t=e,xt.forEach((function(e){e.setLogLevel(t)}))}zt="",Vt(new mt("platform-logger",(function(e){return new Ot(e)}),"PRIVATE")),tn(At,Pt,zt),tn(At,Pt,"esm2017"),tn("fire-js","");var an=function(){function e(t,n){var r=this;xe(this,e),this._delegate=t,this.firebase=n,jt(t,new mt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return(0,_e.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Xt(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){jt(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Ut(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),on=(Wt={},(0,be.Z)(Wt,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,be.Z)(Wt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Wt),sn=new Je("app-compat","Firebase",on);var un=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Qt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(tt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:tn,setLogLevel:rn,onLog:nn,apps:null,SDK_VERSION:Kt,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Vt(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw sn.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ve(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!tt(n,e=e||Dt))throw sn.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(an);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ve(n,e)},createSubscribe:st,ErrorFactory:Je,deepExtend:Ve}),n}(),cn=new Nt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){cn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ln=self.firebase.SDK_VERSION;ln&&ln.indexOf("LITE")>=0&&cn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var fn=un;!function(e){tn("@firebase/app-compat","0.1.18",e)}();fn.registerVersion("firebase","9.6.7","app-compat");var hn=n(3878),dn=n(9199),pn=n(5267);function vn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ne(e)););return e}function mn(){return mn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=vn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},mn.apply(this,arguments)}function yn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var gn;Object.create;var kn="facebook.com",wn="github.com",bn="google.com",xn="password",_n="twitter.com",Sn="EMAIL_SIGNIN",En="PASSWORD_RESET",Tn="RECOVER_EMAIL",In="REVERT_SECOND_FACTOR_ADDITION",Cn="VERIFY_AND_CHANGE_EMAIL",Nn="VERIFY_EMAIL";function On(){return(0,be.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var An=function(){var e;return e={},(0,be.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,be.Z)(e,"argument-error",""),(0,be.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,be.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,be.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,be.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,be.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,be.Z)(e,"cors-unsupported","This browser is not supported."),(0,be.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,be.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,be.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,be.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,be.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,be.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,be.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,be.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,be.Z)(e,"expired-action-code","The action code has expired."),(0,be.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,be.Z)(e,"internal-error","An internal AuthError has occurred."),(0,be.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,be.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,be.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,be.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,be.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,be.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,be.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,be.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,be.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,be.Z)(e,"invalid-email","The email address is badly formatted."),(0,be.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,be.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,be.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,be.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,be.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,be.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,be.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,be.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,be.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,be.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,be.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,be.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,be.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,be.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,be.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,be.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,be.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,be.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,be.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,be.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,be.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,be.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,be.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,be.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,be.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,be.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,be.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,be.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,be.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,be.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,be.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,be.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,be.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,be.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,be.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,be.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,be.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,be.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,be.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,be.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,be.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,be.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,be.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,be.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,be.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,be.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,be.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,be.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,be.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,be.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,be.Z)(e,"timeout","The operation has timed out."),(0,be.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,be.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,be.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,be.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,be.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,be.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,be.Z)(e,"unverified-email","The operation requires a verified email."),(0,be.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,be.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,be.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,be.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,be.Z)(e,"user-signed-out",""),(0,be.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,be.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,be.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Pn=On,Rn=new Je("auth","Firebase",On()),Dn=new Nt("@firebase/auth");function Mn(e){if(Dn.logLevel<=wt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Dn.error.apply(Dn,["Auth (".concat(Kt,"): ").concat(e)].concat(n))}}function Ln(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Vn.apply(void 0,[e].concat(n))}function Fn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Vn.apply(void 0,[e].concat(n))}function jn(e,t,n){var r=Object.assign(Object.assign({},Pn()),(0,be.Z)({},t,n));return new Je("auth","Firebase",r).create(t,{appName:e.name})}function Un(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ln(e,"argument-error"),jn(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Vn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,ft.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,ft.Z)(o)))}return Rn.create.apply(Rn,[e].concat(n))}function Zn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Vn.apply(void 0,[t].concat(r))}}function Bn(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Mn(t),new Error(t)}function qn(e,t){e||Bn(t)}var zn=new Map;function Wn(e){qn(e instanceof Function,"Expected a class definition");var t=zn.get(e);return t?(qn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,zn.set(e,t),t)}function Hn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Gn(){return"http:"===Yn()||"https:"===Yn()}function Yn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Kn=function(){function e(t,n){xe(this,e),this.shortDelay=t,this.longDelay=n,qn(n>t,"Short delay should be less than long delay!"),this.isMobile=We()||Ye()}return(0,_e.Z)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Gn()||Ge()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Qn(e,t){qn(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var $n=function(){function e(){xe(this,e)}return(0,_e.Z)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Jn=(gn={},(0,be.Z)(gn,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,be.Z)(gn,"MISSING_CUSTOM_TOKEN","internal-error"),(0,be.Z)(gn,"INVALID_IDENTIFIER","invalid-email"),(0,be.Z)(gn,"MISSING_CONTINUE_URI","internal-error"),(0,be.Z)(gn,"INVALID_PASSWORD","wrong-password"),(0,be.Z)(gn,"MISSING_PASSWORD","internal-error"),(0,be.Z)(gn,"EMAIL_EXISTS","email-already-in-use"),(0,be.Z)(gn,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,be.Z)(gn,"INVALID_IDP_RESPONSE","invalid-credential"),(0,be.Z)(gn,"INVALID_PENDING_TOKEN","invalid-credential"),(0,be.Z)(gn,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,be.Z)(gn,"MISSING_REQ_TYPE","internal-error"),(0,be.Z)(gn,"EMAIL_NOT_FOUND","user-not-found"),(0,be.Z)(gn,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,be.Z)(gn,"EXPIRED_OOB_CODE","expired-action-code"),(0,be.Z)(gn,"INVALID_OOB_CODE","invalid-action-code"),(0,be.Z)(gn,"MISSING_OOB_CODE","internal-error"),(0,be.Z)(gn,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,be.Z)(gn,"INVALID_ID_TOKEN","invalid-user-token"),(0,be.Z)(gn,"TOKEN_EXPIRED","user-token-expired"),(0,be.Z)(gn,"USER_NOT_FOUND","user-token-expired"),(0,be.Z)(gn,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,be.Z)(gn,"INVALID_CODE","invalid-verification-code"),(0,be.Z)(gn,"INVALID_SESSION_INFO","invalid-verification-id"),(0,be.Z)(gn,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,be.Z)(gn,"MISSING_SESSION_INFO","missing-verification-id"),(0,be.Z)(gn,"SESSION_EXPIRED","code-expired"),(0,be.Z)(gn,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,be.Z)(gn,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,be.Z)(gn,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,be.Z)(gn,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,be.Z)(gn,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,be.Z)(gn,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,be.Z)(gn,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,be.Z)(gn,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,be.Z)(gn,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,be.Z)(gn,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,be.Z)(gn,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),gn),Xn=new Kn(3e4,6e4);function er(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function tr(e,t,n,r){return nr.apply(this,arguments)}function nr(){return nr=dt(vt().mark((function e(t,n,r,i){var a,o=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",rr(t,a,dt(vt().mark((function e(){var a,o,s,u;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=it(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",$n.fetch()(sr(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),nr.apply(this,arguments)}function rr(e,t,n){return ir.apply(this,arguments)}function ir(){return ir=dt(vt().mark((function e(t,n,r){var a,o,s,u,c,l,f,h,d,p;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,a=Object.assign(Object.assign({},Jn),n),e.prev=2,o=new ur(t),e.next=6,Promise.race([r(),o.promise]);case 6:return s=e.sent,o.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw cr(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=s.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=(0,i.Z)(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw cr(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw cr(t,"email-already-in-use",u);case 25:if(p=a[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw jn(t,p,d);case 30:Ln(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof $e)){e.next=37;break}throw e.t0;case 37:Ln(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),ir.apply(this,arguments)}function ar(e,t,n,r){return or.apply(this,arguments)}function or(){return or=dt(vt().mark((function e(t,n,r,i){var a,o,s=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,tr(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Ln(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),or.apply(this,arguments)}function sr(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Qn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ur=function(){function e(t){var n=this;xe(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Fn(n.auth,"network-request-failed"))}),Xn.get())}))}return(0,_e.Z)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function cr(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Fn(e,t,r);return i.customData._tokenResponse=n,i}function lr(e,t){return fr.apply(this,arguments)}function fr(){return fr=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tr(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),fr.apply(this,arguments)}function hr(e,t){return dr.apply(this,arguments)}function dr(){return dr=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),dr.apply(this,arguments)}function pr(e,t){return vr.apply(this,arguments)}function vr(){return vr=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tr(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),vr.apply(this,arguments)}function mr(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function yr(){return yr=dt(vt().mark((function e(t){var n,r,i,a,o,s,u=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=lt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Zn((a=kr(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:mr(gr(a.auth_time)),issuedAtTime:mr(gr(a.iat)),expirationTime:mr(gr(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),yr.apply(this,arguments)}function gr(e){return 1e3*Number(e)}function kr(e){var t=e.split("."),n=(0,i.Z)(t,3),r=n[0],a=n[1],o=n[2];if(void 0===r||void 0===a||void 0===o)return Mn("JWT malformed, contained fewer than 3 sections"),null;try{var s=Ue(a);return s?JSON.parse(s):(Mn("Failed to decode base64 JWT payload"),null)}catch(u){return Mn("Caught error parsing JWT payload as JSON",u),null}}function wr(e,t){return br.apply(this,arguments)}function br(){return br=dt(vt().mark((function e(t,n){var r=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof $e&&xr(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),br.apply(this,arguments)}function xr(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var _r=function(){function e(t){xe(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return(0,_e.Z)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(dt(vt().mark((function t(){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Sr=function(){function e(t,n){xe(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return(0,_e.Z)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=mr(this.lastLoginAt),this.creationTime=mr(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Er(e){return Tr.apply(this,arguments)}function Tr(){return Tr=dt(vt().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,wr(t,pr(r,{idToken:i}));case 6:Zn(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Nr(o.providerUserInfo):[],u=Cr(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Sr(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Tr.apply(this,arguments)}function Ir(){return(Ir=dt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=lt(t),e.next=3,Er(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cr(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,ft.Z)(n),(0,ft.Z)(t))}function Nr(e){return e.map((function(e){var t=e.providerId,n=yn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Or(e,t){return Ar.apply(this,arguments)}function Ar(){return Ar=dt(vt().mark((function e(t,n){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rr(t,{},dt(vt().mark((function e(){var r,i,a,o,s,u;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=it({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=sr(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",$n.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Ar.apply(this,arguments)}var Pr=function(){function e(){xe(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return(0,_e.Z)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Zn(e.idToken,"internal-error"),Zn("undefined"!==typeof e.idToken,"internal-error"),Zn("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=kr(e);return Zn(t,"internal-error"),Zn("undefined"!==typeof t.exp,"internal-error"),Zn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=dt(vt().mark((function e(t){var n,r=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Zn(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=dt(vt().mark((function e(t,n){var r,i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Or(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Bn("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Zn("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Zn("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Zn("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Rr(e,t){Zn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Dr=function(){function e(t){xe(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=yn(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _r(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,ft.Z)(a.providerData):[],this.metadata=new Sr(a.createdAt||void 0,a.lastLoginAt||void 0)}return(0,_e.Z)(e,[{key:"getIdToken",value:function(){var e=dt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wr(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Zn(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return yr.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ir.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Zn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Zn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=dt(vt().mark((function e(t){var n,r,i=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Er(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=dt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,wr(this,lr(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Zn(k&&_,t,"internal-error");var S=Pr.fromJSON(this.name,_);Zn("string"===typeof k,t,"internal-error"),Rr(f,t.name),Rr(h,t.name),Zn("boolean"===typeof w,t,"internal-error"),Zn("boolean"===typeof b,t,"internal-error"),Rr(d,t.name),Rr(p,t.name),Rr(v,t.name),Rr(m,t.name),Rr(y,t.name),Rr(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=dt(vt().mark((function t(n,r){var i,a,o,s=arguments;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Pr).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Er(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Mr=function(){function e(){xe(this,e),this.type="NONE",this.storage={}}return(0,_e.Z)(e,[{key:"_isAvailable",value:function(){var e=dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=dt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Mr.type="NONE";var Lr=Mr;function Fr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var jr=function(){function e(t,n,r){xe(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Fr(this.userKey,a.apiKey,o),this.fullPersistenceKey=Fr("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return(0,_e.Z)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=dt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Dr._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=dt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=dt(vt().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Wn(Lr),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Wn(Lr),s=Fr(i,n.config.apiKey,n.name),u=null,c=Ee(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=Dr._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ur(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(qr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Vr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Wr(t))return"Blackberry";if(Hr(t))return"Webos";if(Zr(t))return"Safari";if((t.includes("chrome/")||Br(t))&&!t.includes("edge/"))return"Chrome";if(zr(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Vr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze();return/firefox\//i.test(e)}function Zr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Br(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze();return/crios\//i.test(e)}function qr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze();return/iemobile/i.test(e)}function zr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze();return/android/i.test(e)}function Wr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze();return/blackberry/i.test(e)}function Hr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze();return/webos/i.test(e)}function Gr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze();return/iphone|ipad|ipod/i.test(e)}function Yr(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze();return Gr(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Kr(){return Ke()&&10===document.documentMode}function Qr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze();return Gr(e)||zr(e)||Hr(e)||Wr(e)||/windows phone/i.test(e)||qr(e)}function $r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ur(ze());break;case"Worker":t="".concat(Ur(ze()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Kt,"/").concat(r)}var Jr=function(){function e(t,n){xe(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ei(this),this.idTokenSubscription=new ei(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return(0,_e.Z)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Wn(t)),this._initializationPromise=this.queue(dt(vt().mark((function r(){var i,a;return vt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,jr.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=dt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=dt(vt().mark((function e(t){var n,r,i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Zn(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=dt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Er(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=dt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?lt(t):null)&&Zn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=dt(vt().mark((function e(t){var n=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Zn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(dt(vt().mark((function n(){return vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Wn(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Je("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=dt(vt().mark((function e(t,n){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=dt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Zn(n=t&&Wn(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,jr.create(this,[Wn(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=dt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=dt(vt().mark((function e(t){var n=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Zn(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Zn(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$r(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=dt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,be.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Xr(e){return lt(e)}var ei=function(){function e(t){var n=this;xe(this,e),this.auth=t,this.observer=null,this.addObserver=st((function(e){return n.observer=e}))}return(0,_e.Z)(e,[{key:"next",get:function(){return Zn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function ti(e,t,n){var r=Xr(e);Zn(r._canInitEmulator,r,"emulator-config-failed"),Zn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var a=!!(null===n||void 0===n?void 0:n.disableWarnings),o=ni(t),s=function(e){var t=ni(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){var o=a[1];return{host:o,port:ri(r.substr(o.length+1))}}var s=r.split(":"),u=(0,i.Z)(s,2);return{host:u[0],port:ri(u[1])}}(t),u=s.host,c=s.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(o,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ni(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ri(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ii=function(){function e(t,n){xe(this,e),this.providerId=t,this.signInMethod=n}return(0,_e.Z)(e,[{key:"toJSON",value:function(){return Bn("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Bn("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Bn("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Bn("not implemented")}}]),e}();function ai(e,t){return oi.apply(this,arguments)}function oi(){return oi=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tr(t,"POST","/v1/accounts:resetPassword",er(t,n)));case 1:case"end":return e.stop()}}),e)}))),oi.apply(this,arguments)}function si(e,t){return ui.apply(this,arguments)}function ui(){return ui=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ui.apply(this,arguments)}function ci(e,t){return li.apply(this,arguments)}function li(){return li=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tr(t,"POST","/v1/accounts:update",er(t,n)));case 1:case"end":return e.stop()}}),e)}))),li.apply(this,arguments)}function fi(e,t){return hi.apply(this,arguments)}function hi(){return hi=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ar(t,"POST","/v1/accounts:signInWithPassword",er(t,n)));case 1:case"end":return e.stop()}}),e)}))),hi.apply(this,arguments)}function di(e,t){return pi.apply(this,arguments)}function pi(){return pi=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tr(t,"POST","/v1/accounts:sendOobCode",er(t,n)));case 1:case"end":return e.stop()}}),e)}))),pi.apply(this,arguments)}function vi(e,t){return mi.apply(this,arguments)}function mi(){return mi=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(t,n));case 1:case"end":return e.stop()}}),e)}))),mi.apply(this,arguments)}function yi(e,t){return gi.apply(this,arguments)}function gi(){return gi=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(t,n));case 1:case"end":return e.stop()}}),e)}))),gi.apply(this,arguments)}function ki(e,t){return wi.apply(this,arguments)}function wi(){return wi=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(t,n));case 1:case"end":return e.stop()}}),e)}))),wi.apply(this,arguments)}function bi(e,t){return xi.apply(this,arguments)}function xi(){return xi=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(t,n));case 1:case"end":return e.stop()}}),e)}))),xi.apply(this,arguments)}function _i(e,t){return Si.apply(this,arguments)}function Si(){return Si=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ar(t,"POST","/v1/accounts:signInWithEmailLink",er(t,n)));case 1:case"end":return e.stop()}}),e)}))),Si.apply(this,arguments)}function Ei(e,t){return Ti.apply(this,arguments)}function Ti(){return Ti=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ar(t,"POST","/v1/accounts:signInWithEmailLink",er(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ti.apply(this,arguments)}var Ii=function(e){Ce(n,e);var t=Re(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return xe(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return(0,_e.Z)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",fi(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",_i(t,{email:this._email,oobCode:this._password}));case 5:Ln(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",si(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ei(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Ln(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ii);function Ci(e,t){return Ni.apply(this,arguments)}function Ni(){return Ni=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ar(t,"POST","/v1/accounts:signInWithIdp",er(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ni.apply(this,arguments)}var Oi=function(e){Ce(n,e);var t=Re(n);function n(){var e;return xe(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return(0,_e.Z)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Ci(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ci(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ci(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=it(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ln("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=yn(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ii);function Ai(e,t){return Pi.apply(this,arguments)}function Pi(){return Pi=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tr(t,"POST","/v1/accounts:sendVerificationCode",er(t,n)));case 1:case"end":return e.stop()}}),e)}))),Pi.apply(this,arguments)}function Ri(){return Ri=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ar(t,"POST","/v1/accounts:signInWithPhoneNumber",er(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ri.apply(this,arguments)}function Di(){return Di=dt(vt().mark((function e(t,n){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ar(t,"POST","/v1/accounts:signInWithPhoneNumber",er(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw cr(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Di.apply(this,arguments)}var Mi=(0,be.Z)({},"USER_NOT_FOUND","user-not-found");function Li(){return Li=dt(vt().mark((function e(t,n){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ar(t,"POST","/v1/accounts:signInWithPhoneNumber",er(t,r),Mi));case 2:case"end":return e.stop()}}),e)}))),Li.apply(this,arguments)}var Fi=function(e){Ce(n,e);var t=Re(n);function n(e){var r;return xe(this,n),(r=t.call(this,"phone","phone")).params=e,r}return(0,_e.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ri.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Di.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Li.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ii);var ji=function(){function e(t){var n,r,i,a,o,s;xe(this,e);var u=at(ot(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Zn(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return(0,_e.Z)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=at(ot(e)).link,n=t?at(ot(t)).deep_link_id:null,r=at(ot(e)).deep_link_id;return(r?at(ot(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Y_){return null}}}]),e}();var Ui=function(){function e(){xe(this,e),this.providerId=e.PROVIDER_ID}return(0,_e.Z)(e,null,[{key:"credential",value:function(e,t){return Ii._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ji.parseLink(t);return Zn(n,"argument-error"),Ii._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ui.PROVIDER_ID="password",Ui.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ui.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Vi=function(){function e(t){xe(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return(0,_e.Z)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Zi=function(e){Ce(n,e);var t=Re(n);function n(){var e;return xe(this,n),(e=t.apply(this,arguments)).scopes=[],e}return(0,_e.Z)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,ft.Z)(this.scopes)}}]),n}(Vi),Bi=function(e){Ce(n,e);var t=Re(n);function n(){return xe(this,n),t.apply(this,arguments)}return(0,_e.Z)(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Zn(e.idToken||e.accessToken,"argument-error"),Oi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Zn("providerId"in t&&"signInMethod"in t,"argument-error"),Oi._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Zi),qi=function(e){Ce(n,e);var t=Re(n);function n(){return xe(this,n),t.call(this,"facebook.com")}return(0,_e.Z)(n,null,[{key:"credential",value:function(e){return Oi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Y_){return null}}}]),n}(Zi);qi.FACEBOOK_SIGN_IN_METHOD="facebook.com",qi.PROVIDER_ID="facebook.com";var zi=function(e){Ce(n,e);var t=Re(n);function n(){var e;return xe(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return(0,_e.Z)(n,null,[{key:"credential",value:function(e,t){return Oi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Y_){return null}}}]),n}(Zi);zi.GOOGLE_SIGN_IN_METHOD="google.com",zi.PROVIDER_ID="google.com";var Wi=function(e){Ce(n,e);var t=Re(n);function n(){return xe(this,n),t.call(this,"github.com")}return(0,_e.Z)(n,null,[{key:"credential",value:function(e){return Oi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Y_){return null}}}]),n}(Zi);Wi.GITHUB_SIGN_IN_METHOD="github.com",Wi.PROVIDER_ID="github.com";var Hi=function(e){Ce(n,e);var t=Re(n);function n(e,r){var i;return xe(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return(0,_e.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return Ci(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ci(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ci(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ii),Gi=function(e){Ce(n,e);var t=Re(n);function n(e){return xe(this,n),Zn(e.startsWith("saml."),"argument-error"),t.call(this,e)}return(0,_e.Z)(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Hi.fromJSON(e);return Zn(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Hi._create(r,n)}catch(i){return null}}}]),n}(Vi),Yi=function(e){Ce(n,e);var t=Re(n);function n(){return xe(this,n),t.call(this,"twitter.com")}return(0,_e.Z)(n,null,[{key:"credential",value:function(e,t){return Oi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Y_){return null}}}]),n}(Zi);function Ki(e,t){return Qi.apply(this,arguments)}function Qi(){return Qi=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ar(t,"POST","/v1/accounts:signUp",er(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qi.apply(this,arguments)}Yi.TWITTER_SIGN_IN_METHOD="twitter.com",Yi.PROVIDER_ID="twitter.com";var $i=function(){function e(t){xe(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return(0,_e.Z)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=dt(vt().mark((function t(n,r,i){var a,o,s,u,c=arguments;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Dr._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Ji(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=dt(vt().mark((function t(n,r,i){var a;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ji(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ji(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Xi(){return Xi=dt(vt().mark((function e(t){var n,r,i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xr(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new $i({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ki(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,$i._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Xi.apply(this,arguments)}var ea=function(e){Ce(n,e);var t=Re(n);function n(e,r,i,a){var o,s;return xe(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf((0,Te.Z)(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return(0,_e.Z)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}($e);function ta(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ea._fromErrorAndOperation(e,n,t,r);throw n}))}function na(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function ra(e,t){return ia.apply(this,arguments)}function ia(){return ia=dt(vt().mark((function e(t,n){var r,i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lt(t),e.next=3,sa(!0,r,n);case 3:return e.t0=hr,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=na(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),ia.apply(this,arguments)}function aa(e,t){return oa.apply(this,arguments)}function oa(){return oa=dt(vt().mark((function e(t,n){var r,i,a=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=wr,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",$i._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),oa.apply(this,arguments)}function sa(e,t,n){return ua.apply(this,arguments)}function ua(){return(ua=dt(vt().mark((function e(t,n,r){var i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Er(n);case 2:i=na(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Zn(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ca(e,t){return la.apply(this,arguments)}function la(){return la=dt(vt().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,wr(t,ta(i,a,n,t),r);case 6:return Zn((o=e.sent).idToken,i,"internal-error"),Zn(s=kr(o.idToken),i,"internal-error"),u=s.sub,Zn(t.uid===u,i,"user-mismatch"),e.abrupt("return",$i._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Ln(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),la.apply(this,arguments)}function fa(e,t){return ha.apply(this,arguments)}function ha(){return ha=dt(vt().mark((function e(t,n){var r,i,a,o,s=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,ta(t,i,n);case 4:return a=e.sent,e.next=7,$i._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),ha.apply(this,arguments)}function da(e,t){return pa.apply(this,arguments)}function pa(){return pa=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fa(Xr(t),n));case 1:case"end":return e.stop()}}),e)}))),pa.apply(this,arguments)}function va(e,t){return ma.apply(this,arguments)}function ma(){return(ma=dt(vt().mark((function e(t,n){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lt(t),e.next=3,sa(!1,r,n.providerId);case 3:return e.abrupt("return",aa(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ya(e,t){return ga.apply(this,arguments)}function ga(){return(ga=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ca(lt(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ka(e,t){return wa.apply(this,arguments)}function wa(){return wa=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ar(t,"POST","/v1/accounts:signInWithCustomToken",er(t,n)));case 1:case"end":return e.stop()}}),e)}))),wa.apply(this,arguments)}function ba(){return ba=dt(vt().mark((function e(t,n){var r,i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xr(t),e.next=3,ka(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,$i._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),ba.apply(this,arguments)}var xa=function(){function e(t,n){xe(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return(0,_e.Z)(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?_a._fromServerResponse(e,t):Ln(e,"internal-error")}}]),e}(),_a=function(e){Ce(n,e);var t=Re(n);function n(e){var r;return xe(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return(0,_e.Z)(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(xa);function Sa(e,t,n){var r;Zn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Zn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Zn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Zn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Ea(){return Ea=dt(vt().mark((function e(t,n,r){var i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lt(t),a={requestType:"PASSWORD_RESET",email:n},r&&Sa(i,a,r),e.next=5,yi(i,a);case 5:case"end":return e.stop()}}),e)}))),Ea.apply(this,arguments)}function Ta(){return Ta=dt(vt().mark((function e(t,n,r){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ai(lt(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Ta.apply(this,arguments)}function Ia(){return Ia=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ci(lt(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Ia.apply(this,arguments)}function Ca(e,t){return Na.apply(this,arguments)}function Na(){return Na=dt(vt().mark((function e(t,n){var r,i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lt(t),e.next=3,ai(r,{oobCode:n});case 3:i=e.sent,Zn(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Zn(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Zn(i.mfaInfo,r,"internal-error");case 13:Zn(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=xa._fromServerResponse(Xr(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Na.apply(this,arguments)}function Oa(){return Oa=dt(vt().mark((function e(t,n){var r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca(lt(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Oa.apply(this,arguments)}function Aa(e,t,n){return Pa.apply(this,arguments)}function Pa(){return Pa=dt(vt().mark((function e(t,n,r){var i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xr(t),e.next=3,Ki(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,$i._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Pa.apply(this,arguments)}function Ra(){return Ra=dt(vt().mark((function e(t,n,r){var i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lt(t),a={requestType:"EMAIL_SIGNIN",email:n},Zn(r.handleCodeInApp,i,"argument-error"),r&&Sa(i,a,r),e.next=6,ki(i,a);case 6:case"end":return e.stop()}}),e)}))),Ra.apply(this,arguments)}function Da(){return Da=dt(vt().mark((function e(t,n,r){var i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lt(t),Zn((a=Ui.credentialWithLink(n,r||Hn()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",da(i,a));case 4:case"end":return e.stop()}}),e)}))),Da.apply(this,arguments)}function Ma(e,t){return La.apply(this,arguments)}function La(){return La=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tr(t,"POST","/v1/accounts:createAuthUri",er(t,n)));case 1:case"end":return e.stop()}}),e)}))),La.apply(this,arguments)}function Fa(){return Fa=dt(vt().mark((function e(t,n){var r,i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gn()?Hn():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Ma(lt(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Fa.apply(this,arguments)}function ja(){return(ja=dt(vt().mark((function e(t,n){var r,i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lt(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Sa(r.auth,a,n),e.next=8,vi(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ua(){return(Ua=dt(vt().mark((function e(t,n,r){var i,a,o,s;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lt(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Sa(i.auth,o,r),e.next=8,bi(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Va(e,t){return Za.apply(this,arguments)}function Za(){return Za=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Za.apply(this,arguments)}function Ba(){return(Ba=dt(vt().mark((function e(t,n){var r,i,a,o,s,u,c;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=lt(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,wr(a,Va(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qa(e,t,n){return za.apply(this,arguments)}function za(){return za=dt(vt().mark((function e(t,n,r){var i,a,o,s;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,wr(t,si(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),za.apply(this,arguments)}var Wa=(0,_e.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};xe(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Ha=function(e){Ce(n,e);var t=Re(n);function n(e,r,i,a){var o;return xe(this,n),(o=t.call(this,e,r,i)).username=a,o}return(0,_e.Z)(n)}(Wa),Ga=function(e){Ce(n,e);var t=Re(n);function n(e,r){return xe(this,n),t.call(this,e,"facebook.com",r)}return(0,_e.Z)(n)}(Wa),Ya=function(e){Ce(n,e);var t=Re(n);function n(e,r){return xe(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return(0,_e.Z)(n)}(Ha),Ka=function(e){Ce(n,e);var t=Re(n);function n(e,r){return xe(this,n),t.call(this,e,"google.com",r)}return(0,_e.Z)(n)}(Wa),Qa=function(e){Ce(n,e);var t=Re(n);function n(e,r,i){return xe(this,n),t.call(this,e,"twitter.com",r,i)}return(0,_e.Z)(n)}(Ha);function $a(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=kr(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Wa(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Ga(a,i);case"github.com":return new Ya(a,i);case"google.com":return new Ka(a,i);case"twitter.com":return new Qa(a,i,e.screenName||null);case"custom":case"anonymous":return new Wa(a,null);default:return new Wa(a,r,i)}}(n)}var Ja=function(){function e(t,n){xe(this,e),this.type=t,this.credential=n}return(0,_e.Z)(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,be.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Xa=function(){function e(t,n,r){xe(this,e),this.session=t,this.hints=n,this.signInResolver=r}return(0,_e.Z)(e,[{key:"resolveSignIn",value:function(){var e=dt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Xr(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return xa._fromServerResponse(r,e)}));Zn(i.mfaPendingCredential,r,"internal-error");var o=Ja._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=dt(vt().mark((function e(t){var a,s,u;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,$i._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Zn(n.user,r,"internal-error"),e.abrupt("return",$i._forOperation(n.user,n.operationType,s));case 17:Ln(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function eo(e,t){return tr(e,"POST","/v2/accounts/mfaEnrollment:start",er(e,t))}function to(e,t){return tr(e,"POST","/v2/accounts/mfaEnrollment:withdraw",er(e,t))}var no=function(){function e(t){var n=this;xe(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return xa._fromServerResponse(t.auth,e)})))}))}return(0,_e.Z)(e,[{key:"getSession",value:function(){var e=dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ja,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=dt(vt().mark((function e(t,n){var r,i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,wr(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=dt(vt().mark((function e(t){var n,r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,wr(this.user,to(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),ro=new WeakMap;var io="__sak",ao=function(){function e(t,n){xe(this,e),this.storageRetriever=t,this.type=n}return(0,_e.Z)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(io,"1"),this.storage.removeItem(io),Promise.resolve(!0)):Promise.resolve(!1)}catch(Y_){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var oo=function(e){Ce(n,e);var t=Re(n);function n(){var e;return xe(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ze();return Zr(e)||Gr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Qr(),e._shouldAllowMigration=!0,e}return(0,_e.Z)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Kr()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=dt(vt().mark((function e(t,r){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mn(Ne(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=dt(vt().mark((function e(t){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mn(Ne(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mn(Ne(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ao);oo.type="LOCAL";var so=oo,uo=function(e){Ce(n,e);var t=Re(n);function n(){return xe(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return(0,_e.Z)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(ao);uo.type="SESSION";var co=uo;function lo(e){return Promise.all(e.map(function(){var e=dt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var fo=function(){function e(t){xe(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return(0,_e.Z)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=dt(vt().mark((function e(t){var n,r,i,a,o,s,u,c;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,lo(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function ho(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}fo.receivers=[];var po=function(){function e(t){xe(this,e),this.target=t,this.handlers=new Set}return(0,_e.Z)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=dt(vt().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=ho("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function vo(){return window}function mo(){return"undefined"!==typeof vo().WorkerGlobalScope&&"function"===typeof vo().importScripts}function yo(){return go.apply(this,arguments)}function go(){return(go=dt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ko(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var wo="firebaseLocalStorageDb",bo="firebaseLocalStorage",xo="fbase_key",_o=function(){function e(t){xe(this,e),this.request=t}return(0,_e.Z)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function So(e,t){return e.transaction([bo],t?"readwrite":"readonly").objectStore(bo)}function Eo(){var e=indexedDB.deleteDatabase(wo);return new _o(e).toPromise()}function To(){var e=indexedDB.open(wo,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(bo,{keyPath:xo})}catch(r){n(r)}})),e.addEventListener("success",dt(vt().mark((function n(){var r;return vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(bo)){n.next=12;break}return r.close(),n.next=5,Eo();case 5:return n.t0=t,n.next=8,To();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Io(e,t,n){return Co.apply(this,arguments)}function Co(){return Co=dt(vt().mark((function e(t,n,r){var i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=So(t,!0).put((i={},(0,be.Z)(i,xo,n),(0,be.Z)(i,"value",r),i)),e.abrupt("return",new _o(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Co.apply(this,arguments)}function No(e,t){return Oo.apply(this,arguments)}function Oo(){return Oo=dt(vt().mark((function e(t,n){var r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=So(t,!1).get(n),e.next=3,new _o(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Oo.apply(this,arguments)}function Ao(e,t){var n=So(e,!0).delete(t);return new _o(n).toPromise()}var Po=function(){function e(){xe(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return(0,_e.Z)(e,[{key:"_openDb",value:function(){var e=dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,To();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=dt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mo()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=dt(vt().mark((function e(){var t=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=fo._getInstance(mo()?self:null),this.receiver._subscribe("keyChanged",function(){var e=dt(vt().mark((function e(n,r){var i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=dt(vt().mark((function e(){var t,n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yo();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new po(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&ko()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=dt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,To();case 5:return t=e.sent,e.next=8,Io(t,io,"1");case 8:return e.next=10,Ao(t,io);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=dt(vt().mark((function e(t,n){var r=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Io(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=dt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return No(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=dt(vt().mark((function e(t){var n=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Ao(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=dt(vt().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=So(e,!1).getAll();return new _o(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Ee(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(dt(vt().mark((function t(){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Po.type="LOCAL";var Ro=Po;function Do(e,t){return tr(e,"POST","/v2/accounts/mfaSignIn:start",er(e,t))}function Mo(e){return Lo.apply(this,arguments)}function Lo(){return Lo=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Lo.apply(this,arguments)}function Fo(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Fn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function jo(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Uo=1e12,Vo=function(){function e(t){xe(this,e),this.auth=t,this.counter=Uo,this._widgets=new Map}return(0,_e.Z)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Zo(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Uo;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Uo;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=dt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Uo,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Zo=function(){function e(t,n,r){var i=this;xe(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Zn(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return(0,_e.Z)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Bo=jo("rcb"),qo=new Kn(3e4,6e4),zo="https://www.google.com/recaptcha/api.js?",Wo=function(){function e(){xe(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!vo().grecaptcha}return(0,_e.Z)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Zn(Ho(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(vo().grecaptcha):new Promise((function(r,i){var a=vo().setTimeout((function(){i(Fn(e,"network-request-failed"))}),qo.get());vo()[Bo]=function(){vo().clearTimeout(a),delete vo()[Bo];var o=vo().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Fn(e,"internal-error"))},Fo("".concat(zo,"?").concat(it({onload:Bo,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Fn(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!vo().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Ho(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Go=function(){function e(){xe(this,e)}return(0,_e.Z)(e,[{key:"load",value:function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Vo(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Yo="recaptcha",Ko={theme:"light",type:"image"},Qo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Ko),r=arguments.length>2?arguments[2]:void 0;xe(this,e),this.parameters=n,this.type=Yo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Xr(r),this.isInvisible="invisible"===this.parameters.size,Zn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Zn(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Go:new Wo,this.validateStartingState()}return(0,_e.Z)(e,[{key:"verify",value:function(){var e=dt(vt().mark((function e(){var t,n,r,i=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Zn(!this.parameters.sitekey,this.auth,"argument-error"),Zn(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Zn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=vo()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Zn(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=dt(vt().mark((function e(){var t,n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=dt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zn(Gn()&&!mo(),this.auth,"internal-error"),e.next=3,$o();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Mo(this.auth);case 8:Zn(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Zn(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function $o(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Jo=function(){function e(t,n){xe(this,e),this.verificationId=t,this.onConfirmation=n}return(0,_e.Z)(e,[{key:"confirm",value:function(e){var t=Fi._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Xo(){return Xo=dt(vt().mark((function e(t,n,r){var i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xr(t),e.next=3,rs(i,n,lt(r));case 3:return a=e.sent,e.abrupt("return",new Jo(a,(function(e){return da(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Xo.apply(this,arguments)}function es(e,t,n){return ts.apply(this,arguments)}function ts(){return(ts=dt(vt().mark((function e(t,n,r){var i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lt(t),e.next=3,sa(!1,i,"phone");case 3:return e.next=5,rs(i.auth,n,lt(r));case 5:return a=e.sent,e.abrupt("return",new Jo(a,(function(e){return va(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ns(){return(ns=dt(vt().mark((function e(t,n,r){var i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lt(t),e.next=3,rs(i.auth,n,lt(r));case 3:return a=e.sent,e.abrupt("return",new Jo(a,(function(e){return ya(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rs(e,t,n){return is.apply(this,arguments)}function is(){return is=dt(vt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Zn("string"===typeof a,t,"argument-error"),Zn(r.type===Yo,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Zn("enroll"===s.type,t,"internal-error"),e.next=13,eo(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Zn("signin"===s.type,t,"internal-error"),Zn(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Do(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ai(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),is.apply(this,arguments)}function as(){return(as=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aa(lt(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var os=function(){function e(t){xe(this,e),this.providerId=e.PROVIDER_ID,this.auth=Xr(t)}return(0,_e.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return rs(this.auth,e,lt(t))}}],[{key:"credential",value:function(e,t){return Fi._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Fi._fromTokenResponse(n,r):null}}]),e}();function ss(e,t){return t?Wn(t):(Zn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}os.PROVIDER_ID="phone",os.PHONE_SIGN_IN_METHOD="phone";var us=function(e){Ce(n,e);var t=Re(n);function n(e){var r;return xe(this,n),(r=t.call(this,"custom","custom")).params=e,r}return(0,_e.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return Ci(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Ci(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Ci(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ii);function cs(e){return fa(e.auth,new us(e),e.bypassAuthState)}function ls(e){var t=e.auth,n=e.user;return Zn(n,t,"internal-error"),ca(n,new us(e),e.bypassAuthState)}function fs(e){return hs.apply(this,arguments)}function hs(){return hs=dt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Zn(r=t.user,n,"internal-error"),e.abrupt("return",aa(r,new us(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),hs.apply(this,arguments)}var ds=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];xe(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return(0,_e.Z)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=dt(vt().mark((function t(n,r){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=dt(vt().mark((function e(t){var n,r,i,a,o,s,u;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cs;case"linkViaPopup":case"linkViaRedirect":return fs;case"reauthViaPopup":case"reauthViaRedirect":return ls;default:Ln(this.auth,"internal-error")}}},{key:"resolve",value:function(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ps=new Kn(2e3,1e4);function vs(e,t,n){return ms.apply(this,arguments)}function ms(){return ms=dt(vt().mark((function e(t,n,r){var i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xr(t),Un(t,n,Vi),a=ss(i,r),o=new ws(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),ms.apply(this,arguments)}function ys(){return(ys=dt(vt().mark((function e(t,n,r){var i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Un((i=lt(t)).auth,n,Vi),a=ss(i.auth,r),o=new ws(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gs(e,t,n){return ks.apply(this,arguments)}function ks(){return(ks=dt(vt().mark((function e(t,n,r){var i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Un((i=lt(t)).auth,n,Vi),a=ss(i.auth,r),o=new ws(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ws=function(e){Ce(n,e);var t=Re(n);function n(e,r,i,a,o){var s;return xe(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=(0,Te.Z)(s),s}return(0,_e.Z)(n,[{key:"executeNotNull",value:function(){var e=dt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Zn(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=dt(vt().mark((function e(){var t,n=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qn(1===this.filter.length,"Popup operations only handle one event"),t=ho(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Fn(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Fn(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Fn(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,ps.get())}()}}]),n}(ds);ws.currentPopupAction=null;var bs=new Map,xs=function(e){Ce(n,e);var t=Re(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return xe(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return(0,_e.Z)(n,[{key:"execute",value:function(){var e=dt(vt().mark((function e(){var t,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=bs.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,_s(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,mn(Ne(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:bs.set(this.auth._key(),t);case 21:return this.bypassAuthState||bs.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=dt(vt().mark((function e(t){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",mn(Ne(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",mn(Ne(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(ds);function _s(e,t){return Ss.apply(this,arguments)}function Ss(){return Ss=dt(vt().mark((function e(t,n){var r,i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cs(n),i=Is(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Ss.apply(this,arguments)}function Es(e,t){return Ts.apply(this,arguments)}function Ts(){return Ts=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Is(t)._set(Cs(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Ts.apply(this,arguments)}function Is(e){return Wn(e._redirectPersistence)}function Cs(e){return Fr("pendingRedirect",e.config.apiKey,e.name)}function Ns(e,t,n){return function(e,t,n){return Os.apply(this,arguments)}(e,t,n)}function Os(){return Os=dt(vt().mark((function e(t,n,r){var i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xr(t),Un(t,n,Vi),a=ss(i,r),e.next=5,Es(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),Os.apply(this,arguments)}function As(e,t,n){return function(e,t,n){return Ps.apply(this,arguments)}(e,t,n)}function Ps(){return(Ps=dt(vt().mark((function e(t,n,r){var i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Un((i=lt(t)).auth,n,Vi),a=ss(i.auth,r),e.next=5,Es(a,i.auth);case 5:return e.next=7,Us(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rs(e,t,n){return function(e,t,n){return Ds.apply(this,arguments)}(e,t,n)}function Ds(){return(Ds=dt(vt().mark((function e(t,n,r){var i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Un((i=lt(t)).auth,n,Vi),a=ss(i.auth,r),e.next=5,sa(!1,i,n.providerId);case 5:return e.next=7,Es(a,i.auth);case 7:return e.next=9,Us(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ms(e,t){return Ls.apply(this,arguments)}function Ls(){return Ls=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xr(t)._initializationPromise;case 2:return e.abrupt("return",Fs(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Ls.apply(this,arguments)}function Fs(e,t){return js.apply(this,arguments)}function js(){return js=dt(vt().mark((function e(t,n){var r,i,a,o,s,u=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Xr(t),a=ss(i,n),o=new xs(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),js.apply(this,arguments)}function Us(e){return Vs.apply(this,arguments)}function Vs(){return(Vs=dt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ho("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zs=function(){function e(t){xe(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return(0,_e.Z)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qs(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!qs(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Fn(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bs(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Bs(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Bs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function qs(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function zs(e){return Ws.apply(this,arguments)}function Ws(){return Ws=dt(vt().mark((function e(t){var n,r=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",tr(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Ws.apply(this,arguments)}var Hs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gs=/^https?/;function Ys(){return Ys=dt(vt().mark((function e(t){var n,r,i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,zs(t);case 4:n=e.sent,r=n.authorizedDomains,i=Ee(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Ks(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Ln(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Ys.apply(this,arguments)}function Ks(e){var t=Hn(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Gs.test(r))return!1;if(Hs.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Qs=new Kn(3e4,6e4);function $s(){var e=vo().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,ft.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Js=null;function Xs(e){return Js=Js||function(e){return new Promise((function(t,n){var r,i,a;function o(){$s(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){$s(),n(Fn(e,"network-request-failed"))},timeout:Qs.get()})}if(null===(i=null===(r=vo().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=vo().gapi)||void 0===a?void 0:a.load)){var s=jo("iframefcb");return vo()[s]=function(){gapi.load?o():n(Fn(e,"network-request-failed"))},Fo("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Js=null,e}))}(e),Js}var eu=new Kn(5e3,15e3),tu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ru(e){var t=e.config;Zn(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Qn(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Kt},i=nu.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(it(r).slice(1))}function iu(e){return au.apply(this,arguments)}function au(){return au=dt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xs(t);case 2:return n=e.sent,Zn(r=vo().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:ru(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tu,dontclear:!0},(function(e){return new Promise(function(){var n=dt(vt().mark((function n(r,i){var a,o,s;return vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){vo().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Fn(t,"network-request-failed"),o=vo().setTimeout((function(){i(a)}),eu.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),au.apply(this,arguments)}var ou={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},su="_blank",uu="http://localhost",cu=function(){function e(t){xe(this,e),this.window=t,this.associatedEvent=null}return(0,_e.Z)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function lu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},ou),{width:r.toString(),height:a.toString(),top:o,left:s}),l=ze().toLowerCase();n&&(u=Br(l)?su:n),Vr(l)&&(t=t||uu,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];return"".concat(e).concat(r,"=").concat(a,",")}),"");if(Yr(l)&&"_self"!==u)return fu(t||"",u),new cu(null);var h=window.open(t||"",u,f);Zn(h,e,"popup-blocked");try{h.focus()}catch(d){}return new cu(h)}function fu(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var hu="__/auth/handler",du="emulator/auth/handler";function pu(e,t,n,r,a,o){Zn(e.config.authDomain,e,"auth-domain-config-required"),Zn(e.config.apiKey,e,"invalid-api-key");var s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Kt,eventId:a};if(t instanceof Vi){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(o||{});u<c.length;u++){var l=(0,i.Z)(c[u],2),f=l[0],h=l[1];s[f]=h}}if(t instanceof Zi){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(s.scopes=d.join(","))}e.tenantId&&(s.tid=e.tenantId);for(var p=s,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(hu);return Qn(t,du)}(e),"?").concat(it(p).slice(1))}var vu="webStorageSupport",mu=function(){function e(){xe(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=co,this._completeRedirectFn=Fs}return(0,_e.Z)(e,[{key:"_openPopup",value:function(){var e=dt(vt().mark((function e(t,n,r,i){var a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qn(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=pu(t,n,r,Hn(),i),e.abrupt("return",lu(t,o,ho()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=dt(vt().mark((function e(t,n,r,i){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=pu(t,n,r,Hn(),i),vo().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(qn(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=dt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iu(t);case 2:return n=e.sent,r=new Zs(t),n.register("authEvent",(function(e){return Zn(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(vu,{type:vu},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Ln(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ys.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Qr()||Zr()||Gr()}}]),e}(),yu=mu,gu=function(){function e(t){xe(this,e),this.factorId=t}return(0,_e.Z)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Bn("unexpected MultiFactorSessionType")}}}]),e}(),ku=function(e){Ce(n,e);var t=Re(n);function n(e){var r;return xe(this,n),(r=t.call(this,"phone")).credential=e,r}return(0,_e.Z)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return tr(e,"POST","/v2/accounts/mfaEnrollment:finalize",er(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return tr(e,"POST","/v2/accounts/mfaSignIn:finalize",er(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(gu),wu=function(){function e(){xe(this,e)}return(0,_e.Z)(e,null,[{key:"assertion",value:function(e){return ku._fromCredential(e)}}]),e}();wu.FACTOR_ID="phone";var bu,xu="@firebase/auth",_u="0.19.9",Su=function(){function e(t){xe(this,e),this.auth=t,this.internalListeners=new Map}return(0,_e.Z)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=dt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Zn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Eu(){return window}bu="Browser",Vt(new mt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){Zn(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),Zn(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:bu,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$r(bu)},r=new Jr(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wn);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Vt(new mt("auth-internal",(function(e){return function(e){return new Su(e)}(Xr(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),tn(xu,_u,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(bu)),tn(xu,_u,"esm2017");function Tu(e,t,n){return Iu.apply(this,arguments)}function Iu(){return Iu=dt(vt().mark((function e(t,n,r){var i,a,o,s,u;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Eu(),o=a.BuildInfo,qn(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Ru(n.sessionId);case 4:return s=e.sent,u={},Gr()?u.ibi=o.packageName:zr()?u.apn=o.packageName:Ln(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",pu(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Iu.apply(this,arguments)}function Cu(){return Cu=dt(vt().mark((function e(t){var n,r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Eu(),r=n.BuildInfo,i={},Gr()?i.iosBundleId=r.packageName:zr()?i.androidPackageName=r.packageName:Ln(t,"operation-not-supported-in-this-environment"),e.next=5,zs(t,i);case 5:case"end":return e.stop()}}),e)}))),Cu.apply(this,arguments)}function Nu(e){var t=Eu().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Ou(e,t,n){return Au.apply(this,arguments)}function Au(){return Au=dt(vt().mark((function e(t,n,r){var i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Eu(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Fn(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),zr()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Au.apply(this,arguments)}function Pu(e){var t,n,r,i,a,o,s,u,c,l,f=Eu();Zn("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Zn("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Zn("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Zn("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Zn("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Ru(e){return Du.apply(this,arguments)}function Du(){return(Du=dt(vt().mark((function e(t){var n,r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mu(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mu(e){if(qn(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Lu=function(e){Ce(n,e);var t=Re(n);function n(){var e;return xe(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return(0,_e.Z)(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),mn(Ne(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Zs);function Fu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Bu(),postBody:null,tenantId:e.tenantId,error:Fn(e,"no-auth-event")}}function ju(e,t){return qu()._set(zu(e),t)}function Uu(e){return Vu.apply(this,arguments)}function Vu(){return Vu=dt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qu()._get(zu(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,qu()._remove(zu(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Vu.apply(this,arguments)}function Zu(e,t){var n,r,i=function(e){var t=Wu(e),n=t.link?decodeURIComponent(t.link):void 0,r=Wu(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Wu(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Wu(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Fn(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Bu(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function qu(){return Wn(so)}function zu(e){return Fr("authEvent",e.config.apiKey,e.name)}function Wu(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=(t=n,(0,hn.Z)(t)||(0,dn.Z)(t)||(0,Se.Z)(t)||(0,pn.Z)());r[0];return at(r.slice(1).join("?"))}var Hu=function(){function e(){xe(this,e),this._redirectPersistence=co,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Fs}return(0,_e.Z)(e,[{key:"_initialize",value:function(){var e=dt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Lu(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Ln(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=dt(vt().mark((function e(t,n,r,i){var a,o,s,u;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pu(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),bs.clear(),e.next=10,this._originValidation(t);case 10:return o=Fu(t,r,i),e.next=13,ju(t,o);case 13:return e.next=15,Tu(t,o,n);case 15:return s=e.sent,e.next=18,Nu(s);case 18:return u=e.sent,e.abrupt("return",Ou(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Cu.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Eu(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(dt(vt().mark((function n(){return vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Uu(e);case 2:t.onEvent(Yu());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=dt(vt().mark((function n(r){var i,a;return vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Uu(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Zu(i,r.url)),t.onEvent(a||Yu());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");Eu().handleOpenURL=function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Gu=Hu;function Yu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Fn("no-auth-event")}}function Ku(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Qu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze();return!("file:"!==Ku()&&"ionic:"!==Ku()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function $u(){return Ke()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Ju(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze();return/Edge\/\d+/.test(e)}function Xu(){try{var e=self.localStorage,t=ho();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze();return $u()||Ju(e)}()||Qe()}catch(n){return ec()&&Qe()}return!1}function ec(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function tc(){return("http:"===Ku()||"https:"===Ku()||Ge()||Qu())&&!(Ye()||He())&&Xu()&&!ec()}function nc(){return Qu()&&"undefined"!==typeof document}function rc(){return ic.apply(this,arguments)}function ic(){return(ic=dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nc()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ac={LOCAL:"local",NONE:"none",SESSION:"session"},oc=Zn,sc="persistence";function uc(e,t){oc(Object.values(ac).includes(t),e,"invalid-persistence-type"),Ye()?oc(t!==ac.SESSION,e,"unsupported-persistence-type"):He()?oc(t===ac.NONE,e,"unsupported-persistence-type"):ec()?oc(t===ac.NONE||t===ac.LOCAL&&Qe(),e,"unsupported-persistence-type"):oc(t===ac.NONE||Xu(),e,"unsupported-persistence-type")}function cc(e){return lc.apply(this,arguments)}function lc(){return lc=dt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=fc(),r=Fr(sc,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}function fc(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var hc=Zn,dc=function(){function e(){xe(this,e),this.browserResolver=Wn(yu),this.cordovaResolver=Wn(Gu),this.underlyingResolver=null,this._redirectPersistence=co,this._completeRedirectFn=Fs}return(0,_e.Z)(e,[{key:"_initialize",value:function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=dt(vt().mark((function e(t,n,r,i){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=dt(vt().mark((function e(t,n,r,i){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return nc()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return hc(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=dt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,rc();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function pc(e){return e.unwrap()}function vc(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new wc(e,function(e,t){var n,r=lt(e),i=t;return Zn(t.customData.operationType,r,"argument-error"),Zn(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Xa._fromError(r,i)}(e,t));else if(r){var i=mc(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function mc(e){var t=(e instanceof $e?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof $e)&&"temporaryProof"in t&&"phoneNumber"in t)return os.credentialFromResult(e);var n,r=t.providerId;if(!r||r===xn)return null;switch(r){case bn:n=zi;break;case kn:n=qi;break;case wn:n=Wi;break;case _n:n=Yi;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Hi._create(r,s):Oi._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Bi(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof $e?n.credentialFromError(e):n.credentialFromResult(e)}function yc(e,t){return t.catch((function(t){throw t instanceof $e&&vc(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,mc(t)),additionalUserInfo:$a(e),user:bc.getOrCreate(r)}}))}function gc(e,t){return kc.apply(this,arguments)}function kc(){return kc=dt(vt().mark((function e(t,n){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return yc(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}var wc=function(){function e(t,n){xe(this,e),this.resolver=n,this.auth=t.wrapped()}return(0,_e.Z)(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return yc(pc(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),bc=function(){function e(t){xe(this,e),this._delegate=t,this.multiFactor=function(e){var t=lt(e);return ro.has(t)||ro.set(t,no._fromUser(t)),ro.get(t)}(t)}return(0,_e.Z)(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yc(this.auth,va(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gc(this.auth,es(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yc(this.auth,gs(this._delegate,t,dc)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cc(Xr(this.auth));case 2:return e.abrupt("return",Rs(this._delegate,t,dc));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yc(this.auth,ya(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return gc(this.auth,function(e,t,n){return ns.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return yc(this.auth,function(e,t,n){return ys.apply(this,arguments)}(this._delegate,e,dc))}},{key:"reauthenticateWithRedirect",value:function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cc(Xr(this.auth));case 2:return e.abrupt("return",As(this._delegate,t,dc));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return ja.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return qa(lt(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return qa(lt(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return as.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ba.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Ua.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();bc.USER_MAP=new WeakMap;var xc=Zn,_c=function(){function e(t,n){if(xe(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;xc(r,"invalid-api-key",{appName:t.name}),xc(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?dc:void 0;this._delegate=n.initialize({options:{persistence:Ec(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(An),this.linkUnderlyingAuth()}return(0,_e.Z)(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?bc.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){ti(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Ia.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Ca(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Ta.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yc(this._delegate,Aa(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Fa.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=ji.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=dt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xc(tc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Ms(this._delegate,dc);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",yc(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Xr(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Sc(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Sc(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Ra.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Ea.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=dt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:uc(this._delegate,t),e.t0=t,e.next=e.t0===ac.SESSION?4:e.t0===ac.LOCAL?6:e.t0===ac.NONE?11:13;break;case 4:return n=co,e.abrupt("break",14);case 6:return e.next=8,Wn(Ro)._isAvailable();case 8:return r=e.sent,n=r?Ro:so,e.abrupt("break",14);case 11:return n=Lr,e.abrupt("break",14);case 13:return e.abrupt("return",Ln("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return yc(this._delegate,function(e){return Xi.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return yc(this._delegate,da(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return yc(this._delegate,function(e,t){return ba.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return yc(this._delegate,function(e,t,n){return da(lt(e),Ui.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return yc(this._delegate,function(e,t,n){return Da.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return gc(this._delegate,function(e,t,n){return Xo.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xc(tc(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",yc(this._delegate,vs(this._delegate,t,dc)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xc(tc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,cc(this._delegate);case 3:return e.abrupt("return",Ns(this._delegate,t,dc));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Oa.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Sc(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&bc.getOrCreate(e))},error:t,complete:n}}function Ec(e,t){var n=function(e,t){var n=fc();if(!n)return[];var r=Fr(sc,e,t);switch(n.getItem(r)){case ac.NONE:return[Lr];case ac.LOCAL:return[Ro,co];case ac.SESSION:return[co];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Ro)||n.push(Ro),"undefined"!==typeof window)for(var r=0,i=[so,co];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Lr)||n.push(Lr),n}_c.Persistence=ac;var Tc=function(){function e(){xe(this,e),this.providerId="phone",this._delegate=new os(pc(fn.auth()))}return(0,_e.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return os.credential(e,t)}}]),e}();Tc.PHONE_SIGN_IN_METHOD=os.PHONE_SIGN_IN_METHOD,Tc.PROVIDER_ID=os.PROVIDER_ID;var Ic=Zn,Cc=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fn.app();xe(this,e),Ic(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Qo(t,n,i.auth()),this.type=this._delegate.type}return(0,_e.Z)(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new mt("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new _c(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Sn,PASSWORD_RESET:En,RECOVER_EMAIL:Tn,REVERT_SECOND_FACTOR_ADDITION:In,VERIFY_AND_CHANGE_EMAIL:Cn,VERIFY_EMAIL:Nn}},EmailAuthProvider:Ui,FacebookAuthProvider:qi,GithubAuthProvider:Wi,GoogleAuthProvider:zi,OAuthProvider:Bi,SAMLAuthProvider:Gi,PhoneAuthProvider:Tc,PhoneMultiFactorGenerator:wu,RecaptchaVerifier:Cc,TwitterAuthProvider:Yi,Auth:_c,AuthCredential:ii,Error:$e}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.9")}(fn);var Nc,Oc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ac={},Pc=Pc||{},Rc=Oc||self;function Dc(){}function Mc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Lc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Fc="closure_uid_"+(1e9*Math.random()>>>0),jc=0;function Uc(e,t,n){return e.call.apply(e.bind,arguments)}function Vc(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Zc(e,t,n){return(Zc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Uc:Vc).apply(null,arguments)}function Bc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function qc(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function zc(){this.s=this.s,this.o=this.o}var Wc={};zc.prototype.s=!1,zc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Fc)&&e[Fc]||(e[Fc]=++jc)}(this);delete Wc[e]}},zc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Hc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Gc=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Yc(e){return Array.prototype.concat.apply([],arguments)}function Kc(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Qc(e){return/^[\s\xa0]*$/.test(e)}var $c,Jc=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Xc(e,t){return-1!=e.indexOf(t)}function el(e,t){return e<t?-1:e>t?1:0}e:{var tl=Rc.navigator;if(tl){var nl=tl.userAgent;if(nl){$c=nl;break e}}$c=""}function rl(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function il(e){var t={};for(var n in e)t[n]=e[n];return t}var al="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ol(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<al.length;a++)n=al[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function sl(e){return sl[" "](e),e}sl[" "]=Dc;var ul,cl=Xc($c,"Opera"),ll=Xc($c,"Trident")||Xc($c,"MSIE"),fl=Xc($c,"Edge"),hl=fl||ll,dl=Xc($c,"Gecko")&&!(Xc($c.toLowerCase(),"webkit")&&!Xc($c,"Edge"))&&!(Xc($c,"Trident")||Xc($c,"MSIE"))&&!Xc($c,"Edge"),pl=Xc($c.toLowerCase(),"webkit")&&!Xc($c,"Edge");function vl(){var e=Rc.document;return e?e.documentMode:void 0}e:{var ml="",yl=function(){var e=$c;return dl?/rv:([^\);]+)(\)|;)/.exec(e):fl?/Edge\/([\d\.]+)/.exec(e):ll?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):pl?/WebKit\/(\S+)/.exec(e):cl?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(yl&&(ml=yl?yl[1]:""),ll){var gl=vl();if(null!=gl&&gl>parseFloat(ml)){ul=String(gl);break e}}ul=ml}var kl,wl={};function bl(){return function(e){var t=wl;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Jc(String(ul)).split("."),n=Jc("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=el(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||el(0==a[2].length,0==o[2].length)||el(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Rc.document&&ll){var xl=vl();kl=xl||(parseInt(ul,10)||void 0)}else kl=void 0;var _l=kl,Sl=function(){if(!Rc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Rc.addEventListener("test",Dc,t),Rc.removeEventListener("test",Dc,t)}catch(n){}return e}();function El(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Tl(e,t){if(El.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(dl){e:{try{sl(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Il[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Tl.Z.h.call(this)}}El.prototype.h=function(){this.defaultPrevented=!0},qc(Tl,El);var Il={2:"touch",3:"pen",4:"mouse"};Tl.prototype.h=function(){Tl.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Cl="closure_listenable_"+(1e6*Math.random()|0),Nl=0;function Ol(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Nl,this.ca=this.fa=!1}function Al(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Pl(e){this.src=e,this.g={},this.h=0}function Rl(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Hc(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Al(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Dl(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Pl.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Dl(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Ol(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Ml="closure_lm_"+(1e6*Math.random()|0),Ll={};function Fl(e,t,n,r,i){if(r&&r.once)return Ul(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Fl(e,t[a],n,r,i);return null}return n=Hl(n),e&&e[Cl]?e.N(t,n,Lc(r)?!!r.capture:!!r,i):jl(e,t,n,!1,r,i)}function jl(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Lc(i)?!!i.capture:!!i,s=zl(e);if(s||(e[Ml]=s=new Pl(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ql;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Sl||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Bl(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ul(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ul(e,t[a],n,r,i);return null}return n=Hl(n),e&&e[Cl]?e.O(t,n,Lc(r)?!!r.capture:!!r,i):jl(e,t,n,!0,r,i)}function Vl(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Vl(e,t[a],n,r,i);else r=Lc(r)?!!r.capture:!!r,n=Hl(n),e&&e[Cl]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Dl(a=e.g[t],n,r,i))&&(Al(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=zl(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Dl(t,n,r,i)),(n=-1<e?t[e]:null)&&Zl(n))}function Zl(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Cl])Rl(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Bl(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=zl(t))?(Rl(n,e),0==n.h&&(n.src=null,t[Ml]=null)):Al(e)}}}function Bl(e){return e in Ll?Ll[e]:Ll[e]="on"+e}function ql(e,t){if(e.ca)e=!0;else{t=new Tl(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Zl(e),e=n.call(r,t)}return e}function zl(e){return(e=e[Ml])instanceof Pl?e:null}var Wl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hl(e){return"function"===typeof e?e:(e[Wl]||(e[Wl]=function(t){return e.handleEvent(t)}),e[Wl])}function Gl(){zc.call(this),this.i=new Pl(this),this.P=this,this.I=null}function Yl(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new El(t,e);else if(t instanceof El)t.target=t.target||e;else{var i=t;ol(t=new El(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Kl(o,r,!0,t)&&i}if(i=Kl(o=t.g=e,r,!0,t)&&i,i=Kl(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Kl(o=t.g=n[a],r,!1,t)&&i}function Kl(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Rl(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}qc(Gl,zc),Gl.prototype[Cl]=!0,Gl.prototype.removeEventListener=function(e,t,n,r){Vl(this,e,t,n,r)},Gl.prototype.M=function(){if(Gl.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Al(n[r]);delete t.g[e],t.h--}}this.I=null},Gl.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Gl.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ql=Rc.JSON.stringify;function $l(){var e=of,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Jl,Xl=function(){function e(){xe(this,e),this.h=this.g=null}return(0,_e.Z)(e,[{key:"add",value:function(e,t){var n=ef.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),ef=new(function(){function e(t,n){xe(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return(0,_e.Z)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new tf}),(function(e){return e.reset()})),tf=function(){function e(){xe(this,e),this.next=this.g=this.h=null}return(0,_e.Z)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function nf(e){Rc.setTimeout((function(){throw e}),0)}function rf(e,t){Jl||function(){var e=Rc.Promise.resolve(void 0);Jl=function(){e.then(sf)}}(),af||(Jl(),af=!0),of.add(e,t)}var af=!1,of=new Xl;function sf(){for(var e;e=$l();){try{e.h.call(e.g)}catch(n){nf(n)}var t=ef;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}af=!1}function uf(e,t){Gl.call(this),this.h=e||1,this.g=t||Rc,this.j=Zc(this.kb,this),this.l=Date.now()}function cf(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function lf(e,t,n){if("function"===typeof e)n&&(e=Zc(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Zc(e.handleEvent,e)}return 2147483647<Number(t)?-1:Rc.setTimeout(e,t||0)}function ff(e){e.g=lf((function(){e.g=null,e.i&&(e.i=!1,ff(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}qc(uf,Gl),(Nc=uf.prototype).da=!1,Nc.S=null,Nc.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Yl(this,"tick"),this.da&&(cf(this),this.start()))}},Nc.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Nc.M=function(){uf.Z.M.call(this),cf(this),delete this.g};var hf=function(e){Ce(n,e);var t=Re(n);function n(e,r){var i;return xe(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return(0,_e.Z)(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ff(this)}},{key:"M",value:function(){mn(Ne(n.prototype),"M",this).call(this),this.g&&(Rc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(zc);function df(e){zc.call(this),this.h=e,this.g={}}qc(df,zc);var pf=[];function vf(e,t,n,r){Array.isArray(n)||(n&&(pf[0]=n.toString()),n=pf);for(var i=0;i<n.length;i++){var a=Fl(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function mf(e){rl(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Zl(e)}),e),e.g={}}function yf(){this.g=!0}function gf(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ql(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}df.prototype.M=function(){df.Z.M.call(this),mf(this)},df.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yf.prototype.Aa=function(){this.g=!1},yf.prototype.info=function(){};var kf={},wf=null;function bf(){return wf=wf||new Gl}function xf(e){El.call(this,kf.Ma,e)}function _f(e){var t=bf();Yl(t,new xf(t,e))}function Sf(e,t){El.call(this,kf.STAT_EVENT,e),this.stat=t}function Ef(e){var t=bf();Yl(t,new Sf(t,e))}function Tf(e,t){El.call(this,kf.Na,e),this.size=t}function If(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Rc.setTimeout((function(){e()}),t)}kf.Ma="serverreachability",qc(xf,El),kf.STAT_EVENT="statevent",qc(Sf,El),kf.Na="timingevent",qc(Tf,El);var Cf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Nf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Of(){}function Af(e){return e.h||(e.h=e.i())}function Pf(){}Of.prototype.h=null;var Rf,Df={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Mf(){El.call(this,"d")}function Lf(){El.call(this,"c")}function Ff(){}function jf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new df(this),this.P=Vf,e=hl?125:void 0,this.W=new uf(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Uf}function Uf(){this.i=null,this.g="",this.h=!1}qc(Mf,El),qc(Lf,El),qc(Ff,Of),Ff.prototype.g=function(){return new XMLHttpRequest},Ff.prototype.i=function(){return{}},Rf=new Ff;var Vf=45e3,Zf={},Bf={};function qf(e,t,n){e.K=1,e.v=hh(oh(t)),e.s=n,e.U=!0,zf(e,null)}function zf(e,t){e.F=Date.now(),Yf(e),e.A=oh(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Eh(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Uf,e.g=Id(e.l,n?t:null,!e.s),0<e.O&&(e.L=new hf(Zc(e.Ia,e,e.g),e.O)),vf(e.V,e.g,"readystatechange",e.gb),t=e.H?il(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),_f(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Wf(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Hf(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Gf(e,n))==Bf){4==t&&(e.o=4,Ef(14),i=!1),gf(e.j,e.m,null,"[Incomplete Response]");break}if(r==Zf){e.o=4,Ef(15),gf(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}gf(e.j,e.m,r,null),Xf(e,r)}Wf(e)&&r!=Bf&&r!=Zf&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ef(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),kd(t),t.L=!0,Ef(11))):(gf(e.j,e.m,n,"[Invalid Chunked Response]"),Jf(e),$f(e))}function Gf(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Bf:(n=Number(t.substring(n,r)),isNaN(n)?Zf:(r+=1)+n>t.length?Bf:(t=t.substr(r,n),e.C=r+n,t))}function Yf(e){e.Y=Date.now()+e.P,Kf(e,e.P)}function Kf(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=If(Zc(e.eb,e),t)}function Qf(e){e.B&&(Rc.clearTimeout(e.B),e.B=null)}function $f(e){0==e.l.G||e.I||xd(e.l,e)}function Jf(e){Qf(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,cf(e.W),mf(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Xf(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Rh(n.i,e)))if(n.I=e.N,!e.J&&Rh(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;bd(n),ld(n)}gd(n),Ef(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=If(Zc(n.ab,n),6e3));if(1>=Ph(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Sd(n,11)}else if((e.J||n.g==e)&&bd(n),!Qc(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Xc(l,"spdy")||Xc(l,"quic")||Xc(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Dh(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,fh(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Td(r,r.H?r.la:null,r.W),d.J){Mh(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Qf(p),Yf(p)),r.g=d}else yd(r);0<n.l.length&&dd(n)}else"stop"!=a[0]&&"close"!=a[0]||Sd(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Sd(n,7):cd(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}_f(4)}catch(a){}}function eh(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Mc(e)||"string"===typeof e)Gc(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Mc(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Mc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function th(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof th)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function nh(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];rh(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)rh(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function rh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Nc=jf.prototype).setTimeout=function(e){this.P=e},Nc.gb=function(e){e=e.target;var t=this.L;t&&3==id(e)?t.l():this.Ia(e)},Nc.Ia=function(e){try{if(e==this.g)e:{var t=id(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||hl||this.g&&(this.h.h||this.g.ga()||ad(this.g)))){this.I||4!=t||7==n||_f(8==n||0>=r?3:2),Qf(this);var i=this.g.ba();this.N=i;t:if(Wf(this)){var a=ad(this.g);e="";var o=a.length,s=4==id(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Jf(this),$f(this);var u="";break t}this.h.i=new Rc.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qc(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Ef(12),Jf(this),$f(this);break e}gf(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xf(this,i)}this.U?(Hf(this,t,u),hl&&this.i&&3==t&&(vf(this.V,this.W,"tick",this.fb),this.W.start())):(gf(this.j,this.m,u,null),Xf(this,u)),4==t&&Jf(this),this.i&&!this.I&&(4==t?xd(this.l,this):(this.i=!1,Yf(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Ef(12)):(this.o=0,Ef(13)),Jf(this),$f(this)}}}catch(t){}},Nc.fb=function(){if(this.g){var e=id(this.g),t=this.g.ga();this.C<t.length&&(Qf(this),Hf(this,e,t),this.i&&4!=e&&Yf(this))}},Nc.cancel=function(){this.I=!0,Jf(this)},Nc.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(_f(3),Ef(17)),Jf(this),this.o=2,$f(this)):Kf(this,this.Y-e)},(Nc=th.prototype).R=function(){nh(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Nc.T=function(){return nh(this),this.g.concat()},Nc.get=function(e,t){return rh(this.h,e)?this.h[e]:t},Nc.set=function(e,t){rh(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Nc.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var ih=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ah(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ah){this.g=void 0!==t?t:e.g,sh(this,e.j),this.s=e.s,uh(this,e.i),ch(this,e.m),this.l=e.l,t=e.h;var n=new bh;n.i=t.i,t.g&&(n.g=new th(t.g),n.h=t.h),lh(this,n),this.o=e.o}else e&&(n=String(e).match(ih))?(this.g=!!t,sh(this,n[1]||"",!0),this.s=dh(n[2]||""),uh(this,n[3]||"",!0),ch(this,n[4]),this.l=dh(n[5]||"",!0),lh(this,n[6]||"",!0),this.o=dh(n[7]||"")):(this.g=!!t,this.h=new bh(null,this.g))}function oh(e){return new ah(e)}function sh(e,t,n){e.j=n?dh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function uh(e,t,n){e.i=n?dh(t,!0):t}function ch(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function lh(e,t,n){t instanceof bh?(e.h=t,function(e,t){t&&!e.j&&(xh(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_h(this,t),Eh(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=ph(t,kh)),e.h=new bh(t,e.g))}function fh(e,t,n){e.h.set(t,n)}function hh(e){return fh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ph(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,vh),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function vh(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ah.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ph(t,mh,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ph(t,mh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(ph(n,"/"==n.charAt(0)?gh:yh,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ph(n,wh)),e.join("")};var mh=/[#\/\?@]/g,yh=/[#\?:]/g,gh=/[#\?]/g,kh=/[#\?@]/g,wh=/#/g;function bh(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xh(e){e.g||(e.g=new th,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _h(e,t){xh(e),t=Th(e,t),rh(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,rh((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&nh(e)))}function Sh(e,t){return xh(e),t=Th(e,t),rh(e.g.h,t)}function Eh(e,t,n){_h(e,t),0<n.length&&(e.i=null,e.g.set(Th(e,t),Kc(n)),e.h+=n.length)}function Th(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Nc=bh.prototype).add=function(e,t){xh(this),this.i=null,e=Th(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Nc.forEach=function(e,t){xh(this),this.g.forEach((function(n,r){Gc(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Nc.T=function(){xh(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Nc.R=function(e){xh(this);var t=[];if("string"===typeof e)Sh(this,e)&&(t=Yc(t,this.g.get(Th(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Yc(t,e[n])}return t},Nc.set=function(e,t){return xh(this),this.i=null,Sh(this,e=Th(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Nc.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Nc.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Ih=(0,_e.Z)((function e(t,n){xe(this,e),this.h=t,this.g=n}));function Ch(e){this.l=e||Oh,Rc.PerformanceNavigationTiming?e=0<(e=Rc.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Rc.g&&Rc.g.Ea&&Rc.g.Ea()&&Rc.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Nh,Oh=10;function Ah(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ph(e){return e.h?1:e.g?e.g.size:0}function Rh(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Dh(e,t){e.g?e.g.add(t):e.h=t}function Mh(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Lh(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Ee(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Kc(e.i)}function Fh(){}function jh(){this.g=new Fh}function Uh(e,t,n){var r=n||"";try{eh(e,(function(e,n){var i=e;Lc(e)&&(i=Ql(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Vh(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Zh(e){this.l=e.$b||null,this.j=e.ib||!1}function Bh(e,t){Gl.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=qh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ch.prototype.cancel=function(){if(this.i=Lh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Ee(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Fh.prototype.stringify=function(e){return Rc.JSON.stringify(e,void 0)},Fh.prototype.parse=function(e){return Rc.JSON.parse(e,void 0)},qc(Zh,Of),Zh.prototype.g=function(){return new Bh(this.l,this.j)},Zh.prototype.i=(Nh={},function(){return Nh}),qc(Bh,Gl);var qh=0;function zh(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Wh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Hh(e)}function Hh(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Nc=Bh.prototype).open=function(e,t){if(this.readyState!=qh)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Hh(this)},Nc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Rc).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Nc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wh(this)),this.readyState=qh},Nc.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Hh(this)),this.g&&(this.readyState=3,Hh(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Rc.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zh(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Nc.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Wh(this):Hh(this),3==this.readyState&&zh(this)}},Nc.Ua=function(e){this.g&&(this.response=this.responseText=e,Wh(this))},Nc.Ta=function(e){this.g&&(this.response=e,Wh(this))},Nc.ha=function(){this.g&&Wh(this)},Nc.setRequestHeader=function(e,t){this.v.append(e,t)},Nc.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Nc.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Bh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Gh=Rc.JSON.parse;function Yh(e){Gl.call(this),this.headers=new th,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Kh,this.K=this.L=!1}qc(Yh,Gl);var Kh="",Qh=/^https?$/i,$h=["POST","PUT"];function Jh(e){return"content-type"==e.toLowerCase()}function Xh(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ed(e),nd(e)}function ed(e){e.D||(e.D=!0,Yl(e,"complete"),Yl(e,"error"))}function td(e){if(e.h&&"undefined"!=typeof Pc&&(!e.C[1]||4!=id(e)||2!=e.ba()))if(e.v&&4==id(e))lf(e.Fa,0,e);else if(Yl(e,"readystatechange"),4==id(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(ih)[1]||null;if(!a&&Rc.self&&Rc.self.location){var o=Rc.self.location.protocol;a=o.substr(0,o.length-1)}i=!Qh.test(a?a.toLowerCase():"")}t=i}if(t)Yl(e,"complete"),Yl(e,"success");else{e.m=6;try{var s=2<id(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",ed(e)}}finally{nd(e)}}}function nd(e,t){if(e.g){rd(e);var n=e.g,r=e.C[0]?Dc:null;e.g=null,e.C=null,t||Yl(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function rd(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Rc.clearTimeout(e.A),e.A=null)}function id(e){return e.g?e.g.readyState:0}function ad(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Kh:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function od(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return rl(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):fh(e,t,n))}function sd(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ud(e){this.za=0,this.l=[],this.h=new yf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=sd("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=sd("baseRetryDelayMs",5e3,e),this.$a=sd("retryDelaySeedMs",1e4,e),this.Ya=sd("forwardChannelMaxRetries",2,e),this.ra=sd("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ch(e&&e.concurrentRequestLimit),this.Ca=new jh,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function cd(e){if(fd(e),3==e.G){var t=e.V++,n=oh(e.F);fh(n,"SID",e.J),fh(n,"RID",t),fh(n,"TYPE","terminate"),vd(e,n),(t=new jf(e,e.h,t,void 0)).K=2,t.v=hh(oh(n)),n=!1,Rc.navigator&&Rc.navigator.sendBeacon&&(n=Rc.navigator.sendBeacon(t.v.toString(),"")),!n&&Rc.Image&&((new Image).src=t.v,n=!0),n||(t.g=Id(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Yf(t)}Ed(e)}function ld(e){e.g&&(kd(e),e.g.cancel(),e.g=null)}function fd(e){ld(e),e.u&&(Rc.clearTimeout(e.u),e.u=null),bd(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Rc.clearTimeout(e.m),e.m=null)}function hd(e,t){e.l.push(new Ih(e.Za++,t)),3==e.G&&dd(e)}function dd(e){Ah(e.i)||e.m||(e.m=!0,rf(e.Ha,e),e.C=0)}function pd(e,t){var n;n=t?t.m:e.V++;var r=oh(e.F);fh(r,"SID",e.J),fh(r,"RID",n),fh(r,"AID",e.U),vd(e,r),e.o&&e.s&&od(r,e.o,e.s),n=new jf(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=md(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Dh(e.i,n),qf(n,r,t)}function vd(e,t){e.j&&eh({},(function(e,n){fh(t,n,e)}))}function md(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Zc(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Uh(l,o,"req"+c+"_")}catch(tp){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function yd(e){e.g||e.u||(e.Y=1,rf(e.Ga,e),e.A=0)}function gd(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=If(Zc(e.Ga,e),_d(e,e.A)),e.A++,!0)}function kd(e){null!=e.B&&(Rc.clearTimeout(e.B),e.B=null)}function wd(e){e.g=new jf(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=oh(e.oa);fh(t,"RID","rpc"),fh(t,"SID",e.J),fh(t,"CI",e.N?"0":"1"),fh(t,"AID",e.U),vd(e,t),fh(t,"TYPE","xmlhttp"),e.o&&e.s&&od(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=hh(oh(t)),n.s=null,n.U=!0,zf(n,e)}function bd(e){null!=e.v&&(Rc.clearTimeout(e.v),e.v=null)}function xd(e,t){var n=null;if(e.g==t){bd(e),kd(e),e.g=null;var r=2}else{if(!Rh(e.i,t))return;n=t.D,Mh(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Yl(r=bf(),new Tf(r,n,t,i)),dd(e)}else yd(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ph(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=If(Zc(e.Ha,e,t),_d(e,e.C)),e.C++,!0))}(e,t)||2==r&&gd(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Sd(e,5);break;case 4:Sd(e,10);break;case 3:Sd(e,6);break;default:Sd(e,2)}}function _d(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Sd(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Zc(e.jb,e);n||(n=new ah("//www.google.com/images/cleardot.gif"),Rc.location&&"http"==Rc.location.protocol||sh(n,"https"),hh(n)),function(e,t){var n=new yf;if(Rc.Image){var r=new Image;r.onload=Bc(Vh,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Bc(Vh,n,r,"TestLoadImage: error",!1,t),r.onabort=Bc(Vh,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Bc(Vh,n,r,"TestLoadImage: timeout",!1,t),Rc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ef(2);e.G=0,e.j&&e.j.va(t),Ed(e),fd(e)}function Ed(e){e.G=0,e.I=-1,e.j&&(0==Lh(e.i).length&&0==e.l.length||(e.i.i.length=0,Kc(e.l),e.l.length=0),e.j.ua())}function Td(e,t,n){var r=function(e){return e instanceof ah?oh(e):new ah(e,void 0)}(n);if(""!=r.i)t&&uh(r,t+"."+r.i),ch(r,r.m);else{var i=Rc.location;r=function(e,t,n,r){var i=new ah(null,void 0);return e&&sh(i,e),t&&uh(i,t),n&&ch(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&rl(e.aa,(function(e,t){fh(r,t,e)})),t=e.D,n=e.sa,t&&n&&fh(r,t,n),fh(r,"VER",e.ma),vd(e,r),r}function Id(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Yh(new Zh({ib:!0})):new Yh(e.qa)).L=e.H,t}function Cd(){}function Nd(){if(ll&&!(10<=Number(_l)))throw Error("Environmental error: no available transport.")}function Od(e,t){Gl.call(this),this.g=new ud(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Qc(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Qc(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Rd(this)}function Ad(e){Mf.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Pd(){Lf.call(this),this.status=1}function Rd(e){this.g=e}(Nc=Yh.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Rf.g(),this.C=this.u?Af(this.u):Af(Rf),this.g.onreadystatechange=Zc(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Xh(this,a)}e=n||"";var i=new th(this.headers);r&&eh(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Jh,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Rc.FormData&&e instanceof Rc.FormData,!(0<=Hc($h,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{rd(this),0<this.B&&((this.K=function(e){return ll&&bl()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zc(this.pa,this)):this.A=lf(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Xh(this,a)}},Nc.pa=function(){"undefined"!=typeof Pc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yl(this,"timeout"),this.abort(8))},Nc.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Yl(this,"complete"),Yl(this,"abort"),nd(this))},Nc.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nd(this,!0)),Yh.Z.M.call(this)},Nc.Fa=function(){this.s||(this.F||this.v||this.l?td(this):this.cb())},Nc.cb=function(){td(this)},Nc.ba=function(){try{return 2<id(this)?this.g.status:-1}catch(Nh){return-1}},Nc.ga=function(){try{return this.g?this.g.responseText:""}catch(Nh){return""}},Nc.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Gh(t)}},Nc.Da=function(){return this.m},Nc.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Nc=ud.prototype).ma=8,Nc.G=1,Nc.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Nc.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new jf(this,this.h,e,void 0),n=this.s;if(this.P&&(n?ol(n=il(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=md(this,t,r),fh(i=oh(this.F),"RID",e),fh(i,"CVER",22),this.D&&fh(i,"X-HTTP-Session-Id",this.D),vd(this,i),this.o&&n&&od(i,this.o,n),Dh(this.i,t),this.Ra&&fh(i,"TYPE","init"),this.ja?(fh(i,"$req",r),fh(i,"SID","null"),t.$=!0,qf(t,i,null)):qf(t,i,r),this.G=2}}else 3==this.G&&(e?pd(this,e):0==this.l.length||Ah(this.i)||pd(this))},Nc.Ga=function(){if(this.u=null,wd(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=If(Zc(this.bb,this),e)}},Nc.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ef(10),ld(this),wd(this))},Nc.ab=function(){null!=this.v&&(this.v=null,ld(this),gd(this),Ef(19))},Nc.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ef(2)):(this.h.info("Failed to ping google.com"),Ef(1))},(Nc=Cd.prototype).xa=function(){},Nc.wa=function(){},Nc.va=function(){},Nc.ua=function(){},Nc.Oa=function(){},Nd.prototype.g=function(e,t){return new Od(e,t)},qc(Od,Gl),Od.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),rf(Zc(e.hb,e,t))),Ef(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Td(e,null,e.W),dd(e)},Od.prototype.close=function(){cd(this.g)},Od.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,hd(this.g,t)}else this.v?((t={}).__data__=Ql(e),hd(this.g,t)):hd(this.g,e)},Od.prototype.M=function(){this.g.j=null,delete this.j,cd(this.g),delete this.g,Od.Z.M.call(this)},qc(Ad,Mf),qc(Pd,Lf),qc(Rd,Cd),Rd.prototype.xa=function(){Yl(this.g,"a")},Rd.prototype.wa=function(e){Yl(this.g,new Ad(e))},Rd.prototype.va=function(e){Yl(this.g,new Pd(e))},Rd.prototype.ua=function(){Yl(this.g,"b")},Nd.prototype.createWebChannel=Nd.prototype.g,Od.prototype.send=Od.prototype.u,Od.prototype.open=Od.prototype.m,Od.prototype.close=Od.prototype.close,Cf.NO_ERROR=0,Cf.TIMEOUT=8,Cf.HTTP_ERROR=6,Nf.COMPLETE="complete",Pf.EventType=Df,Df.OPEN="a",Df.CLOSE="b",Df.ERROR="c",Df.MESSAGE="d",Gl.prototype.listen=Gl.prototype.N,Yh.prototype.listenOnce=Yh.prototype.O,Yh.prototype.getLastError=Yh.prototype.La,Yh.prototype.getLastErrorCode=Yh.prototype.Da,Yh.prototype.getStatus=Yh.prototype.ba,Yh.prototype.getResponseJson=Yh.prototype.Qa,Yh.prototype.getResponseText=Yh.prototype.ga,Yh.prototype.send=Yh.prototype.ea;var Dd=Ac.createWebChannelTransport=function(){return new Nd},Md=Ac.getStatEventTarget=function(){return bf()},Ld=Ac.ErrorCode=Cf,Fd=Ac.EventType=Nf,jd=Ac.Event=kf,Ud=Ac.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Vd=Ac.FetchXmlHttpFactory=Zh,Zd=Ac.WebChannel=Pf,Bd=Ac.XhrIo=Yh,qd="@firebase/firestore",zd=function(){function e(t){xe(this,e),this.uid=t}return(0,_e.Z)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();zd.UNAUTHENTICATED=new zd(null),zd.GOOGLE_CREDENTIALS=new zd("google-credentials-uid"),zd.FIRST_PARTY=new zd("first-party-uid"),zd.MOCK_USER=new zd("mock-user");var Wd="9.6.7",Hd=new Nt("@firebase/firestore");function Gd(){return Hd.logLevel}function Yd(e){if(Hd.logLevel<=wt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map($d);Hd.debug.apply(Hd,["Firestore (".concat(Wd,"): ").concat(e)].concat((0,ft.Z)(i)))}}function Kd(e){if(Hd.logLevel<=wt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map($d);Hd.error.apply(Hd,["Firestore (".concat(Wd,"): ").concat(e)].concat((0,ft.Z)(i)))}}function Qd(e){if(Hd.logLevel<=wt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map($d);Hd.warn.apply(Hd,["Firestore (".concat(Wd,"): ").concat(e)].concat((0,ft.Z)(i)))}}function $d(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Jd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Wd,") INTERNAL ASSERTION FAILED: ")+e;throw Kd(t),new Error(t)}function Xd(e,t){e||Jd()}function ep(e,t){return e}var tp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},np=function(e){Ce(n,e);var t=Re(n);function n(e,r){var i;return xe(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return(0,_e.Z)(n)}($e),rp=(0,_e.Z)((function e(){var t=this;xe(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ip=(0,_e.Z)((function e(t,n){xe(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),ap=function(){function e(){xe(this,e)}return(0,_e.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(zd.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),op=function(){function e(t){xe(this,e),this.token=t,this.changeListener=null}return(0,_e.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),sp=function(){function e(t){xe(this,e),this.t=t,this.currentUser=zd.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return(0,_e.Z)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new rp;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new rp,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Yd("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Yd("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new rp)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Yd("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Xd("string"==typeof n.accessToken),new ip(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Xd(null===e||"string"==typeof e),new zd(e)}}]),e}(),up=(0,_e.Z)((function e(t,n,r){xe(this,e),this.type="FirstParty",this.user=zd.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),cp=function(){function e(t,n,r){xe(this,e),this.h=t,this.l=n,this.m=r}return(0,_e.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(new up(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(zd.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),lp=(0,_e.Z)((function e(t){xe(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),fp=function(){function e(t){xe(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return(0,_e.Z)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Yd("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Yd("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Yd("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Yd("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Xd("string"==typeof t.token),e.p=t.token,new lp(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),hp=function(){function e(t,n){var r=this;xe(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return(0,_e.Z)(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function dp(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}hp.A=-1;var pp=function(){function e(){xe(this,e)}return(0,_e.Z)(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=dp(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function vp(e,t){return e<t?-1:e>t?1:0}function mp(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function yp(e){return e+"\0"}var gp=function(){function e(t,n){if(xe(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new np(tp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new np(tp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new np(tp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new np(tp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return(0,_e.Z)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?vp(this.nanoseconds,e.nanoseconds):vp(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),kp=function(){function e(t){xe(this,e),this.timestamp=t}return(0,_e.Z)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new gp(0,0))}}]),e}();function wp(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function bp(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function xp(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var _p=function(){function e(t,n,r){xe(this,e),void 0===n?n=0:n>t.length&&Jd(),void 0===r?r=t.length-n:r>t.length-n&&Jd(),this.segments=t,this.offset=n,this.len=r}return(0,_e.Z)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Sp=function(e){Ce(n,e);var t=Re(n);function n(){return xe(this,n),t.apply(this,arguments)}return(0,_e.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new np(tp.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,(0,ft.Z)(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(_p),Ep=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tp=function(e){Ce(n,e);var t=Re(n);function n(){return xe(this,n),t.apply(this,arguments)}return(0,_e.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Ep.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new np(tp.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new np(tp.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new np(tp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new np(tp.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(_p),Ip=function(){function e(t){xe(this,e),this.fields=t,t.sort(Tp.comparator)}return(0,_e.Z)(e,[{key:"covers",value:function(e){var t,n=Ee(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return mp(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Cp=function(e){function t(e){xe(this,t),this.binaryString=e}return(0,_e.Z)(t,[{key:e,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return vp(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}(Symbol.iterator);Cp.EMPTY_BYTE_STRING=new Cp("");var Np=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Op(e){if(Xd(!!e),"string"==typeof e){var t=0,n=Np.exec(e);if(Xd(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ap(e.seconds),nanos:Ap(e.nanos)}}function Ap(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Pp(e){return"string"==typeof e?Cp.fromBase64String(e):Cp.fromUint8Array(e)}function Rp(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Dp(e){var t=e.mapValue.fields.__previous_value__;return Rp(t)?Dp(t):t}function Mp(e){var t=Op(e.mapValue.fields.__local_write_time__.timestampValue);return new gp(t.seconds,t.nanos)}var Lp=(0,_e.Z)((function e(t,n,r,i,a,o,s,u){xe(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Fp=function(){function e(t,n){xe(this,e),this.projectId=t,this.database=n||"(default)"}return(0,_e.Z)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function jp(e){return null==e}function Up(e){return 0===e&&1/e==-1/0}function Vp(e){return"number"==typeof e&&Number.isInteger(e)&&!Up(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Zp=function(){function e(t){xe(this,e),this.path=t}return(0,_e.Z)(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Sp.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Sp.fromString(t))}},{key:"fromName",value:function(t){return new e(Sp.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Sp.emptyPath())}},{key:"comparator",value:function(e,t){return Sp.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Sp(t.slice()))}}]),e}(),Bp={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function qp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Rp(e)?4:10:Jd()}function zp(e,t){if(e===t)return!0;var n=qp(e);if(n!==qp(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Mp(e).isEqual(Mp(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Op(e.timestampValue),r=Op(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Pp(e.bytesValue).isEqual(Pp(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ap(e.geoPointValue.latitude)===Ap(t.geoPointValue.latitude)&&Ap(e.geoPointValue.longitude)===Ap(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ap(e.integerValue)===Ap(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ap(e.doubleValue),r=Ap(t.doubleValue);return n===r?Up(n)===Up(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return mp(e.arrayValue.values||[],t.arrayValue.values||[],zp);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(wp(n)!==wp(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!zp(n[i],r[i])))return!1;return!0}(e,t);default:return Jd()}}function Wp(e,t){return void 0!==(e.values||[]).find((function(e){return zp(e,t)}))}function Hp(e,t){if(e===t)return 0;var n=qp(e),r=qp(t);if(n!==r)return vp(n,r);switch(n){case 0:return 0;case 1:return vp(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ap(e.integerValue||e.doubleValue),r=Ap(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Gp(e.timestampValue,t.timestampValue);case 4:return Gp(Mp(e),Mp(t));case 5:return vp(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Pp(e),r=Pp(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=vp(n[i],r[i]);if(0!==a)return a}return vp(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=vp(Ap(e.latitude),Ap(t.latitude));return 0!==n?n:vp(Ap(e.longitude),Ap(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Hp(n[i],r[i]);if(a)return a}return vp(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=vp(r[o],a[o]);if(0!==s)return s;var u=Hp(n[r[o]],i[a[o]]);if(0!==u)return u}return vp(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Jd()}}function Gp(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return vp(e,t);var n=Op(e),r=Op(t),i=vp(n.seconds,r.seconds);return 0!==i?i:vp(n.nanos,r.nanos)}function Yp(e){return Kp(e)}function Kp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Op(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Pp(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Zp.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Ee(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Kp(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Ee(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Kp(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Jd();var t,n}function Qp(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function $p(e){return!!e&&"integerValue"in e}function Jp(e){return!!e&&"arrayValue"in e}function Xp(e){return!!e&&"nullValue"in e}function ev(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function tv(e){return!!e&&"mapValue"in e}function nv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return bp(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=nv(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=nv(e.arrayValue.values[r]);return n}return Object.assign({},e)}var rv=function(){function e(t){xe(this,e),this.value=t}return(0,_e.Z)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!tv(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nv(t)}},{key:"setAll",value:function(e){var t=this,n=Tp.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=nv(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());tv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return zp(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];tv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){bp(t,(function(t,n){return e[t]=n}));var r,i=Ee(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(nv(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function iv(e){var t=[];return bp(e.fields,(function(e,n){var r=new Tp([e]);if(tv(n)){var i=iv(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Ee(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Ip(t)}var av=function(){function e(t,n,r,i,a,o){xe(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return(0,_e.Z)(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=rv.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=rv.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,kp.min(),kp.min(),rv.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,kp.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,kp.min(),rv.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,kp.min(),rv.empty(),2)}}]),e}(),ov=(0,_e.Z)((function e(t,n,r,i){xe(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));ov.UNKNOWN_ID=-1;var sv=(0,_e.Z)((function e(t,n){xe(this,e),this.fieldPath=t,this.kind=n})),uv=function(){function e(t,n){xe(this,e),this.sequenceNumber=t,this.offset=n}return(0,_e.Z)(e,null,[{key:"empty",value:function(){return new e(0,cv.min())}}]),e}(),cv=function(){function e(t,n,r){xe(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return(0,_e.Z)(e,null,[{key:"min",value:function(){return new e(kp.min(),Zp.empty(),-1)}}]),e}(),lv=(0,_e.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;xe(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.P=null}));function fv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new lv(e,t,n,r,i,a,o)}function hv(e){var t=ep(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Yp(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),jp(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Yp(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Yp(e)})).join(",")),t.P=n}return t.P}function dv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Tv(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!zp(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Cv(e.startAt,t.startAt)&&Cv(e.endAt,t.endAt)}function pv(e){return Zp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var vv=function(e){Ce(n,e);var t=Re(n);function n(e,r,i){var a;return xe(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return(0,_e.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(Hp(t,this.value)):null!==t&&qp(this.value)===qp(t)&&this.V(Hp(t,this.value))}},{key:"V",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Jd()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,r):new mv(e,t,r):"array-contains"===t?new wv(e,r):"in"===t?new bv(e,r):"not-in"===t?new xv(e,r):"array-contains-any"===t?new _v(e,r):new n(e,t,r)}},{key:"v",value:function(e,t,n){return"in"===t?new yv(e,n):new gv(e,n)}}]),n}(function(){return(0,_e.Z)((function e(){xe(this,e)}))}()),mv=function(e){Ce(n,e);var t=Re(n);function n(e,r,i){var a;return xe(this,n),(a=t.call(this,e,r,i)).key=Zp.fromName(i.referenceValue),a}return(0,_e.Z)(n,[{key:"matches",value:function(e){var t=Zp.comparator(e.key,this.key);return this.V(t)}}]),n}(vv),yv=function(e){Ce(n,e);var t=Re(n);function n(e,r){var i;return xe(this,n),(i=t.call(this,e,"in",r)).keys=kv("in",r),i}return(0,_e.Z)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(vv),gv=function(e){Ce(n,e);var t=Re(n);function n(e,r){var i;return xe(this,n),(i=t.call(this,e,"not-in",r)).keys=kv("not-in",r),i}return(0,_e.Z)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(vv);function kv(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Zp.fromName(e.referenceValue)}))}var wv=function(e){Ce(n,e);var t=Re(n);function n(e,r){return xe(this,n),t.call(this,e,"array-contains",r)}return(0,_e.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Jp(t)&&Wp(t.arrayValue,this.value)}}]),n}(vv),bv=function(e){Ce(n,e);var t=Re(n);function n(e,r){return xe(this,n),t.call(this,e,"in",r)}return(0,_e.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Wp(this.value.arrayValue,t)}}]),n}(vv),xv=function(e){Ce(n,e);var t=Re(n);function n(e,r){return xe(this,n),t.call(this,e,"not-in",r)}return(0,_e.Z)(n,[{key:"matches",value:function(e){if(Wp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Wp(this.value.arrayValue,t)}}]),n}(vv),_v=function(e){Ce(n,e);var t=Re(n);function n(e,r){return xe(this,n),t.call(this,e,"array-contains-any",r)}return(0,_e.Z)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Jp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Wp(t.value.arrayValue,e)}))}}]),n}(vv),Sv=(0,_e.Z)((function e(t,n){xe(this,e),this.position=t,this.inclusive=n})),Ev=(0,_e.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";xe(this,e),this.field=t,this.dir=n}));function Tv(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Iv(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Zp.comparator(Zp.fromName(o.referenceValue),n.key):Hp(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Cv(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!zp(e.position[n],t.position[n]))return!1;return!0}var Nv=(0,_e.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;xe(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.D=null,this.C=null,this.startAt,this.endAt}));function Ov(e,t,n,r,i,a,o,s){return new Nv(e,t,n,r,i,a,o,s)}function Av(e){return new Nv(e)}function Pv(e){return!jp(e.limit)&&"F"===e.limitType}function Rv(e){return!jp(e.limit)&&"L"===e.limitType}function Dv(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Mv(e){var t,n=Ee(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Lv(e){return null!==e.collectionGroup}function Fv(e){var t=ep(e);if(null===t.D){t.D=[];var n=Mv(t),r=Dv(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Ev(n)),t.D.push(new Ev(Tp.keyField(),"asc"));else{var i,a=!1,o=Ee(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.D.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Ev(Tp.keyField(),u))}}}return t.D}function jv(e){var t=ep(e);if(!t.C)if("F"===t.limitType)t.C=fv(t.path,t.collectionGroup,Fv(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Ee(Fv(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Ev(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Sv(t.endAt.position,!t.endAt.inclusive):null,u=t.startAt?new Sv(t.startAt.position,!t.startAt.inclusive):null;t.C=fv(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.C}function Uv(e,t,n){return new Nv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Vv(e,t){return dv(jv(e),jv(t))&&e.limitType===t.limitType}function Zv(e){return"".concat(hv(jv(e)),"|lt:").concat(e.limitType)}function Bv(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Yp(t.value));var t})).join(", "),"]")),jp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Yp(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Yp(e)})).join(",")),"Target(".concat(t,")")}(jv(e)),"; limitType=").concat(e.limitType,")")}function qv(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Zp.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Ee(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Ee(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Iv(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Fv(e),t))&&!(e.endAt&&!function(e,t,n){var r=Iv(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Fv(e),t))}(e,t)}function zv(e){return function(t,n){var r,i=!1,a=Ee(Fv(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Wv(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Wv(e,t,n){var r=e.field.isKeyField()?Zp.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Hp(r,i):Jd()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Jd()}}function Hv(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Up(t)?"-0":t}}function Gv(e){return{integerValue:""+e}}function Yv(e,t){return Vp(t)?Gv(t):Hv(e,t)}var Kv=(0,_e.Z)((function e(){xe(this,e),this._=void 0}));function Qv(e,t,n){return e instanceof Xv?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof em?tm(e,t):e instanceof nm?rm(e,t):function(e,t){var n=Jv(e,t),r=am(n)+am(e.k);return $p(n)&&$p(e.k)?Gv(r):Hv(e.O,r)}(e,t)}function $v(e,t,n){return e instanceof em?tm(e,t):e instanceof nm?rm(e,t):n}function Jv(e,t){return e instanceof im?$p(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Xv=function(e){Ce(n,e);var t=Re(n);function n(){return xe(this,n),t.apply(this,arguments)}return(0,_e.Z)(n)}(Kv),em=function(e){Ce(n,e);var t=Re(n);function n(e){var r;return xe(this,n),(r=t.call(this)).elements=e,r}return(0,_e.Z)(n)}(Kv);function tm(e,t){var n,r=om(t),i=Ee(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return zp(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var nm=function(e){Ce(n,e);var t=Re(n);function n(e){var r;return xe(this,n),(r=t.call(this)).elements=e,r}return(0,_e.Z)(n)}(Kv);function rm(e,t){var n,r=om(t),i=Ee(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!zp(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var im=function(e){Ce(n,e);var t=Re(n);function n(e,r){var i;return xe(this,n),(i=t.call(this)).O=e,i.k=r,i}return(0,_e.Z)(n)}(Kv);function am(e){return Ap(e.integerValue||e.doubleValue)}function om(e){return Jp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var sm=(0,_e.Z)((function e(t,n){xe(this,e),this.field=t,this.transform=n}));var um=(0,_e.Z)((function e(t,n){xe(this,e),this.version=t,this.transformResults=n})),cm=function(){function e(t,n){xe(this,e),this.updateTime=t,this.exists=n}return(0,_e.Z)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function lm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var fm=(0,_e.Z)((function e(){xe(this,e)}));function hm(e,t,n){e instanceof ym?function(e,t,n){var r=e.value.clone(),i=wm(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof gm?function(e,t,n){if(lm(e.precondition,t)){var r=wm(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(km(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function dm(e,t,n){e instanceof ym?function(e,t,n){if(lm(e.precondition,t)){var r=e.value.clone(),i=bm(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(mm(t),r).setHasLocalMutations()}}(e,t,n):e instanceof gm?function(e,t,n){if(lm(e.precondition,t)){var r=bm(e.fieldTransforms,n,t),i=t.data;i.setAll(km(e)),i.setAll(r),t.convertToFoundDocument(mm(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){lm(e.precondition,t)&&t.convertToNoDocument(kp.min())}(e,t)}function pm(e,t){var n,r=null,i=Ee(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Jv(a.transform,o||null);null!=s&&(null==r&&(r=rv.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function vm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&mp(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof em&&t instanceof em||e instanceof nm&&t instanceof nm?mp(e.elements,t.elements,zp):e instanceof im&&t instanceof im?zp(e.k,t.k):e instanceof Xv&&t instanceof Xv}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function mm(e){return e.isFoundDocument()?e.version:kp.min()}var ym=function(e){Ce(n,e);var t=Re(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return xe(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return(0,_e.Z)(n)}(fm),gm=function(e){Ce(n,e);var t=Re(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return xe(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return(0,_e.Z)(n)}(fm);function km(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function wm(e,t,n){var r=new Map;Xd(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,$v(o,s,n[i]))}return r}function bm(e,t,n){var r,i=new Map,a=Ee(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Qv(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var xm,_m,Sm=function(e){Ce(n,e);var t=Re(n);function n(e,r){var i;return xe(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return(0,_e.Z)(n)}(fm),Em=function(e){Ce(n,e);var t=Re(n);function n(e,r){var i;return xe(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return(0,_e.Z)(n)}(fm),Tm=(0,_e.Z)((function e(t){xe(this,e),this.count=t}));function Im(e){switch(e){default:return Jd();case tp.CANCELLED:case tp.UNKNOWN:case tp.DEADLINE_EXCEEDED:case tp.RESOURCE_EXHAUSTED:case tp.INTERNAL:case tp.UNAVAILABLE:case tp.UNAUTHENTICATED:return!1;case tp.INVALID_ARGUMENT:case tp.NOT_FOUND:case tp.ALREADY_EXISTS:case tp.PERMISSION_DENIED:case tp.FAILED_PRECONDITION:case tp.ABORTED:case tp.OUT_OF_RANGE:case tp.UNIMPLEMENTED:case tp.DATA_LOSS:return!0}}function Cm(e){if(void 0===e)return Kd("GRPC error has no .code"),tp.UNKNOWN;switch(e){case xm.OK:return tp.OK;case xm.CANCELLED:return tp.CANCELLED;case xm.UNKNOWN:return tp.UNKNOWN;case xm.DEADLINE_EXCEEDED:return tp.DEADLINE_EXCEEDED;case xm.RESOURCE_EXHAUSTED:return tp.RESOURCE_EXHAUSTED;case xm.INTERNAL:return tp.INTERNAL;case xm.UNAVAILABLE:return tp.UNAVAILABLE;case xm.UNAUTHENTICATED:return tp.UNAUTHENTICATED;case xm.INVALID_ARGUMENT:return tp.INVALID_ARGUMENT;case xm.NOT_FOUND:return tp.NOT_FOUND;case xm.ALREADY_EXISTS:return tp.ALREADY_EXISTS;case xm.PERMISSION_DENIED:return tp.PERMISSION_DENIED;case xm.FAILED_PRECONDITION:return tp.FAILED_PRECONDITION;case xm.ABORTED:return tp.ABORTED;case xm.OUT_OF_RANGE:return tp.OUT_OF_RANGE;case xm.UNIMPLEMENTED:return tp.UNIMPLEMENTED;case xm.DATA_LOSS:return tp.DATA_LOSS;default:return Jd()}}(_m=xm||(xm={}))[_m.OK=0]="OK",_m[_m.CANCELLED=1]="CANCELLED",_m[_m.UNKNOWN=2]="UNKNOWN",_m[_m.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_m[_m.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_m[_m.NOT_FOUND=5]="NOT_FOUND",_m[_m.ALREADY_EXISTS=6]="ALREADY_EXISTS",_m[_m.PERMISSION_DENIED=7]="PERMISSION_DENIED",_m[_m.UNAUTHENTICATED=16]="UNAUTHENTICATED",_m[_m.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_m[_m.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_m[_m.ABORTED=10]="ABORTED",_m[_m.OUT_OF_RANGE=11]="OUT_OF_RANGE",_m[_m.UNIMPLEMENTED=12]="UNIMPLEMENTED",_m[_m.INTERNAL=13]="INTERNAL",_m[_m.UNAVAILABLE=14]="UNAVAILABLE",_m[_m.DATA_LOSS=15]="DATA_LOSS";var Nm=function(){function e(t,n){xe(this,e),this.comparator=t,this.root=n||Am.EMPTY}return(0,_e.Z)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Am.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Am.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Om(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Om(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Om(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Om(this.root,e,this.comparator,!0)}}]),e}(),Om=function(){function e(t,n,r,i){xe(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return(0,_e.Z)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Am=function(){function e(t,n,r,i,a){xe(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return(0,_e.Z)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Jd();if(this.right.isRed())throw Jd();var e=this.left.check();if(e!==this.right.check())throw Jd();return e+(this.isRed()?0:1)}}]),e}();Am.EMPTY=null,Am.RED=!0,Am.BLACK=!1,Am.EMPTY=new(function(){function e(){xe(this,e),this.size=0}return(0,_e.Z)(e,[{key:"key",get:function(){throw Jd()}},{key:"value",get:function(){throw Jd()}},{key:"color",get:function(){throw Jd()}},{key:"left",get:function(){throw Jd()}},{key:"right",get:function(){throw Jd()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Am(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Pm=function(){function e(t){xe(this,e),this.comparator=t,this.data=new Nm(this.comparator)}return(0,_e.Z)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Rm(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Rm(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Rm=function(){function e(t){xe(this,e),this.iter=t}return(0,_e.Z)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Dm(e){return e.hasNext()?e.getNext():void 0}var Mm=new Nm(Zp.comparator);function Lm(){return Mm}var Fm=new Nm(Zp.comparator);function jm(){return Fm}var Um=new Nm(Zp.comparator),Vm=new Pm(Zp.comparator);function Zm(){for(var e=Vm,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Bm=new Pm(vp);function qm(){return Bm}var zm=function(){function e(t,n,r,i,a){xe(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return(0,_e.Z)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Wm.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(kp.min(),r,qm(),Lm(),Zm())}}]),e}(),Wm=function(){function e(t,n,r,i,a){xe(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return(0,_e.Z)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Cp.EMPTY_BYTE_STRING,n,Zm(),Zm(),Zm())}}]),e}(),Hm=(0,_e.Z)((function e(t,n,r,i){xe(this,e),this.M=t,this.removedTargetIds=n,this.key=r,this.$=i})),Gm=(0,_e.Z)((function e(t,n){xe(this,e),this.targetId=t,this.F=n})),Ym=(0,_e.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cp.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;xe(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Km=function(){function e(){xe(this,e),this.B=0,this.L=Jm(),this.U=Cp.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return(0,_e.Z)(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Zm(),t=Zm(),n=Zm();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Jd()}})),new Wm(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Jm()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Qm=function(){function e(t){xe(this,e),this.nt=t,this.st=new Map,this.it=Lm(),this.rt=$m(),this.ot=new Pm(vp)}return(0,_e.Z)(e,[{key:"ct",value:function(e){var t,n=Ee(e.M);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ut(r,e.$):this.at(r,e.key,e.$)}}catch(s){n.e(s)}finally{n.f()}var i,a=Ee(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.$)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Jd()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.F.count,r=this.wt(t);if(r){var i=r.target;if(pv(i))if(0===n){var a=new Zp(i.path);this.at(t,a,av.newNoDocument(a,kp.min()))}else Xd(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&pv(a.target)){var o=new Zp(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.at(i,o,av.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Zm();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new zm(e,n,this.ot,this.it,r);return this.it=Lm(),this.rt=$m(),this.ot=new Pm(vp),i}},{key:"ut",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Km,this.st.set(e,t)),t}},{key:"Et",value:function(e){var t=this.rt.get(e);return t||(t=new Pm(vp),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Yd("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Km),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function $m(){return new Nm(Zp.comparator)}function Jm(){return new Nm(Zp.comparator)}var Xm={asc:"ASCENDING",desc:"DESCENDING"},ey={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ty=(0,_e.Z)((function e(t,n){xe(this,e),this.databaseId=t,this.N=n}));function ny(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ry(e,t){return e.N?t.toBase64():t.toUint8Array()}function iy(e,t){return ny(e,t.toTimestamp())}function ay(e){return Xd(!!e),kp.fromTimestamp(function(e){var t=Op(e);return new gp(t.seconds,t.nanos)}(e))}function oy(e,t){return function(e){return new Sp(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function sy(e){var t=Sp.fromString(e);return Xd(Oy(t)),t}function uy(e,t){return oy(e.databaseId,t.path)}function cy(e,t){var n=sy(t);if(n.get(1)!==e.databaseId.projectId)throw new np(tp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new np(tp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Zp(dy(n))}function ly(e,t){return oy(e.databaseId,t)}function fy(e){var t=sy(e);return 4===t.length?Sp.emptyPath():dy(t)}function hy(e){return new Sp(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function dy(e){return Xd(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function py(e,t,n){return{name:uy(e,t),fields:n.value.mapValue.fields}}function vy(e,t,n){var r=cy(e,t.name),i=ay(t.updateTime),a=new rv({mapValue:{fields:t.fields}}),o=av.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function my(e,t){return"found"in t?function(e,t){Xd(!!t.found),t.found.name,t.found.updateTime;var n=cy(e,t.found.name),r=ay(t.found.updateTime),i=new rv({mapValue:{fields:t.found.fields}});return av.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Xd(!!t.missing),Xd(!!t.readTime);var n=cy(e,t.missing),r=ay(t.readTime);return av.newNoDocument(n,r)}(e,t):Jd()}function yy(e,t){var n;if(t instanceof ym)n={update:py(e,t.key,t.value)};else if(t instanceof Sm)n={delete:uy(e,t.key)};else if(t instanceof gm)n={update:py(e,t.key,t.data),updateMask:Ny(t.fieldMask)};else{if(!(t instanceof Em))return Jd();n={verify:uy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Xv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof em)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof nm)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof im)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Jd()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:iy(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Jd()}(e,t.precondition)),n}function gy(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?cm.updateTime(ay(e.updateTime)):void 0!==e.exists?cm.exists(e.exists):cm.none()}(t.currentDocument):cm.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Xd("REQUEST_TIME"===t.setToServerValue),n=new Xv;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new em(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new nm(i)}else"increment"in t?n=new im(e,t.increment):Jd();var a=Tp.fromServerFormat(t.fieldPath);return new sm(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=cy(e,t.update.name),a=new rv({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Ip(t.map((function(e){return Tp.fromServerFormat(e)})))}(t.updateMask);return new gm(i,a,o,n,r)}return new ym(i,a,n,r)}if(t.delete){var s=cy(e,t.delete);return new Sm(s,n)}if(t.verify){var u=cy(e,t.verify);return new Em(u,n)}return Jd()}function ky(e,t){return{documents:[ly(e,t.path)]}}function wy(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ly(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ly(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(ev(e.value))return{unaryFilter:{field:Ey(e.field),op:"IS_NAN"}};if(Xp(e.value))return{unaryFilter:{field:Ey(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ev(e.value))return{unaryFilter:{field:Ey(e.field),op:"IS_NOT_NAN"}};if(Xp(e.value))return{unaryFilter:{field:Ey(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ey(e.field),op:Sy(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ey(e.field),direction:_y(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.N||jp(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function by(e){var t=fy(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Xd(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=xy(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Ev(Ty(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return jp(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Sv(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Sv(n,t)}(n.endAt)),Ov(t,i,s,o,u,"F",c,l)}function xy(e){return e?void 0!==e.unaryFilter?[Cy(e)]:void 0!==e.fieldFilter?[Iy(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return xy(e)})).reduce((function(e,t){return e.concat(t)})):Jd():[]}function _y(e){return Xm[e]}function Sy(e){return ey[e]}function Ey(e){return{fieldPath:e.canonicalString()}}function Ty(e){return Tp.fromServerFormat(e.fieldPath)}function Iy(e){return vv.create(Ty(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jd()}}(e.fieldFilter.op),e.fieldFilter.value)}function Cy(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ty(e.unaryFilter.field);return vv.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ty(e.unaryFilter.field);return vv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ty(e.unaryFilter.field);return vv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ty(e.unaryFilter.field);return vv.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Jd()}}function Ny(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Oy(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ay(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Ry(t)),t=Py(e.get(n),t);return Ry(t)}function Py(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Ry(e){return e+"\x01\x01"}function Dy(e){var t=e.length;if(Xd(t>=2),2===t)return Xd("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Sp.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Jd(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Jd()}a=o+2}return new Sp(r)}var My=(0,_e.Z)((function e(t,n){xe(this,e),this.seconds=t,this.nanoseconds=n})),Ly=(0,_e.Z)((function e(t,n,r){xe(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));Ly.store="owner",Ly.key="owner";var Fy=(0,_e.Z)((function e(t,n,r){xe(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));Fy.store="mutationQueues",Fy.keyPath="userId";var jy=(0,_e.Z)((function e(t,n,r,i,a){xe(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));jy.store="mutations",jy.keyPath="batchId",jy.userMutationsIndex="userMutationsIndex",jy.userMutationsKeyPath=["userId","batchId"];var Uy=function(){function e(){xe(this,e)}return(0,_e.Z)(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,Ay(t)]}},{key:"key",value:function(e,t,n){return[e,Ay(t),n]}}]),e}();Uy.store="documentMutations",Uy.PLACEHOLDER=new Uy;var Vy=(0,_e.Z)((function e(t,n){xe(this,e),this.path=t,this.readTime=n})),Zy=(0,_e.Z)((function e(t,n){xe(this,e),this.path=t,this.version=n})),By=(0,_e.Z)((function e(t,n,r,i,a,o){xe(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));By.store="remoteDocuments",By.readTimeIndex="readTimeIndex",By.readTimeIndexPath="readTime",By.collectionReadTimeIndex="collectionReadTimeIndex",By.collectionReadTimeIndexPath=["parentPath","readTime"];var qy=(0,_e.Z)((function e(t){xe(this,e),this.byteSize=t}));qy.store="remoteDocumentGlobal",qy.key="remoteDocumentGlobalKey";var zy=(0,_e.Z)((function e(t,n,r,i,a,o,s){xe(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));zy.store="targets",zy.keyPath="targetId",zy.queryTargetsIndexName="queryTargetsIndex",zy.queryTargetsKeyPath=["canonicalId","targetId"];var Wy=(0,_e.Z)((function e(t,n,r){xe(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));Wy.store="targetDocuments",Wy.keyPath=["targetId","path"],Wy.documentTargetsIndex="documentTargetsIndex",Wy.documentTargetsKeyPath=["path","targetId"];var Hy=(0,_e.Z)((function e(t,n,r,i){xe(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Hy.key="targetGlobalKey",Hy.store="targetGlobal";var Gy=(0,_e.Z)((function e(t,n){xe(this,e),this.collectionId=t,this.parent=n}));Gy.store="collectionParents",Gy.keyPath=["collectionId","parent"];var Yy=(0,_e.Z)((function e(t,n,r,i){xe(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Yy.store="clientMetadata",Yy.keyPath="clientId";var Ky=(0,_e.Z)((function e(t,n,r){xe(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Ky.store="bundles",Ky.keyPath="bundleId";var Qy=(0,_e.Z)((function e(t,n,r){xe(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Qy.store="namedQueries",Qy.keyPath="name";var $y=(0,_e.Z)((function e(t,n,r){xe(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r}));$y.store="indexConfiguration",$y.keyPath="indexId",$y.collectionGroupIndex="collectionGroupIndex",$y.collectionGroupIndexPath="collectionGroup";var Jy=(0,_e.Z)((function e(t,n,r,i,a,o){xe(this,e),this.indexId=t,this.uid=n,this.sequenceNumber=r,this.readTime=i,this.documentKey=a,this.largestBatchId=o}));Jy.store="indexState",Jy.keyPath=["indexId","uid"],Jy.sequenceNumberIndex="sequenceNumberIndex",Jy.sequenceNumberIndexPath=["uid","sequenceNumber"];var Xy=(0,_e.Z)((function e(t,n,r,i,a){xe(this,e),this.indexId=t,this.uid=n,this.arrayValue=r,this.directionalValue=i,this.documentKey=a}));Xy.store="indexEntries",Xy.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],Xy.documentKeyIndex="documentKeyIndex",Xy.documentKeyIndexPath=["indexId","uid","documentKey"];var eg=(0,_e.Z)((function e(t,n,r,i,a,o){xe(this,e),this.userId=t,this.collectionPath=n,this.documentId=r,this.collectionGroup=i,this.largestBatchId=a,this.overlayMutation=o}));eg.store="documentOverlays",eg.keyPath=["userId","collectionPath","documentId"],eg.collectionPathOverlayIndex="collectionPathOverlayIndex",eg.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],eg.collectionGroupOverlayIndex="collectionGroupOverlayIndex",eg.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];var tg=[Fy.store,jy.store,Uy.store,By.store,zy.store,Ly.store,Hy.store,Wy.store].concat([Yy.store]).concat([qy.store]).concat([Gy.store]).concat([Ky.store,Qy.store]),ng=[].concat((0,ft.Z)(tg),[eg.store]),rg=[].concat((0,ft.Z)(ng),[$y.store,Jy.store,Xy.store]),ig="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ag=function(){function e(){xe(this,e),this.onCommittedListeners=[]}return(0,_e.Z)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),og=function(){function e(t){var n=this;xe(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return(0,_e.Z)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Jd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Ee(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),sg=function(){function e(t,n){var r=this;xe(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new rp,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new lg(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=vg(e.target.error);r.At.reject(new lg(t,n))}}return(0,_e.Z)(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Yd("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"Pt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new hg(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new lg(n,t)}}}]),e}(),ug=function(){function e(t,n,r){xe(this,e),this.name=t,this.version=n,this.bt=r,12.2===e.vt(ze())&&Kd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return(0,_e.Z)(e,[{key:"xt",value:function(){var e=dt(vt().mark((function e(t){var n=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Yd("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new lg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new np(tp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new np(tp.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new lg(t,n))},i.onupgradeneeded=function(e){Yd("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.bt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Yd("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Ot&&(this.db.onversionchange=function(e){return n.Ot(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mt",value:function(e){this.Ot=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=dt(vt().mark((function e(t,n,r,i){var a,o,s,u,c=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(vt().mark((function e(){var n,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.xt(t);case 2:return c.db=e.sent,n=sg.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.Pt(),e})).catch((function(e){return n.abort(e),og.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,Yd("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Yd("SimpleDb","Removing database:",e),dg(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Vt",value:function(){if(!Qe())return!1;if(e.St())return!0;var t=ze(),n=e.vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"Nt",value:function(e,t){return e.store(t)}},{key:"vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),cg=function(){function e(t){xe(this,e),this.$t=t,this.Ft=!1,this.Bt=null}return(0,_e.Z)(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return dg(this.$t.delete())}}]),e}(),lg=function(e){Ce(n,e);var t=Re(n);function n(e,r){var i;return xe(this,n),(i=t.call(this,tp.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return(0,_e.Z)(n)}(np);function fg(e){return"IndexedDbTransactionError"===e.name}var hg=function(){function e(t){xe(this,e),this.store=t}return(0,_e.Z)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Yd("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Yd("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),dg(n)}},{key:"add",value:function(e){return Yd("SimpleDb","ADD",this.store.name,e,e),dg(this.store.add(e))}},{key:"get",value:function(e){var t=this;return dg(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Yd("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Yd("SimpleDb","DELETE",this.store.name,e),dg(this.store.delete(e))}},{key:"count",value:function(){return Yd("SimpleDb","COUNT",this.store.name),dg(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new og((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){Yd("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Qt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"Wt",value:function(e){var t=this.cursor({});return new og((function(n,r){t.onerror=function(e){var t=vg(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new og((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new cg(i),o=t(i.primaryKey,i.value,a);if(o instanceof og){var s=o.catch((function(e){return a.done(),og.reject(e)}));n.push(s)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return og.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function dg(e){return new og((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=vg(e.target.error);n(t)}}))}var pg=!1;function vg(e){var t=ug.vt(ze());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new np("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return pg||(pg=!0,setTimeout((function(){throw r}),0)),r}}return e}var mg=function(e){Ce(n,e);var t=Re(n);function n(e,r){var i;return xe(this,n),(i=t.call(this)).zt=e,i.currentSequenceNumber=r,i}return(0,_e.Z)(n)}(ag);function yg(e,t){var n=ep(e);return ug.Nt(n.zt,t)}var gg=function(){function e(t,n,r,i){xe(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return(0,_e.Z)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&hm(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Ee(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&dm(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=Ee(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&dm(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(kp.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Zm())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&mp(this.mutations,e.mutations,(function(e,t){return vm(e,t)}))&&mp(this.baseMutations,e.baseMutations,(function(e,t){return vm(e,t)}))}}]),e}(),kg=function(){function e(t,n,r,i){xe(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return(0,_e.Z)(e,null,[{key:"from",value:function(t,n,r){Xd(t.mutations.length===r.length);for(var i=Um,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),wg=function(){function e(t,n){xe(this,e),this.largestBatchId=t,this.mutation=n}return(0,_e.Z)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),bg=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:kp.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:kp.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Cp.EMPTY_BYTE_STRING;xe(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return(0,_e.Z)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),xg=(0,_e.Z)((function e(t){xe(this,e),this.Ht=t}));function _g(e,t){var n;if(t.document)n=vy(e.Ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Zp.fromSegments(t.noDocument.path),i=Cg(t.noDocument.readTime);n=av.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Jd();var a=Zp.fromSegments(t.unknownDocument.path),o=Cg(t.unknownDocument.version);n=av.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(Tg(t.readTime)),n}function Sg(e,t){var n=Eg(t.readTime),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){var i=function(e,t){return{name:uy(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ny(e,t.version.toTimestamp())}}(e.Ht,t),a=t.hasCommittedMutations;return new By(null,null,i,a,n,r)}if(t.isNoDocument()){var o=t.key.path.toArray(),s=Ig(t.version),u=t.hasCommittedMutations;return new By(null,new Vy(o,s),null,u,n,r)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Ig(t.version);return new By(new Zy(c,l),null,null,!0,n,r)}return Jd()}function Eg(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Tg(e){var t=new gp(e[0],e[1]);return kp.fromTimestamp(t)}function Ig(e){var t=e.toTimestamp();return new My(t.seconds,t.nanoseconds)}function Cg(e){var t=new gp(e.seconds,e.nanoseconds);return kp.fromTimestamp(t)}function Ng(e,t){for(var n=(t.baseMutations||[]).map((function(t){return gy(e.Ht,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return gy(e.Ht,t)})),s=gp.fromMillis(t.localWriteTimeMs);return new gg(t.batchId,s,n,o)}function Og(e){var t,n,r=Cg(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Cg(e.lastLimboFreeSnapshotVersion):kp.min();return void 0!==e.query.documents?(Xd(1===(n=e.query).documents.length),t=jv(Av(fy(n.documents[0])))):t=function(e){return jv(by(e))}(e.query),new bg(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Cp.fromBase64String(e.resumeToken))}function Ag(e,t){var n,r=Ig(t.snapshotVersion),i=Ig(t.lastLimboFreeSnapshotVersion);n=pv(t.target)?ky(e.Ht,t.target):wy(e.Ht,t.target);var a=t.resumeToken.toBase64();return new zy(t.targetId,hv(t.target),r,a,t.sequenceNumber,i,n)}function Pg(e){var t=by({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Uv(t,t.limit,"L"):t}function Rg(e,t){return new wg(t.largestBatchId,gy(e.Ht,t.overlayMutation))}function Dg(e,t){var n=t.path.lastSegment();return[e,Ay(t.path.popLast()),n]}var Mg=function(){function e(){xe(this,e)}return(0,_e.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return Lg(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Cg(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Lg(e).put({bundleId:(n=t).id,createTime:Ig(ay(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Fg(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Pg(t.bundledQuery),readTime:Cg(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Fg(e).put(function(e){return{name:e.name,readTime:Ig(ay(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Lg(e){return yg(e,Ky.store)}function Fg(e){return yg(e,Qy.store)}var jg=function(){function e(t,n){xe(this,e),this.O=t,this.userId=n}return(0,_e.Z)(e,[{key:"getOverlay",value:function(e,t){var n=this;return Ug(e).get(Dg(this.userId,t)).next((function(e){return e?Rg(n.O,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n){var a=new wg(t,n);i.push(r.Yt(e,a))})),og.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Ay(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Ug(e).Gt(eg.collectionPathOverlayIndex,i))})),og.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=new Map,a=Ay(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Ug(e).qt(eg.collectionPathOverlayIndex,o).next((function(e){var t,n=Ee(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Rg(r.O,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=new Map,s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ug(e).Qt({index:eg.collectionGroupOverlayIndex,range:s},(function(e,t,n){var s=Rg(a.O,t);o.size<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Yt",value:function(e,t){return Ug(e).put(function(e,t,n){var r=Dg(t,n.mutation.key),a=(0,i.Z)(r,3),o=(a[0],a[1]),s=a[2];return new eg(t,o,s,n.mutation.key.getCollectionGroup(),n.largestBatchId,yy(e.Ht,n.mutation))}(this.O,this.userId,t))}}],[{key:"Jt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Ug(e){return yg(e,eg.store)}var Vg=function(){function e(){xe(this,e)}return(0,_e.Z)(e,[{key:"Xt",value:function(e,t){this.Zt(e,t),t.te()}},{key:"Zt",value:function(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(Ap(e.integerValue));else if("doubleValue"in e){var n=Ap(e.doubleValue);isNaN(n)?this.ee(t,13):(this.ee(t,15),Up(n)?t.ne(0):t.ne(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ee(t,20),"string"==typeof r?t.se(r):(t.se("".concat(r.seconds||"")),t.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(Pp(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ee(t,45),t.ne(i.latitude||0),t.ne(i.longitude||0)}else"mapValue"in e?zp(e,Bp)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):Jd()}},{key:"ie",value:function(e,t){this.ee(t,25),this.he(e,t)}},{key:"he",value:function(e,t){t.se(e)}},{key:"ue",value:function(e,t){var n=e.fields||{};this.ee(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ie(a,t),this.Zt(n[a],t)}}},{key:"ae",value:function(e,t){var n=e.values||[];this.ee(t,50);var r,i=Ee(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Zt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ce",value:function(e,t){var n=this;this.ee(t,37),Zp.fromName(e).path.forEach((function(e){n.ee(t,60),n.he(e,t)}))}},{key:"ee",value:function(e,t){e.ne(t)}},{key:"re",value:function(e){e.ne(2)}}]),e}();function Zg(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Bg(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Zg(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Vg.le=new Vg;var qg=function(){function e(){xe(this,e),this.buffer=new Uint8Array(1024),this.position=0}return(0,_e.Z)(e,[{key:"fe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.de(n.value),n=t.next();this._e()}},{key:"we",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.me(n.value),n=t.next();this.ge()}},{key:"ye",value:function(e){var t,n=Ee(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.de(i);else if(i<2048)this.de(960|i>>>6),this.de(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.de(480|i>>>12),this.de(128|63&i>>>6),this.de(128|63&i);else{var a=r.codePointAt(0);this.de(240|a>>>18),this.de(128|63&a>>>12),this.de(128|63&a>>>6),this.de(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this._e()}},{key:"pe",value:function(e){var t,n=Ee(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.me(i);else if(i<2048)this.me(960|i>>>6),this.me(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.me(480|i>>>12),this.me(128|63&i>>>6),this.me(128|63&i);else{var a=r.codePointAt(0);this.me(240|a>>>18),this.me(128|63&a>>>12),this.me(128|63&a>>>6),this.me(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ge()}},{key:"Ie",value:function(e){var t=this.Ee(e),n=Bg(t);this.Te(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ae",value:function(e){var t=this.Ee(e),n=Bg(t);this.Te(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Re",value:function(){this.Pe(255),this.Pe(255)}},{key:"be",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ve",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"de",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"me",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"_e",value:function(){this.Pe(0),this.Pe(1)}},{key:"ge",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Te(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Te(1),this.buffer[this.position++]=~e}},{key:"Te",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),zg=function(){function e(t){xe(this,e),this.Se=t}return(0,_e.Z)(e,[{key:"oe",value:function(e){this.Se.fe(e)}},{key:"se",value:function(e){this.Se.ye(e)}},{key:"ne",value:function(e){this.Se.Ie(e)}},{key:"te",value:function(){this.Se.Re()}}]),e}(),Wg=function(){function e(t){xe(this,e),this.Se=t}return(0,_e.Z)(e,[{key:"oe",value:function(e){this.Se.we(e)}},{key:"se",value:function(e){this.Se.pe(e)}},{key:"ne",value:function(e){this.Se.Ae(e)}},{key:"te",value:function(){this.Se.be()}}]),e}(),Hg=function(){function e(){xe(this,e),this.Se=new qg,this.De=new zg(this.Se),this.Ce=new Wg(this.Se)}return(0,_e.Z)(e,[{key:"seed",value:function(e){this.Se.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.De:this.Ce}},{key:"Ve",value:function(){return this.Se.Ve()}},{key:"reset",value:function(){this.Se.reset()}}]),e}(),Gg=(0,_e.Z)((function e(t,n,r,i){xe(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}));function Yg(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Zp.comparator(e.documentKey,t.documentKey))?n:0!==(n=Kg(e.arrayValue,t.arrayValue))?n:Kg(e.directionalValue,t.directionalValue)}function Kg(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Qg=function(){function e(){xe(this,e),this.xe=new $g}return(0,_e.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.xe.add(t),og.resolve()}},{key:"getCollectionParents",value:function(e,t){return og.resolve(this.xe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return og.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return og.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return og.resolve(Zm())}},{key:"getFieldIndex",value:function(e,t){return og.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return og.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return og.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return og.resolve()}},{key:"updateIndexEntries",value:function(e,t){return og.resolve()}}]),e}(),$g=function(){function e(){xe(this,e),this.index={}}return(0,_e.Z)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Pm(Sp.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Pm(Sp.comparator)).toArray()}}]),e}(),Jg=function(){function e(t){xe(this,e),this.user=t,this.ke=new $g,this.uid=t.uid||""}return(0,_e.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.ke.add(t)}));var a={collectionId:r,parent:Ay(i)};return Xg(e).put(a)}return og.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[yp(t),""],!1,!0);return Xg(e).qt(r).next((function(e){var r,i=Ee(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Dy(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=tk(e),r=function(e){return new $y(e.indexId,e.collectionGroup,e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]})))}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=tk(e),r=nk(e),i=ek(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return og.resolve(Zm())}},{key:"getFieldIndex",value:function(e,t){return og.resolve(null)}},{key:"Oe",value:function(e,t){var n,r=new Hg,i=Ee(function(e){return e.fields.filter((function(e){return 2!==e.kind}))}(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Ne(a.kind);Vg.le.Xt(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Ve()}},{key:"Me",value:function(e){var t=new Hg;return Vg.le.Xt(e,t.Ne(0)),t.Ve()}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=tk(e),a=nk(e);return(t?r.qt($y.collectionGroupIndex,IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return og.forEach(e,(function(e){return a.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new uv(t.sequenceNumber,new cv(Cg(t.readTime),new Zp(Dy(t.documentKey)),t.largestBatchId)):uv.empty(),r=e.fields.map((function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];return new sv(Tp.fromServerFormat(n),r)}));return new ov(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){return e.indexState.sequenceNumber-t.indexState.sequenceNumber})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=tk(e),a=nk(e);return this.$e(e).next((function(e){return i.qt($y.collectionGroupIndex,IDBKeyRange.bound(t,t)).next((function(t){return og.forEach(t,(function(t){return a.put(function(e,t,n,r){return new Jy(e,t.uid||"",n,Ig(r.readTime),Ay(r.documentKey.path),r.largestBatchId)}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return og.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?og.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),og.forEach(a,(function(r){return n.Fe(e,t,r).next((function(t){var a=n.Be(i,r);return t.isEqual(a)?og.resolve():n.Le(e,i,t,a)}))}))}))}))}},{key:"Ue",value:function(e,t,n){return ek(e).put(new Xy(n.indexId,this.uid,n.arrayValue,n.directionalValue,Ay(t.key.path)))}},{key:"qe",value:function(e,t,n){return ek(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,Ay(t.key.path)])}},{key:"Fe",value:function(e,t,n){var r=ek(e),i=new Pm(Yg);return r.Qt({index:Xy.documentKeyIndex,range:IDBKeyRange.only([n.indexId,this.uid,Ay(t.path)])},(function(e,r){i=i.add(new Gg(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"Be",value:function(e,t){var n=new Pm(Yg),r=this.Oe(t,e);if(null==r)return n;var i=function(e){return e.fields.find((function(e){return 2===e.kind}))}(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Jp(a)){var o,s=Ee(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new Gg(t.indexId,e.key,this.Me(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new Gg(t.indexId,e.key,new Uint8Array,r));return n}},{key:"Le",value:function(e,t,n,r){var i=this;Yd("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=Dm(a),u=Dm(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=Dm(o)):l?(i(s),s=Dm(a)):(s=Dm(a),u=Dm(o))}}(n,r,Yg,(function(n){a.push(i.Ue(e,t,n))}),(function(n){a.push(i.qe(e,t,n))})),og.waitFor(a)}},{key:"$e",value:function(e){var t=1;return nk(e).Qt({index:Jy.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}}]),e}();function Xg(e){return yg(e,Gy.store)}function ek(e){return yg(e,Xy.store)}function tk(e){return yg(e,$y.store)}function nk(e){return yg(e,Jy.store)}var rk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ik=function(){function e(t,n,r){xe(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return(0,_e.Z)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function ak(e,t,n){var r=e.store(jy.store),i=e.store(Uy.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Qt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Xd(1===s)})));var c,l=[],f=Ee(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Uy.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return og.waitFor(a).next((function(){return l}))}function ok(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Jd();t=e.noDocument}return JSON.stringify(t).length}ik.DEFAULT_COLLECTION_PERCENTILE=10,ik.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ik.DEFAULT=new ik(41943040,ik.DEFAULT_COLLECTION_PERCENTILE,ik.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ik.DISABLED=new ik(-1,0,0);var sk=function(){function e(t,n,r,i){xe(this,e),this.userId=t,this.O=n,this.indexManager=r,this.referenceDelegate=i,this.Ke={}}return(0,_e.Z)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ck(e).Qt({index:jy.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=lk(e),o=ck(e);return o.add({}).next((function(s){Xd("number"==typeof s);var u,c=new gg(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return yy(e.Ht,t)})),i=n.mutations.map((function(t){return yy(e.Ht,t)}));return new jy(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.O,i.userId,c),f=[],h=new Pm((function(e,t){return vp(e.canonicalString(),t.canonicalString())})),d=Ee(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=Uy.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Uy.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Ke[s]=c.keys()})),og.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return ck(e).get(t).next((function(e){return e?(Xd(e.userId===n.userId),Ng(n.O,e)):null}))}},{key:"Ge",value:function(e,t){var n=this;return this.Ke[t]?og.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Ke[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return ck(e).Qt({index:jy.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Xd(t.batchId>=r),a=Ng(n.O,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ck(e).Qt({index:jy.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ck(e).qt(jy.userMutationsIndex,n).next((function(e){return e.map((function(e){return Ng(t.O,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Uy.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(r),o=[];return lk(e).Qt({range:a},(function(r,a,s){var u=(0,i.Z)(r,3),c=u[0],l=u[1],f=u[2],h=Dy(l);if(c===n.userId&&t.path.isEqual(h))return ck(e).get(f).next((function(e){if(!e)throw Jd();Xd(e.userId===n.userId),o.push(Ng(n.O,e))}));s.done()})).next((function(){return o}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Pm(vp),a=[];return t.forEach((function(t){var o=Uy.prefixForPath(n.userId,t.path),s=IDBKeyRange.lowerBound(o),u=lk(e).Qt({range:s},(function(e,a,o){var s=(0,i.Z)(e,3),u=s[0],c=s[1],l=s[2],f=Dy(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()}));a.push(u)})),og.waitFor(a).next((function(){return n.je(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,a=r.length+1,o=Uy.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new Pm(vp);return lk(e).Qt({range:s},(function(e,t,o){var s=(0,i.Z)(e,3),c=s[0],l=s[1],f=s[2],h=Dy(l);c===n.userId&&r.isPrefixOf(h)?h.length===a&&(u=u.add(f)):o.done()})).next((function(){return n.je(e,u)}))}},{key:"je",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(ck(e).get(t).next((function(e){if(null===e)throw Jd();Xd(e.userId===n.userId),r.push(Ng(n.O,e))})))})),og.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return ak(e.zt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Qe(t.batchId)})),og.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Qe",value:function(e){delete this.Ke[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return og.resolve();var r=IDBKeyRange.lowerBound(Uy.prefixForUser(t.userId)),i=[];return lk(e).Qt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Dy(e[1]);i.push(a)}else r.done()})).next((function(){Xd(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return uk(e,this.userId,t)}},{key:"We",value:function(e){var t=this;return fk(e).get(this.userId).next((function(e){return e||new Fy(t.userId,-1,"")}))}}],[{key:"Jt",value:function(t,n,r,i){return Xd(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function uk(e,t,n){var r=Uy.prefixForPath(t,n.path),a=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return lk(e).Qt({range:o,jt:!0},(function(e,n,r){var o=(0,i.Z)(e,3),u=o[0],c=o[1];o[2];u===t&&c===a&&(s=!0),r.done()})).next((function(){return s}))}function ck(e){return yg(e,jy.store)}function lk(e){return yg(e,Uy.store)}function fk(e){return yg(e,Fy.store)}var hk=function(){function e(t){xe(this,e),this.ze=t}return(0,_e.Z)(e,[{key:"next",value:function(){return this.ze+=2,this.ze}}],[{key:"He",value:function(){return new e(0)}},{key:"Je",value:function(){return new e(-1)}}]),e}(),dk=function(){function e(t,n){xe(this,e),this.referenceDelegate=t,this.O=n}return(0,_e.Z)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Ye(e).next((function(n){var r=new hk(n.highestTargetId);return n.highestTargetId=r.next(),t.Xe(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Ye(e).next((function(e){return kp.fromTimestamp(new gp(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Ye(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Ye(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Xe(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Ze(e,t).next((function(){return n.Ye(e).next((function(r){return r.targetCount+=1,n.tn(t,r),n.Xe(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Ze(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return pk(e).delete(t.targetId)})).next((function(){return n.Ye(e)})).next((function(t){return Xd(t.targetCount>0),t.targetCount-=1,n.Xe(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return pk(e).Qt((function(o,s){var u=Og(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return og.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return pk(e).Qt((function(e,n){var r=Og(n);t(r)}))}},{key:"Ye",value:function(e){return vk(e).get(Hy.key).next((function(e){return Xd(null!==e),e}))}},{key:"Xe",value:function(e,t){return vk(e).put(Hy.key,t)}},{key:"Ze",value:function(e,t){return pk(e).put(Ag(this.O,t))}},{key:"tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Ye(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=hv(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return pk(e).Qt({range:r,index:zy.queryTargetsIndexName},(function(e,n,r){var a=Og(n);dv(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=mk(e);return t.forEach((function(t){var o=Ay(t.path);i.push(a.put(new Wy(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),og.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=mk(e);return og.forEach(t,(function(t){var a=Ay(t.path);return og.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=mk(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=mk(e),i=Zm();return r.Qt({range:n,jt:!0},(function(e,t,n){var r=Dy(e[1]),a=new Zp(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Ay(t.path),r=IDBKeyRange.bound([n],[yp(n)],!1,!0),a=0;return mk(e).Qt({index:Wy.documentTargetsIndex,jt:!0,range:r},(function(e,t,n){var r=(0,i.Z)(e,2),o=r[0];r[1];0!==o&&(a++,n.done())})).next((function(){return a>0}))}},{key:"Tt",value:function(e,t){return pk(e).get(t).next((function(e){return e?Og(e):null}))}}]),e}();function pk(e){return yg(e,zy.store)}function vk(e){return yg(e,Hy.store)}function mk(e){return yg(e,Wy.store)}function yk(e){return gk.apply(this,arguments)}function gk(){return gk=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===tp.FAILED_PRECONDITION&&t.message===ig){e.next=2;break}throw t;case 2:Yd("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),gk.apply(this,arguments)}function kk(e,t){var n=(0,i.Z)(e,2),r=n[0],a=n[1],o=(0,i.Z)(t,2),s=o[0],u=o[1],c=vp(r,s);return 0===c?vp(a,u):c}var wk=function(){function e(t){xe(this,e),this.en=t,this.buffer=new Pm(kk),this.nn=0}return(0,_e.Z)(e,[{key:"sn",value:function(){return++this.nn}},{key:"rn",value:function(e){var t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();kk(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),bk=function(){function e(t,n){xe(this,e),this.garbageCollector=t,this.asyncQueue=n,this.on=!1,this.cn=null}return(0,_e.Z)(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}},{key:"stop",value:function(){this.cn&&(this.cn.cancel(),this.cn=null)}},{key:"started",get:function(){return null!==this.cn}},{key:"un",value:function(e){var t=this,n=this.on?3e5:6e4;Yd("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,dt(vt().mark((function n(){return vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.cn=null,t.on=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!fg(n.t0)){n.next=12;break}Yd("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,yk(n.t0);case 14:return n.next=16,t.un(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),xk=function(){function e(t,n){xe(this,e),this.an=t,this.params=n}return(0,_e.Z)(e,[{key:"calculateTargetCount",value:function(e,t){return this.an.hn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return og.resolve(hp.A);var r=new wk(t);return this.an.forEachTarget(e,(function(e){return r.rn(e.sequenceNumber)})).next((function(){return n.an.ln(e,(function(e){return r.rn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.an.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.an.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Yd("LruGarbageCollector","Garbage collection skipped; disabled"),og.resolve(rk)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Yd("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),rk):n.fn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.an.getCacheSize(e)}},{key:"fn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Yd("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Gd()<=wt.DEBUG&&Yd("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),og.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),_k=function(){function e(t,n){xe(this,e),this.db=t,this.garbageCollector=function(e,t){return new xk(e,t)}(this,n)}return(0,_e.Z)(e,[{key:"hn",value:function(e){var t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"dn",value:function(e){var t=0;return this.ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"ln",value:function(e,t){return this._n(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Sk(e,n)}},{key:"removeReference",value:function(e,t,n){return Sk(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Sk(e,t)}},{key:"wn",value:function(e,t){return function(e,t){var n=!1;return fk(e).Wt((function(r){return uk(e,r,t).next((function(e){return e&&(n=!0),og.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this._n(e,(function(o,s){if(s<=t){var u=n.wn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,kp.min()),mk(e).delete([0,Ay(o.path)])}))}));i.push(u)}})).next((function(){return og.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Sk(e,t)}},{key:"_n",value:function(e,t){var n,r=mk(e),a=hp.A;return r.Qt({index:Wy.documentTargetsIndex},(function(e,r){var o=(0,i.Z)(e,2),s=o[0],u=(o[1],r.path),c=r.sequenceNumber;0===s?(a!==hp.A&&t(new Zp(Dy(n)),a),a=c,n=u):a=hp.A})).next((function(){a!==hp.A&&t(new Zp(Dy(n)),a)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Sk(e,t){return mk(e).put(function(e,t){return new Wy(0,Ay(e.path),t)}(t,e.currentSequenceNumber))}var Ek=function(){function e(t,n){xe(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return(0,_e.Z)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,a=Ee(n);try{for(a.s();!(r=a.n()).done;){var o=(0,i.Z)(r.value,2),s=o[0],u=o[1];if(this.equalsFn(s,e))return u}}catch(c){a.e(c)}finally{a.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){bp(this.inner,(function(t,n){var r,a=Ee(n);try{for(a.s();!(r=a.n()).done;){var o=(0,i.Z)(r.value,2),s=o[0],u=o[1];e(s,u)}}catch(c){a.e(c)}finally{a.f()}}))}},{key:"isEmpty",value:function(){return xp(this.inner)}}]),e}(),Tk=function(){function e(){xe(this,e),this.changes=new Ek((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return(0,_e.Z)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,av.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?og.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Ik=function(){function e(t){xe(this,e),this.O=t}return(0,_e.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Ok(e).put(Ak(t),n)}},{key:"removeEntry",value:function(e,t){var n=Ok(e),r=Ak(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.mn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return Ok(e).get(Ak(t)).next((function(e){return n.gn(t,e)}))}},{key:"yn",value:function(e,t){var n=this;return Ok(e).get(Ak(t)).next((function(e){return{document:n.gn(t,e),size:ok(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=Lm();return this.pn(e,t,(function(e,t){var i=n.gn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"In",value:function(e,t){var n=this,r=Lm(),i=new Nm(Zp.comparator);return this.pn(e,t,(function(e,t){var a=n.gn(e,t);r=r.insert(e,a),i=i.insert(e,ok(t))})).next((function(){return{documents:r,En:i}}))}},{key:"pn",value:function(e,t,n){if(t.isEmpty())return og.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return Ok(e).Qt({range:r},(function(e,t,r){for(var o=Zp.fromSegments(e);a&&Zp.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Ut(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getAll",value:function(e,t,n){var r=this,i=Lm(),a=t.length+1,o={};if(n.isEqual(kp.min())){var s=t.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.toArray(),c=Eg(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=By.collectionReadTimeIndex}return Ok(e).Qt(o,(function(e,n,o){if(e.length===a){var s=r.gn(Zp.fromSegments(e),n);t.isPrefixOf(s.key.path)?i=i.insert(s.key,s):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new Ck(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Nk(e).get(qy.key).next((function(e){return Xd(!!e),e}))}},{key:"mn",value:function(e,t){return Nk(e).put(qy.key,t)}},{key:"gn",value:function(e,t){if(t){var n=_g(this.O,t);if(!n.isNoDocument()||!n.version.isEqual(kp.min()))return n}return av.newInvalidDocument(e)}}]),e}(),Ck=function(e){Ce(n,e);var t=Re(n);function n(e,r){var i;return xe(this,n),(i=t.call(this)).Tn=e,i.trackRemovals=r,i.An=new Ek((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return(0,_e.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Pm((function(e,t){return vp(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.An.get(a);if(o.isValidDocument()){var u=Sg(t.Tn.O,o);i=i.add(a.path.popLast());var c=ok(u);r+=c-s,n.push(t.Tn.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var l=Sg(t.Tn.O,o.convertToNoDocument(kp.min()));n.push(t.Tn.addEntry(e,a,l))}else n.push(t.Tn.removeEntry(e,a))})),i.forEach((function(r){n.push(t.Tn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Tn.updateMetadata(e,r)),og.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Tn.yn(e,t).next((function(e){return n.An.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Tn.In(e,t).next((function(e){var t=e.documents;return e.En.forEach((function(e,t){n.An.set(e,t)})),t}))}}]),n}(Tk);function Nk(e){return yg(e,qy.store)}function Ok(e){return yg(e,By.store)}function Ak(e){return e.path.toArray()}var Pk=function(){function e(t){xe(this,e),this.O=t}return(0,_e.Z)(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new sg("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Ly.store)}(e),function(e){e.createObjectStore(Fy.store,{keyPath:Fy.keyPath}),e.createObjectStore(jy.store,{keyPath:jy.keyPath,autoIncrement:!0}).createIndex(jy.userMutationsIndex,jy.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Uy.store)}(e),Rk(e),function(e){e.createObjectStore(By.store)}(e));var o=og.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Wy.store),e.deleteObjectStore(zy.store),e.deleteObjectStore(Hy.store)}(e),Rk(e)),o=o.next((function(){return function(e){var t=e.store(Hy.store),n=new Hy(0,0,kp.min().toTimestamp(),0);return t.put(Hy.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(jy.store).qt().next((function(n){e.deleteObjectStore(jy.store),e.createObjectStore(jy.store,{keyPath:jy.keyPath,autoIncrement:!0}).createIndex(jy.userMutationsIndex,jy.userMutationsKeyPath,{unique:!0});var r=t.store(jy.store),i=n.map((function(e){return r.put(e)}));return og.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(Yy.store,{keyPath:Yy.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Rn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(qy.store)}(e),i.Pn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.bn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.vn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(By.store);t.createIndex(By.readTimeIndex,By.readTimeIndexPath,{unique:!1}),t.createIndex(By.collectionReadTimeIndex,By.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Vn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Ky.store,{keyPath:Ky.keyPath})}(e),function(e){e.createObjectStore(Qy.store,{keyPath:Qy.keyPath})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore(eg.store,{keyPath:eg.keyPath});t.createIndex(eg.collectionPathOverlayIndex,eg.collectionPathOverlayIndexPath,{unique:!1}),t.createIndex(eg.collectionGroupOverlayIndex,eg.collectionGroupOverlayIndexPath,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){!function(e){e.createObjectStore($y.store,{keyPath:$y.keyPath,autoIncrement:!0}).createIndex($y.collectionGroupIndex,$y.collectionGroupIndexPath,{unique:!1}),e.createObjectStore(Jy.store,{keyPath:Jy.keyPath}).createIndex(Jy.sequenceNumberIndex,Jy.sequenceNumberIndexPath,{unique:!1}),e.createObjectStore(Xy.store,{keyPath:Xy.keyPath}).createIndex(Xy.documentKeyIndex,Xy.documentKeyIndexPath,{unique:!1})}(e)}))),o}},{key:"Pn",value:function(e){var t=0;return e.store(By.store).Qt((function(e,n){t+=ok(n)})).next((function(){var n=new qy(t);return e.store(qy.store).put(qy.key,n)}))}},{key:"Rn",value:function(e){var t=this,n=e.store(Fy.store),r=e.store(jy.store);return n.qt().next((function(n){return og.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt(jy.userMutationsIndex,i).next((function(r){return og.forEach(r,(function(r){Xd(r.userId===n.userId);var i=Ng(t.O,r);return ak(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"bn",value:function(e){var t=e.store(Wy.store),n=e.store(By.store);return e.store(Hy.store).get(Hy.key).next((function(e){var r=[];return n.Qt((function(n,i){var a=new Sp(n),o=function(e){return[0,Ay(e)]}(a);r.push(t.get(o).next((function(n){return n?og.resolve():function(n){return t.put(new Wy(0,Ay(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return og.waitFor(r)}))}))}},{key:"vn",value:function(e,t){e.createObjectStore(Gy.store,{keyPath:Gy.keyPath});var n=t.store(Gy.store),r=new $g,a=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Ay(i)})}};return t.store(By.store).Qt({jt:!0},(function(e,t){var n=new Sp(e);return a(n.popLast())})).next((function(){return t.store(Uy.store).Qt({jt:!0},(function(e,t){var n=(0,i.Z)(e,3),r=(n[0],n[1]),o=(n[2],Dy(r));return a(o.popLast())}))}))}},{key:"Vn",value:function(e){var t=this,n=e.store(zy.store);return n.Qt((function(e,r){var i=Og(r),a=Ag(t.O,i);return n.put(a)}))}}]),e}();function Rk(e){e.createObjectStore(Wy.store,{keyPath:Wy.keyPath}).createIndex(Wy.documentTargetsIndex,Wy.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(zy.store,{keyPath:zy.keyPath}).createIndex(zy.queryTargetsIndexName,zy.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Hy.store)}var Dk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Mk=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:12;if(xe(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Sn=a,this.window=o,this.document=s,this.Dn=c,this.Cn=l,this.schemaVersion=f,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=function(e){return Promise.resolve()},!e.Vt())throw new np(tp.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _k(this,i),this.Bn=n+"main",this.O=new xg(u),this.Ln=new ug(this.Bn,this.schemaVersion,new Pk(this.O)),this.Un=new dk(this.referenceDelegate,this.O),this.qn=function(e){return new Ik(e)}(this.O),this.Kn=new Mg,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===l&&Kd("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return(0,_e.Z)(e,[{key:"start",value:function(){var e=this;return this.jn().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new np(tp.FAILED_PRECONDITION,Dk);return e.Qn(),e.Wn(),e.zn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Un.getHighestSequenceNumber(t)}))})).then((function(t){e.Nn=new hp(t,e.Dn)})).then((function(){e.xn=!0})).catch((function(t){return e.Ln&&e.Ln.close(),Promise.reject(t)}))}},{key:"Hn",value:function(e){var t=this;return this.Fn=function(){var n=dt(vt().mark((function n(r){return vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ln.Mt(function(){var t=dt(vt().mark((function t(n){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget(dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.jn();case 4:case"end":return e.stop()}}),e)})))))}},{key:"jn",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Fk(t).put(new Yy(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Jn(t).next((function(t){t||(e.isPrimary=!1,e.Sn.enqueueRetryable((function(){return e.Fn(!1)})))}))})).next((function(){return e.Yn(t)})).next((function(n){return e.isPrimary&&!n?e.Xn(t).next((function(){return!1})):!!n&&e.Zn(t).next((function(){return!0}))}))})).catch((function(t){if(fg(t))return Yd("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Yd("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Sn.enqueueRetryable((function(){return e.Fn(t)})),e.isPrimary=t}))}},{key:"Jn",value:function(e){var t=this;return Lk(e).get(Ly.key).next((function(e){return og.resolve(t.ts(e))}))}},{key:"es",value:function(e){return Fk(e).delete(this.clientId)}},{key:"ns",value:function(){var e=dt(vt().mark((function e(){var t,n,r,i,a=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.ss(this.$n,18e5)){e.next=6;break}return this.$n=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=yg(e,Yy.store);return t.qt().next((function(e){var n=a.rs(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return og.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Gn){n=Ee(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Gn.removeItem(this.os(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"zn",value:function(){var e=this;this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.jn().then((function(){return e.ns()})).then((function(){return e.zn()}))}))}},{key:"ts",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Yn",value:function(e){var t=this;return this.Cn?og.resolve(!0):Lk(e).get(Ly.key).next((function(n){if(null!==n&&t.ss(n.leaseTimestampMs,5e3)&&!t.cs(n.ownerId)){if(t.ts(n)&&t.networkEnabled)return!0;if(!t.ts(n)){if(!n.allowTabSynchronization)throw new np(tp.FAILED_PRECONDITION,Dk);return!1}}return!(!t.networkEnabled||!t.inForeground)||Fk(e).qt().next((function(e){return void 0===t.rs(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Yd("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=dt(vt().mark((function e(){var t=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.xn=!1,this.us(),this.Mn&&(this.Mn.cancel(),this.Mn=null),this.hs(),this.ls(),e.next=7,this.Ln.runTransaction("shutdown","readwrite",[Ly.store,Yy.store],(function(e){var n=new mg(e,hp.A);return t.Xn(n).next((function(){return t.es(n)}))}));case 7:this.Ln.close(),this.fs();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rs",value:function(e,t){var n=this;return e.filter((function(e){return n.ss(e.updateTimeMs,t)&&!n.cs(e.clientId)}))}},{key:"ds",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Fk(t).qt().next((function(t){return e.rs(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.xn}},{key:"getMutationQueue",value:function(e,t){return sk.Jt(e,this.O,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getIndexManager",value:function(e){return new Jg(e)}},{key:"getDocumentOverlayCache",value:function(e){return jg.Jt(this.O,e)}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;Yd("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=13===(i=this.schemaVersion)?rg:12===i?ng:11===i?tg:void Jd();return this.Ln.runTransaction(e,o,s,(function(i){return a=new mg(i,r.Nn?r.Nn.next():hp.A),"readwrite-primary"===t?r.Jn(a).next((function(e){return!!e||r.Yn(a)})).next((function(t){if(!t)throw Kd("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Sn.enqueueRetryable((function(){return r.Fn(!1)})),new np(tp.FAILED_PRECONDITION,ig);return n(a)})).next((function(e){return r.Zn(a).next((function(){return e}))})):r._s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"_s",value:function(e){var t=this;return Lk(e).get(Ly.key).next((function(e){if(null!==e&&t.ss(e.leaseTimestampMs,5e3)&&!t.cs(e.ownerId)&&!t.ts(e)&&!(t.Cn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new np(tp.FAILED_PRECONDITION,Dk)}))}},{key:"Zn",value:function(e){var t=new Ly(this.clientId,this.allowTabSynchronization,Date.now());return Lk(e).put(Ly.key,t)}},{key:"Xn",value:function(e){var t=this,n=Lk(e);return n.get(Ly.key).next((function(e){return t.ts(e)?(Yd("IndexedDbPersistence","Releasing primary lease."),n.delete(Ly.key)):og.resolve()}))}},{key:"ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Kd("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Qn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=function(){e.Sn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.jn()}))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}},{key:"hs",value:function(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}},{key:"Wn",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=function(){t.us(),!He()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Sn.enterRestrictedMode(!0),t.Sn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.kn))}},{key:"ls",value:function(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}},{key:"cs",value:function(e){var t;try{var n=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return Yd("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Kd("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"us",value:function(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(qc){Kd("Failed to set zombie client id.",qc)}}},{key:"fs",value:function(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(qc){}}},{key:"os",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Vt",value:function(){return ug.Vt()}}]),e}();function Lk(e){return yg(e,Ly.store)}function Fk(e){return yg(e,Yy.store)}function jk(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Uk=(0,_e.Z)((function e(t,n){xe(this,e),this.progress=t,this.ws=n})),Vk=function(){function e(t,n,r){xe(this,e),this.qn=t,this.gs=n,this.indexManager=r}return(0,_e.Z)(e,[{key:"ys",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.ps(e,t,r)}))}},{key:"ps",value:function(e,t,n){return this.qn.getEntry(e,t).next((function(e){var t,r=Ee(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Is",value:function(e,t){e.forEach((function(e,n){var r,i=Ee(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Es",value:function(e,t){var n=this;return this.qn.getEntries(e,t).next((function(t){return n.Ts(e,t).next((function(){return t}))}))}},{key:"Ts",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Is(t,e)}))}},{key:"As",value:function(e,t,n){return function(e){return Zp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Rs(e,t.path):Lv(t)?this.Ps(e,t,n):this.bs(e,t,n)}},{key:"Rs",value:function(e,t){return this.ys(e,new Zp(t)).next((function(e){var t=jm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ps",value:function(e,t,n){var r=this,i=t.collectionGroup,a=jm();return this.indexManager.getCollectionParents(e,i).next((function(o){return og.forEach(o,(function(o){var s=function(e,t){return new Nv(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.bs(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"bs",value:function(e,t,n){var r,i=this;return this.qn.getAll(e,t.path,n).next((function(n){return r=n,i.gs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=Ee(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=Ee(a.mutations);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.key,c=r.get(u);null==c&&(c=av.newInvalidDocument(u),r=r.insert(u,c)),dm(s,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(u))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){qv(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Zk=function(){function e(t,n,r,i){xe(this,e),this.targetId=t,this.fromCache=n,this.vs=r,this.Vs=i}return(0,_e.Z)(e,null,[{key:"Ss",value:function(t,n){var r,i=Zm(),a=Zm(),o=Ee(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Bk=function(){function e(){xe(this,e)}return(0,_e.Z)(e,[{key:"Ds",value:function(e){this.Cs=e}},{key:"As",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(kp.min())?this.Ns(e,t):this.Cs.Es(e,r).next((function(a){var o=i.xs(t,a);return(Pv(t)||Rv(t))&&i.ks(t.limitType,o,r,n)?i.Ns(e,t):(Gd()<=wt.DEBUG&&Yd("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Bv(t)),i.Cs.As(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"xs",value:function(e,t){var n=new Pm(zv(e));return t.forEach((function(t,r){qv(e,r)&&(n=n.add(r))})),n}},{key:"ks",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ns",value:function(e,t){return Gd()<=wt.DEBUG&&Yd("QueryEngine","Using full collection scan to execute query:",Bv(t)),this.Cs.As(e,t,kp.min())}}]),e}(),qk=function(){function e(t,n,r,i){xe(this,e),this.persistence=t,this.Os=n,this.O=i,this.Ms=new Nm(vp),this.$s=new Ek((function(e){return hv(e)}),dv),this.Fs=kp.min(),this.Bs=t.getRemoteDocumentCache(),this.Un=t.getTargetCache(),this.Kn=t.getBundleCache(),this.Ls(r)}return(0,_e.Z)(e,[{key:"Ls",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new Vk(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ms)}))}}]),e}();function zk(e,t,n,r){return new qk(e,t,n,r)}function Wk(e,t){return Hk.apply(this,arguments)}function Hk(){return Hk=dt(vt().mark((function e(t,n){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ep(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.gs.getAllMutationBatches(e).next((function(i){return t=i,r.Ls(n),r.gs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Zm(),u=Ee(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Ee(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=Ee(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Ee(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.Us.Es(e,s).next((function(e){return{qs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Hk.apply(this,arguments)}function Gk(e,t){var n=ep(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=og.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Xd(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.gs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}function Yk(e){var t=ep(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Un.getLastRemoteSnapshotVersion(e)}))}function Kk(e,t){var n=ep(e),r=t.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.Ms;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Un.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Un.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(Cp.EMPTY_BYTE_STRING,kp.min()).withLastLimboFreeSnapshotVersion(kp.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Un.updateTargetData(e,c))}}));var s=Lm();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Qk(e,a,t.documentUpdates).next((function(e){s=e}))),!r.isEqual(kp.min())){var u=n.Un.getLastRemoteSnapshotVersion(e).next((function(t){return n.Un.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return og.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Us.Ts(e,s)})).next((function(){return s}))})).then((function(e){return n.Ms=i,e}))}function Qk(e,t,n){var r=Zm();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Lm();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(kp.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Yd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function $k(e,t){var n=ep(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.gs.getNextMutationBatchAfterBatchId(e,t)}))}function Jk(e,t){var n=ep(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Un.getTargetData(e,t).next((function(i){return i?(r=i,og.resolve(r)):n.Un.allocateTargetId(e).next((function(i){return r=new bg(t,i,0,e.currentSequenceNumber),n.Un.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.$s.set(t,e.targetId)),e}))}function Xk(e,t,n){return ew.apply(this,arguments)}function ew(){return ew=dt(vt().mark((function e(t,n,r){var i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ep(t),a=i.Ms.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),fg(e.t1)){e.next=12;break}throw e.t1;case 12:Yd("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ms=i.Ms.remove(n),i.$s.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),ew.apply(this,arguments)}function tw(e,t,n){var r=ep(e),i=kp.min(),a=Zm();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=ep(e),i=r.$s.get(n);return void 0!==i?og.resolve(r.Ms.get(i)):r.Un.getTargetData(t,n)}(r,e,jv(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Os.As(e,t,n?i:kp.min(),n?a:Zm())})).next((function(e){return{documents:e,Ks:a}}))}))}function nw(e,t){var n=ep(e),r=ep(n.Un),i=n.Ms.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Tt(e,t).next((function(e){return e?e.target:null}))}))}function rw(e){var t=ep(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=ep(e),i=Lm(),a=Eg(n),o=Ok(t),s=IDBKeyRange.lowerBound(a,!0);return o.Qt({index:By.readTimeIndex,range:s},(function(e,t){var n=_g(r.O,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{ws:i,readTime:Tg(a)}}))}(t.Bs,e,t.Fs)})).then((function(e){var n=e.ws,r=e.readTime;return t.Fs=r,n}))}function iw(e){return aw.apply(this,arguments)}function aw(){return aw=dt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ep(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Ok(e),n=kp.min();return t.Qt({index:By.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Tg(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.Fs=e})));case 2:case"end":return e.stop()}}),e)}))),aw.apply(this,arguments)}function ow(e,t,n,r){return sw.apply(this,arguments)}function sw(){return sw=dt(vt().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=ep(t),o=Zm(),s=Lm(),u=Ee(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.Gs(l.metadata.name),l.document&&(o=o.add(f)),(h=n.js(l)).setReadTime(n.Qs(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.Bs.newChangeBuffer({trackRemovals:!0}),e.next=7,Jk(a,function(e){return jv(Av(Sp.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Qk(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Un.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Un.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Us.Ts(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),sw.apply(this,arguments)}function uw(e,t){return cw.apply(this,arguments)}function cw(){return cw=dt(vt().mark((function e(t,n){var r,i,a,o=arguments;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Zm(),e.next=3,Jk(t,jv(Pg(n.bundledQuery)));case 3:return i=e.sent,a=ep(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=ay(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Kn.saveNamedQuery(e,n);var o=i.withResumeToken(Cp.EMPTY_BYTE_STRING,t);return a.Ms=a.Ms.insert(o.targetId,o),a.Un.updateTargetData(e,o).next((function(){return a.Un.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Un.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Kn.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),cw.apply(this,arguments)}var lw=function(){function e(t){xe(this,e),this.O=t,this.Ws=new Map,this.zs=new Map}return(0,_e.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return og.resolve(this.Ws.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Ws.set(t.id,{id:(n=t).id,version:n.version,createTime:ay(n.createTime)}),og.resolve()}},{key:"getNamedQuery",value:function(e,t){return og.resolve(this.zs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.zs.set(t.name,function(e){return{name:e.name,query:Pg(e.bundledQuery),readTime:ay(e.readTime)}}(t)),og.resolve()}}]),e}(),fw=function(){function e(){xe(this,e),this.overlays=new Nm(Zp.comparator),this.Hs=new Map}return(0,_e.Z)(e,[{key:"getOverlay",value:function(e,t){return og.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n){r.Yt(e,t,n)})),og.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Hs.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Hs.delete(n)),og.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=new Map,i=t.length+1,a=new Zp(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return og.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Nm((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=new Map,i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=new Map,c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(t,e)})),!(u.size>=r)););return og.resolve(u)}},{key:"Yt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);null!==r&&this.Hs.get(r.largestBatchId).delete(n.key),this.overlays=this.overlays.insert(n.key,new wg(t,n));var i=this.Hs.get(t);void 0===i&&(i=new Set,this.Hs.set(t,i)),i.add(n.key)}}}]),e}(),hw=function(){function e(){xe(this,e),this.Js=new Pm(dw.Ys),this.Xs=new Pm(dw.Zs)}return(0,_e.Z)(e,[{key:"isEmpty",value:function(){return this.Js.isEmpty()}},{key:"addReference",value:function(e,t){var n=new dw(e,t);this.Js=this.Js.add(n),this.Xs=this.Xs.add(n)}},{key:"ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ei(new dw(e,t))}},{key:"ni",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"si",value:function(e){var t=this,n=new Zp(new Sp([])),r=new dw(n,e),i=new dw(n,e+1),a=[];return this.Xs.forEachInRange([r,i],(function(e){t.ei(e),a.push(e.key)})),a}},{key:"ii",value:function(){var e=this;this.Js.forEach((function(t){return e.ei(t)}))}},{key:"ei",value:function(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}},{key:"ri",value:function(e){var t=new Zp(new Sp([])),n=new dw(t,e),r=new dw(t,e+1),i=Zm();return this.Xs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new dw(e,0),n=this.Js.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),dw=function(){function e(t,n){xe(this,e),this.key=t,this.oi=n}return(0,_e.Z)(e,null,[{key:"Ys",value:function(e,t){return Zp.comparator(e.key,t.key)||vp(e.oi,t.oi)}},{key:"Zs",value:function(e,t){return vp(e.oi,t.oi)||Zp.comparator(e.key,t.key)}}]),e}(),pw=function(){function e(t,n){xe(this,e),this.indexManager=t,this.referenceDelegate=n,this.gs=[],this.ci=1,this.ui=new Pm(dw.Ys)}return(0,_e.Z)(e,[{key:"checkEmpty",value:function(e){return og.resolve(0===this.gs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ci;this.ci++,this.gs.length>0&&this.gs[this.gs.length-1];var a=new gg(i,t,n,r);this.gs.push(a);var o,s=Ee(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ui=this.ui.add(new dw(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return og.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return og.resolve(this.ai(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.hi(n),i=r<0?0:r;return og.resolve(this.gs.length>i?this.gs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return og.resolve(0===this.gs.length?-1:this.ci-1)}},{key:"getAllMutationBatches",value:function(e){return og.resolve(this.gs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new dw(t,0),i=new dw(t,Number.POSITIVE_INFINITY),a=[];return this.ui.forEachInRange([r,i],(function(e){var t=n.ai(e.oi);a.push(t)})),og.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Pm(vp);return t.forEach((function(e){var t=new dw(e,0),i=new dw(e,Number.POSITIVE_INFINITY);n.ui.forEachInRange([t,i],(function(e){r=r.add(e.oi)}))})),og.resolve(this.li(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Zp.isDocumentKey(i)||(i=i.child(""));var a=new dw(new Zp(i),0),o=new Pm(vp);return this.ui.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.oi)),!0)}),a),og.resolve(this.li(o))}},{key:"li",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ai(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Xd(0===this.fi(t.batchId,"removed")),this.gs.shift();var r=this.ui;return og.forEach(t.mutations,(function(i){var a=new dw(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ui=r}))}},{key:"Qe",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new dw(t,0),r=this.ui.firstAfterOrEqual(n);return og.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.gs.length,og.resolve()}},{key:"fi",value:function(e,t){return this.hi(e)}},{key:"hi",value:function(e){return 0===this.gs.length?0:e-this.gs[0].batchId}},{key:"ai",value:function(e){var t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}]),e}(),vw=function(){function e(t){xe(this,e),this.di=t,this.docs=new Nm(Zp.comparator),this.size=0}return(0,_e.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.di(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return og.resolve(n?n.document.mutableCopy():av.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Lm();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():av.newInvalidDocument(e))})),og.resolve(r)}},{key:"getAll",value:function(e,t,n){for(var r=Lm(),i=new Zp(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||u.readTime.compareTo(n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return og.resolve(r)}},{key:"_i",value:function(e,t){return og.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new mw(this)}},{key:"getSize",value:function(e){return og.resolve(this.size)}}]),e}(),mw=function(e){Ce(n,e);var t=Re(n);function n(e){var r;return xe(this,n),(r=t.call(this)).Tn=e,r}return(0,_e.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Tn.addEntry(e,i)):t.Tn.removeEntry(r)})),og.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Tn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Tn.getEntries(e,t)}}]),n}(Tk),yw=function(){function e(t){xe(this,e),this.persistence=t,this.wi=new Ek((function(e){return hv(e)}),dv),this.lastRemoteSnapshotVersion=kp.min(),this.highestTargetId=0,this.mi=0,this.gi=new hw,this.targetCount=0,this.yi=hk.He()}return(0,_e.Z)(e,[{key:"forEachTarget",value:function(e,t){return this.wi.forEach((function(e,n){return t(n)})),og.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return og.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return og.resolve(this.mi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.yi.next(),og.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.mi&&(this.mi=t),og.resolve()}},{key:"Ze",value:function(e){this.wi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.yi=new hk(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Ze(t),this.targetCount+=1,og.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Ze(t),og.resolve()}},{key:"removeTargetData",value:function(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,og.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.wi.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.wi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),og.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return og.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.wi.get(t)||null;return og.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.gi.ti(t,n),og.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.gi.ni(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),og.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.gi.si(t),og.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.gi.ri(t);return og.resolve(n)}},{key:"containsKey",value:function(e,t){return og.resolve(this.gi.containsKey(t))}}]),e}(),gw=function(){function e(t,n){var r=this;xe(this,e),this.pi={},this.overlays={},this.Nn=new hp(0),this.xn=!1,this.xn=!0,this.referenceDelegate=t(this),this.Un=new yw(this),this.indexManager=new Qg,this.qn=new vw((function(e){return r.referenceDelegate.Ii(e)})),this.O=new xg(n),this.Kn=new lw(this.O)}return(0,_e.Z)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xn=!1,Promise.resolve()}},{key:"started",get:function(){return this.xn}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new fw,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.pi[e.toKey()];return n||(n=new pw(t,this.referenceDelegate),this.pi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;Yd("MemoryPersistence","Starting transaction:",e);var i=new kw(this.Nn.next());return this.referenceDelegate.Ei(),n(i).next((function(e){return r.referenceDelegate.Ti(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ai",value:function(e,t){return og.or(Object.values(this.pi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),kw=function(e){Ce(n,e);var t=Re(n);function n(e){var r;return xe(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return(0,_e.Z)(n)}(ag),ww=function(){function e(t){xe(this,e),this.persistence=t,this.Ri=new hw,this.Pi=null}return(0,_e.Z)(e,[{key:"vi",get:function(){if(this.Pi)return this.Pi;throw Jd()}},{key:"addReference",value:function(e,t,n){return this.Ri.addReference(n,t),this.vi.delete(n.toString()),og.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Ri.removeReference(n,t),this.vi.add(n.toString()),og.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.vi.add(t.toString()),og.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Ri.si(t.targetId).forEach((function(e){return n.vi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ei",value:function(){this.Pi=new Set}},{key:"Ti",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return og.forEach(this.vi,(function(r){var i=Zp.fromPath(r);return t.Vi(e,i).next((function(e){e||n.removeEntry(i,kp.min())}))})).next((function(){return t.Pi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Vi(e,t).next((function(e){e?n.vi.delete(t.toString()):n.vi.add(t.toString())}))}},{key:"Ii",value:function(e){return 0}},{key:"Vi",value:function(e,t){var n=this;return og.or([function(){return og.resolve(n.Ri.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ai(e,t)}])}}],[{key:"bi",value:function(t){return new e(t)}}]),e}();function bw(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function xw(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function _w(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Sw=function(){function e(t,n,r,i){xe(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return(0,_e.Z)(e,[{key:"Di",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Si",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new np(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Kd("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Ew=function(){function e(t,n,r){xe(this,e),this.targetId=t,this.state=n,this.error=r}return(0,_e.Z)(e,[{key:"Di",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Si",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new np(i.error.code,i.error.message))),a?new e(t,i.state,r):(Kd("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Tw=function(){function e(t,n){xe(this,e),this.clientId=t,this.activeTargetIds=n}return(0,_e.Z)(e,null,[{key:"Si",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=qm(),o=0;i&&o<r.activeTargetIds.length;++o)i=Vp(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Kd("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Iw=function(){function e(t,n){xe(this,e),this.clientId=t,this.onlineState=n}return(0,_e.Z)(e,null,[{key:"Si",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Kd("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Cw=function(){function e(){xe(this,e),this.activeTargetIds=qm()}return(0,_e.Z)(e,[{key:"Ci",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ni",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Di",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Nw=function(){function e(t,n,r,i,a){xe(this,e),this.window=t,this.Sn=n,this.persistenceKey=r,this.xi=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new Nm(vp),this.started=!1,this.$i=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Fi=bw(this.persistenceKey,this.xi),this.Bi=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Mi=this.Mi.insert(this.xi,new Cw),this.Li=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ui=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.qi=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ki=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Gi=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}return(0,_e.Z)(e,[{key:"start",value:function(){var e=dt(vt().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.ds();case 2:t=e.sent,n=Ee(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.xi){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(bw(this.persistenceKey,i)))&&(o=Tw.Si(i,a))&&(this.Mi=this.Mi.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.ji(),(s=this.storage.getItem(this.Ki))&&(u=this.Qi(s))&&this.Wi(u),c=Ee(this.$i);try{for(c.s();!(l=c.n()).done;)f=l.value,this.Oi(f)}catch(d){c.e(d)}finally{c.f()}this.$i=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Bi,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.zi(this.Mi)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Mi.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Hi(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Hi(e,t,n),this.Ji(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(_w(this.persistenceKey,e));if(n){var r=Ew.Si(e,n);r&&(t=r.state)}}return this.Yi.Ci(e),this.ji(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Yi.Ni(e),this.ji()}},{key:"isLocalQueryTarget",value:function(e){return this.Yi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(_w(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Xi(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ji(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Zi(e)}},{key:"notifyBundleLoaded",value:function(){this.tr()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Yd("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Yd("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Yd("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Oi",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Yd("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Fi)return void Kd("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable(dt(vt().mark((function e(){var r,i,a,o,s,u;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Li.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.er(n.key),e.abrupt("return",t.nr(r,null));case 6:if(!(i=t.sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.nr(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.Ui.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.ir(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.rr(a));case 16:e.next=39;break;case 18:if(!t.qi.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.cr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.ur(o));case 23:e.next=39;break;case 25:if(n.key!==t.Ki){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Qi(n.newValue))){e.next=30;break}return e.abrupt("return",t.Wi(s));case 30:e.next=39;break;case 32:if(n.key!==t.Bi){e.next=37;break}u=function(e){var t=hp.A;if(null!=e)try{var n=JSON.parse(e);Xd("number"==typeof n),t=n}catch(e){Kd("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==hp.A&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Gi){e.next=39;break}return e.abrupt("return",t.syncEngine.ar());case 39:e.next=42;break;case 41:t.$i.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"Yi",get:function(){return this.Mi.get(this.xi)}},{key:"ji",value:function(){this.setItem(this.Fi,this.Yi.Di())}},{key:"Hi",value:function(e,t,n){var r=new Sw(this.currentUser,e,t,n),i=xw(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Di())}},{key:"Ji",value:function(e){var t=xw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Zi",value:function(e){var t={clientId:this.xi,onlineState:e};this.storage.setItem(this.Ki,JSON.stringify(t))}},{key:"Xi",value:function(e,t,n){var r=_w(this.persistenceKey,e),i=new Ew(e,t,n);this.setItem(r,i.Di())}},{key:"tr",value:function(){this.setItem(this.Gi,"value-not-used")}},{key:"er",value:function(e){var t=this.Li.exec(e);return t?t[1]:null}},{key:"sr",value:function(e,t){var n=this.er(e);return Tw.Si(n,t)}},{key:"ir",value:function(e,t){var n=this.Ui.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Sw.Si(new zd(i),r,t)}},{key:"cr",value:function(e,t){var n=this.qi.exec(e),r=Number(n[1]);return Ew.Si(r,t)}},{key:"Qi",value:function(e){return Iw.Si(e)}},{key:"rr",value:function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.hr(t.batchId,t.state,t.error));case 2:Yd("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ur",value:function(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}},{key:"nr",value:function(e,t){var n=this,r=t?this.Mi.insert(e,t):this.Mi.remove(e),i=this.zi(this.Mi),a=this.zi(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.dr(o,s).then((function(){n.Mi=r}))}},{key:"Wi",value:function(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"zi",value:function(e){var t=qm();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Ow=function(){function e(){xe(this,e),this._r=new Cw,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return(0,_e.Z)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this._r.Ci(e),this.wr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.wr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this._r.Ni(e)}},{key:"isLocalQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.wr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this._r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"start",value:function(){return this._r=new Cw,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Aw=function(){function e(){xe(this,e)}return(0,_e.Z)(e,[{key:"mr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Pw=function(){function e(){var t=this;xe(this,e),this.gr=function(){return t.yr()},this.pr=function(){return t.Ir()},this.Er=[],this.Tr()}return(0,_e.Z)(e,[{key:"mr",value:function(e){this.Er.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}},{key:"Tr",value:function(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}},{key:"yr",value:function(){Yd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Ee(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ir",value:function(){Yd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Ee(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Rw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Dw=function(){function e(t){xe(this,e),this.Ar=t.Ar,this.Rr=t.Rr}return(0,_e.Z)(e,[{key:"Pr",value:function(e){this.br=e}},{key:"vr",value:function(e){this.Vr=e}},{key:"onMessage",value:function(e){this.Sr=e}},{key:"close",value:function(){this.Rr()}},{key:"send",value:function(e){this.Ar(e)}},{key:"Dr",value:function(){this.br()}},{key:"Cr",value:function(e){this.Vr(e)}},{key:"Nr",value:function(e){this.Sr(e)}}]),e}(),Mw=function(e){Ce(n,e);var t=Re(n);function n(e){var r;return xe(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return(0,_e.Z)(n,[{key:"Br",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Bd;o.listenOnce(Fd.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Ld.NO_ERROR:var t=o.getResponseJson();Yd("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Ld.TIMEOUT:Yd("Connection",'RPC "'+e+'" timed out'),a(new np(tp.DEADLINE_EXCEEDED,"Request time out"));break;case Ld.HTTP_ERROR:var n=o.getStatus();if(Yd("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(tp).indexOf(t)>=0?t:tp.UNKNOWN}(r.status);a(new np(s,r.message))}else a(new np(tp.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new np(tp.UNAVAILABLE,"Connection failed."));break;default:Jd()}}finally{Yd("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Ur",value:function(e,t,n){var r=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Dd(),a=Md(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Vd({})),this.Fr(o.initMessageHeaders,t,n),We()||Ye()||ze().indexOf("Electron/")>=0||Ke()||ze().indexOf("MSAppHost/")>=0||Ge()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");Yd("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new Dw({Ar:function(e){l?Yd("Connection","Not sending because WebChannel is closed:",e):(c||(Yd("Connection","Opening WebChannel transport."),u.open(),c=!0),Yd("Connection","WebChannel sending:",e),u.send(e))},Rr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,Zd.EventType.OPEN,(function(){l||Yd("Connection","WebChannel transport opened.")})),h(u,Zd.EventType.CLOSE,(function(){l||(l=!0,Yd("Connection","WebChannel transport closed"),f.Cr())})),h(u,Zd.EventType.ERROR,(function(e){l||(l=!0,Qd("Connection","WebChannel transport errored:",e),f.Cr(new np(tp.UNAVAILABLE,"The operation could not be completed")))})),h(u,Zd.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Xd(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Yd("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=xm[e];if(void 0!==t)return Cm(t)}(a),s=i.message;void 0===o&&(o=tp.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Cr(new np(o,s)),u.close()}else Yd("Connection","WebChannel received:",n),f.Nr(n)}})),h(a,jd.STAT_EVENT,(function(e){e.stat===Ud.PROXY?Yd("Connection","Detected buffering proxy"):e.stat===Ud.NOPROXY&&Yd("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Dr()}),0),f}}]),n}(function(){function e(t){xe(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.kr=n+"://"+t.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return(0,_e.Z)(e,[{key:"Mr",value:function(e,t,n,r,i){var a=this.$r(e,t);Yd("RestConnection","Sending: ",a,n);var o={};return this.Fr(o,r,i),this.Br(e,a,o,n).then((function(e){return Yd("RestConnection","Received: ",e),e}),(function(t){throw Qd("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"Lr",value:function(e,t,n,r,i){return this.Mr(e,t,n,r,i)}},{key:"Fr",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"$r",value:function(e,t){var n=Rw[e];return"".concat(this.kr,"/v1/").concat(t,":").concat(n)}}]),e}());function Lw(){return"undefined"!=typeof window?window:null}function Fw(){return"undefined"!=typeof document?document:null}function jw(e){return new ty(e,!0)}var Uw=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;xe(this,e),this.Sn=t,this.timerId=n,this.qr=r,this.Kr=i,this.Gr=a,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}return(0,_e.Z)(e,[{key:"reset",value:function(){this.jr=0}},{key:"zr",value:function(){this.jr=this.Gr}},{key:"Hr",value:function(e){var t=this;this.cancel();var n=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),i=Math.max(0,n-r);i>0&&Yd("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.jr," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,i,(function(){return t.Wr=Date.now(),e()})),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}},{key:"Yr",value:function(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}},{key:"cancel",value:function(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}},{key:"Jr",value:function(){return(Math.random()-.5)*this.jr}}]),e}(),Vw=function(){function e(t,n,r,i,a,o,s,u){xe(this,e),this.Sn=t,this.Xr=r,this.Zr=i,this.eo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new Uw(t,n)}return(0,_e.Z)(e,[{key:"oo",value:function(){return 1===this.state||5===this.state||this.co()}},{key:"co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.uo()}},{key:"stop",value:function(){var e=dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.oo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ao",value:function(){this.state=0,this.ro.reset()}},{key:"ho",value:function(){var e=this;this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,(function(){return e.lo()})))}},{key:"fo",value:function(e){this._o(),this.stream.send(e)}},{key:"lo",value:function(){var e=dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_o",value:function(){this.so&&(this.so.cancel(),this.so=null)}},{key:"wo",value:function(){this.io&&(this.io.cancel(),this.io=null)}},{key:"close",value:function(){var e=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._o(),this.wo(),this.ro.cancel(),this.no++,4!==t?this.ro.reset():n&&n.code===tp.RESOURCE_EXHAUSTED?(Kd(n.toString()),Kd("Using maximum backoff delay to prevent overloading the backend."),this.ro.zr()):n&&n.code===tp.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.mo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.vr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.yo(this.no),n=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,i.Z)(t,2),a=r[0],o=r[1];e.no===n&&e.po(a,o)}),(function(n){t((function(){var t=new np(tp.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Io(t)}))}))}},{key:"po",value:function(e,t){var n=this,r=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr((function(){r((function(){return n.state=2,n.io=n.Sn.enqueueAfterDelay(n.Zr,1e4,(function(){return n.co()&&(n.state=3),Promise.resolve()})),n.listener.Pr()}))})),this.stream.vr((function(e){r((function(){return n.Io(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"uo",value:function(){var e=this;this.state=5,this.ro.Hr(dt(vt().mark((function t(){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Io",value:function(e){return Yd("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"yo",value:function(e){var t=this;return function(n){t.Sn.enqueueAndForget((function(){return t.no===e?n():(Yd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Zw=function(e){Ce(n,e);var t=Re(n);function n(e,r,i,a,o,s){var u;return xe(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).O=o,u}return(0,_e.Z)(n,[{key:"Eo",value:function(e,t){return this.eo.Ur("Listen",e,t)}},{key:"onMessage",value:function(e){this.ro.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Jd()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Xd(void 0===t||"string"==typeof t),Cp.fromBase64String(t||"")):(Xd(void 0===t||t instanceof Uint8Array),Cp.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?tp.UNKNOWN:Cm(e.code);return new np(t,e.message||"")}(o);n=new Ym(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=cy(e,u.document.name),l=ay(u.document.updateTime),f=new rv({mapValue:{fields:u.document.fields}}),h=av.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Hm(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=cy(e,v.document),y=v.readTime?ay(v.readTime):kp.min(),g=av.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Hm([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=cy(e,w.document),x=w.removedTargetIds||[];n=new Hm([],x,b,null)}else{if(!("filter"in t))return Jd();t.filter;var _=t.filter;_.targetId;var S=_.count||0,E=new Tm(S),T=_.targetId;n=new Gm(T,E)}return n}(this.O,e),n=function(e){if(!("targetChange"in e))return kp.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?kp.min():t.readTime?ay(t.readTime):kp.min()}(e);return this.listener.To(t,n)}},{key:"Ao",value:function(e){var t={};t.database=hy(this.O),t.addTarget=function(e,t){var n,r=t.target;return(n=pv(r)?{documents:ky(e,r)}:{query:wy(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ry(e,t.resumeToken):t.snapshotVersion.compareTo(kp.min())>0&&(n.readTime=ny(e,t.snapshotVersion.toTimestamp())),n}(this.O,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Jd()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.O,e);n&&(t.labels=n),this.fo(t)}},{key:"Ro",value:function(e){var t={};t.database=hy(this.O),t.removeTarget=e,this.fo(t)}}]),n}(Vw),Bw=function(e){Ce(n,e);var t=Re(n);function n(e,r,i,a,o,s){var u;return xe(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).O=o,u.Po=!1,u}return(0,_e.Z)(n,[{key:"bo",get:function(){return this.Po}},{key:"start",value:function(){this.Po=!1,this.lastStreamToken=void 0,mn(Ne(n.prototype),"start",this).call(this)}},{key:"mo",value:function(){this.Po&&this.vo([])}},{key:"Eo",value:function(e,t){return this.eo.Ur("Write",e,t)}},{key:"onMessage",value:function(e){if(Xd(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();var t=function(e,t){return e&&e.length>0?(Xd(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ay(e.updateTime):ay(t);return n.isEqual(kp.min())&&(n=ay(t)),new um(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ay(e.commitTime);return this.listener.Vo(n,t)}return Xd(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}},{key:"Do",value:function(){var e={};e.database=hy(this.O),this.fo(e)}},{key:"vo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return yy(t.O,e)}))};this.fo(n)}}]),n}(Vw),qw=function(e){Ce(n,e);var t=Re(n);function n(e,r,i,a){var o;return xe(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.eo=i,o.O=a,o.Co=!1,o}return(0,_e.Z)(n,[{key:"No",value:function(){if(this.Co)throw new np(tp.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Mr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,i.Z)(a,2),s=o[0],u=o[1];return r.eo.Mr(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===tp.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new np(tp.UNKNOWN,e.toString())}))}},{key:"Lr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,i.Z)(a,2),s=o[0],u=o[1];return r.eo.Lr(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===tp.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new np(tp.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Co=!0}}]),n}(function(){return(0,_e.Z)((function e(){xe(this,e)}))}()),zw=function(){function e(t,n){xe(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}return(0,_e.Z)(e,[{key:"Mo",value:function(){var e=this;0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ko=null,e.Fo("Backend didn't respond within 10 seconds."),e.$o("Offline"),Promise.resolve()})))}},{key:"Bo",value:function(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.$o("Offline")))}},{key:"set",value:function(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}},{key:"$o",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"Fo",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Oo?(Kd(t),this.Oo=!1):Yd("OnlineStateTracker",t)}},{key:"Lo",value:function(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}]),e}(),Ww=(0,_e.Z)((function e(t,n,r,i,a){var o=this;xe(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=a,this.jo.mr((function(e){r.enqueueAndForget(dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=nb(o),!e.t0){e.next=5;break}return Yd("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=dt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ep(t)).Ko.add(4),e.next=4,Yw(n);case 4:return n.Qo.set("Unknown"),n.Ko.delete(4),e.next=8,Hw(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Qo=new zw(r,i)}));function Hw(e){return Gw.apply(this,arguments)}function Gw(){return Gw=dt(vt().mark((function e(t){var n,r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!nb(t)){e.next=18;break}n=Ee(t.Go),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Gw.apply(this,arguments)}function Yw(e){return Kw.apply(this,arguments)}function Kw(){return Kw=dt(vt().mark((function e(t){var n,r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ee(t.Go),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Kw.apply(this,arguments)}function Qw(e,t){var n=ep(e);n.qo.has(t.targetId)||(n.qo.set(t.targetId,t),tb(n)?eb(n):Ab(n).co()&&Jw(n,t))}function $w(e,t){var n=ep(e),r=Ab(n);n.qo.delete(t),r.co()&&Xw(n,t),0===n.qo.size&&(r.co()?r.ho():nb(n)&&n.Qo.set("Unknown"))}function Jw(e,t){e.Wo.Z(t.targetId),Ab(e).Ao(t)}function Xw(e,t){e.Wo.Z(t),Ab(e).Ro(t)}function eb(e){e.Wo=new Qm({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Tt:function(t){return e.qo.get(t)||null}}),Ab(e).start(),e.Qo.Mo()}function tb(e){return nb(e)&&!Ab(e).oo()&&e.qo.size>0}function nb(e){return 0===ep(e).Ko.size}function rb(e){e.Wo=void 0}function ib(e){return ab.apply(this,arguments)}function ab(){return ab=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.qo.forEach((function(e,n){Jw(t,e)}));case 1:case"end":return e.stop()}}),e)}))),ab.apply(this,arguments)}function ob(e,t){return sb.apply(this,arguments)}function sb(){return sb=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:rb(t),tb(t)?(t.Qo.Bo(n),eb(t)):t.Qo.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),sb.apply(this,arguments)}function ub(e,t,n){return cb.apply(this,arguments)}function cb(){return cb=dt(vt().mark((function e(t,n,r){var i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Qo.set("Online"),!(n instanceof Ym&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=dt(vt().mark((function e(t,n){var r,i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Ee(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.qo.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.qo.delete(o),t.Wo.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Yd("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,lb(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Hm?t.Wo.ct(n):n instanceof Gm?t.Wo._t(n):t.Wo.ht(n),r.isEqual(kp.min())){e.next=29;break}return e.prev=14,e.next=17,Yk(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Wo.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.qo.get(r);i&&e.qo.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.qo.get(t);if(n){e.qo.set(t,n.withResumeToken(Cp.EMPTY_BYTE_STRING,n.snapshotVersion)),Xw(e,t);var r=new bg(n.target,t,1,n.sequenceNumber);Jw(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Yd("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,lb(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),cb.apply(this,arguments)}function lb(e,t,n){return fb.apply(this,arguments)}function fb(){return fb=dt(vt().mark((function e(t,n,r){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fg(n)){e.next=2;break}throw n;case 2:return t.Ko.add(1),e.next=5,Yw(t);case 5:t.Qo.set("Offline"),r||(r=function(){return Yk(t.localStore)}),t.asyncQueue.enqueueRetryable(dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yd("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Ko.delete(1),e.next=6,Hw(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),fb.apply(this,arguments)}function hb(e,t){return t().catch((function(n){return lb(e,n,t)}))}function db(e){return pb.apply(this,arguments)}function pb(){return pb=dt(vt().mark((function e(t){var n,r,i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ep(t),r=Pb(n),i=n.Uo.length>0?n.Uo[n.Uo.length-1].batchId:-1;case 2:if(!vb(n)){e.next=19;break}return e.prev=3,e.next=6,$k(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Uo.length&&r.ho(),e.abrupt("break",19);case 10:i=a.batchId,mb(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,lb(n,e.t0);case 17:e.next=2;break;case 19:yb(n)&&gb(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),pb.apply(this,arguments)}function vb(e){return nb(e)&&e.Uo.length<10}function mb(e,t){e.Uo.push(t);var n=Pb(e);n.co()&&n.bo&&n.vo(t.mutations)}function yb(e){return nb(e)&&!Pb(e).oo()&&e.Uo.length>0}function gb(e){Pb(e).start()}function kb(e){return wb.apply(this,arguments)}function wb(){return wb=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Pb(t).Do();case 1:case"end":return e.stop()}}),e)}))),wb.apply(this,arguments)}function bb(e){return xb.apply(this,arguments)}function xb(){return xb=dt(vt().mark((function e(t){var n,r,i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Pb(t),r=Ee(t.Uo);try{for(r.s();!(i=r.n()).done;)a=i.value,n.vo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),xb.apply(this,arguments)}function _b(e,t,n){return Sb.apply(this,arguments)}function Sb(){return Sb=dt(vt().mark((function e(t,n,r){var i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Uo.shift(),a=kg.from(i,n,r),e.next=3,hb(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,db(t);case 5:case"end":return e.stop()}}),e)}))),Sb.apply(this,arguments)}function Eb(e,t){return Tb.apply(this,arguments)}function Tb(){return Tb=dt(vt().mark((function e(t,n){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Pb(t).bo,!e.t0){e.next=4;break}return e.next=4,function(){var e=dt(vt().mark((function e(t,n){var r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Im(i=n.code)||i===tp.ABORTED){e.next=7;break}return r=t.Uo.shift(),Pb(t).ao(),e.next=5,hb(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,db(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:yb(t)&&gb(t);case 5:case"end":return e.stop()}}),e)}))),Tb.apply(this,arguments)}function Ib(e,t){return Cb.apply(this,arguments)}function Cb(){return Cb=dt(vt().mark((function e(t,n){var r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=ep(t)).asyncQueue.verifyOperationInProgress(),Yd("RemoteStore","RemoteStore received new credentials"),i=nb(r),r.Ko.add(3),e.next=6,Yw(r);case 6:return i&&r.Qo.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Ko.delete(3),e.next=12,Hw(r);case 12:case"end":return e.stop()}}),e)}))),Cb.apply(this,arguments)}function Nb(e,t){return Ob.apply(this,arguments)}function Ob(){return Ob=dt(vt().mark((function e(t,n){var r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ep(t),!n){e.next=7;break}return r.Ko.delete(2),e.next=5,Hw(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Ko.add(2),e.next=12,Yw(r);case 12:r.Qo.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Ob.apply(this,arguments)}function Ab(e){return e.zo||(e.zo=function(e,t,n){var r=ep(e);return r.No(),new Zw(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:ib.bind(null,e),vr:ob.bind(null,e),To:ub.bind(null,e)}),e.Go.push(function(){var t=dt(vt().mark((function t(n){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.zo.ao(),tb(e)?eb(e):e.Qo.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.zo.stop();case 6:rb(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.zo}function Pb(e){return e.Ho||(e.Ho=function(e,t,n){var r=ep(e);return r.No(),new Bw(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:kb.bind(null,e),vr:Eb.bind(null,e),So:bb.bind(null,e),Vo:_b.bind(null,e)}),e.Go.push(function(){var t=dt(vt().mark((function t(n){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Ho.ao(),t.next=4,db(e);case 4:t.next=9;break;case 6:return t.next=8,e.Ho.stop();case 8:e.Uo.length>0&&(Yd("RemoteStore","Stopping write stream with ".concat(e.Uo.length," pending writes")),e.Uo=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Ho}var Rb=function(){function e(t,n,r,i,a){xe(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new rp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return(0,_e.Z)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new np(tp.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Db(e,t){if(Kd("AsyncQueue","".concat(t,": ").concat(e)),fg(e))return new np(tp.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Mb=function(){function e(t){xe(this,e),this.comparator=t?function(e,n){return t(e,n)||Zp.comparator(e.key,n.key)}:function(e,t){return Zp.comparator(e.key,t.key)},this.keyedMap=jm(),this.sortedSet=new Nm(this.comparator)}return(0,_e.Z)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Lb=function(){function e(){xe(this,e),this.Jo=new Nm(Zp.comparator)}return(0,_e.Z)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Jo.get(t);n?0!==e.type&&3===n.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==n.type?this.Jo=this.Jo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jo=this.Jo.remove(t):1===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):Jd():this.Jo=this.Jo.insert(t,e)}},{key:"Yo",value:function(){var e=[];return this.Jo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Fb=function(){function e(t,n,r,i,a,o,s,u){xe(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return(0,_e.Z)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Mb.emptySet(n),a,r,i,!0,!1)}}]),e}(),jb=(0,_e.Z)((function e(){xe(this,e),this.Xo=void 0,this.listeners=[]})),Ub=(0,_e.Z)((function e(){xe(this,e),this.queries=new Ek((function(e){return Zv(e)}),Vv),this.onlineState="Unknown",this.Zo=new Set}));function Vb(e,t){return Zb.apply(this,arguments)}function Zb(){return Zb=dt(vt().mark((function e(t,n){var r,i,a,o,s;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ep(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new jb),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Xo=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Db(e.t0,"Initialization of query '".concat(Bv(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.tc(r.onlineState),o.Xo&&n.ec(o.Xo)&&Hb(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Zb.apply(this,arguments)}function Bb(e,t){return qb.apply(this,arguments)}function qb(){return qb=dt(vt().mark((function e(t,n){var r,i,a,o,s;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ep(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),qb.apply(this,arguments)}function zb(e,t){var n,r=ep(e),i=!1,a=Ee(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=Ee(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.ec(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Xo=o}}}catch(f){a.e(f)}finally{a.f()}i&&Hb(r)}function Wb(e,t,n){var r=ep(e),i=r.queries.get(t);if(i){var a,o=Ee(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Hb(e){e.Zo.forEach((function(e){e.next()}))}var Gb=function(){function e(t,n,r){xe(this,e),this.query=t,this.nc=n,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}return(0,_e.Z)(e,[{key:"ec",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Ee(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Fb(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.sc?this.rc(e)&&(this.nc.next(e),a=!0):this.oc(e,this.onlineState)&&(this.cc(e),a=!0),this.ic=e,a}},{key:"onError",value:function(e){this.nc.error(e)}},{key:"tc",value:function(e){this.onlineState=e;var t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}},{key:"oc",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.uc||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"rc",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"cc",value:function(e){e=Fb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}]),e}(),Yb=function(){function e(t,n){xe(this,e),this.payload=t,this.byteLength=n}return(0,_e.Z)(e,[{key:"ac",value:function(){return"metadata"in this.payload}}]),e}(),Kb=function(){function e(t){xe(this,e),this.O=t}return(0,_e.Z)(e,[{key:"Gs",value:function(e){return cy(this.O,e)}},{key:"js",value:function(e){return e.metadata.exists?vy(this.O,e.document,!1):av.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}},{key:"Qs",value:function(e){return ay(e)}}]),e}(),Qb=function(){function e(t,n,r){xe(this,e),this.hc=t,this.localStore=n,this.O=r,this.queries=[],this.documents=[],this.progress=$b(t)}return(0,_e.Z)(e,[{key:"lc",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"fc",value:function(e){var t,n=new Map,r=new Kb(this.O),i=Ee(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Gs(a.metadata.name),u=Ee(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Zm()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=dt(vt().mark((function e(){var t,n,r,i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ow(this.localStore,new Kb(this.O),this.documents,this.hc.id);case 2:t=e.sent,n=this.fc(this.documents),r=Ee(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,uw(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Uk(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function $b(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Jb=(0,_e.Z)((function e(t){xe(this,e),this.key=t})),Xb=(0,_e.Z)((function e(t){xe(this,e),this.key=t})),ex=function(){function e(t,n){xe(this,e),this.query=t,this.dc=n,this._c=null,this.current=!1,this.wc=Zm(),this.mutatedKeys=Zm(),this.mc=zv(t),this.gc=new Mb(this.mc)}return(0,_e.Z)(e,[{key:"yc",get:function(){return this.dc}},{key:"Ic",value:function(e,t){var n=this,r=t?t.Ec:new Lb,i=t?t.gc:this.gc,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=Pv(this.query)&&i.size===this.query.limit?i.last():null,c=Rv(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=qv(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Tc(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.mc(f,u)>0||c&&n.mc(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Pv(this.query)||Rv(this.query))for(;o.size>this.query.limit;){var l=Pv(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{gc:o,Ec:r,ks:s,mutatedKeys:a}}},{key:"Tc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;var a=e.Ec.Yo();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jd()}};return n(e)-n(t)}(e.type,t.type)||r.mc(e.doc,t.doc)})),this.Ac(n);var o=t?this.Rc():[],s=0===this.wc.size&&this.current?1:0,u=s!==this._c;return this._c=s,0!==a.length||u?{snapshot:new Fb(this.query,e.gc,i,a,e.mutatedKeys,0===s,u,!1),Pc:o}:{Pc:o}}},{key:"tc",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new Lb,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}},{key:"bc",value:function(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}},{key:"Ac",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.dc=t.dc.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.dc=t.dc.delete(e)})),this.current=e.current)}},{key:"Rc",value:function(){var e=this;if(!this.current)return[];var t=this.wc;this.wc=Zm(),this.gc.forEach((function(t){e.bc(t.key)&&(e.wc=e.wc.add(t.key))}));var n=[];return t.forEach((function(t){e.wc.has(t)||n.push(new Xb(t))})),this.wc.forEach((function(e){t.has(e)||n.push(new Jb(e))})),n}},{key:"vc",value:function(e){this.dc=e.Ks,this.wc=Zm();var t=this.Ic(e.documents);return this.applyChanges(t,!0)}},{key:"Vc",value:function(){return Fb.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}]),e}(),tx=(0,_e.Z)((function e(t,n,r){xe(this,e),this.query=t,this.targetId=n,this.view=r})),nx=(0,_e.Z)((function e(t){xe(this,e),this.key=t,this.Sc=!1})),rx=function(){function e(t,n,r,i,a,o){xe(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Dc={},this.Cc=new Ek((function(e){return Zv(e)}),Vv),this.Nc=new Map,this.xc=new Set,this.kc=new Nm(Zp.comparator),this.Oc=new Map,this.Mc=new hw,this.$c={},this.Fc=new Map,this.Bc=hk.Je(),this.onlineState="Unknown",this.Lc=void 0}return(0,_e.Z)(e,[{key:"isPrimaryClient",get:function(){return!0===this.Lc}}]),e}();function ix(e,t){return ax.apply(this,arguments)}function ax(){return ax=dt(vt().mark((function e(t,n){var r,i,a,o,s,u;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$x(t),!(o=r.Cc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Vc(),e.next=15;break;case 6:return e.next=8,Jk(r.localStore,jv(n));case 8:return s=e.sent,r.isPrimaryClient&&Qw(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,ox(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),ax.apply(this,arguments)}function ox(e,t,n,r){return sx.apply(this,arguments)}function sx(){return sx=dt(vt().mark((function e(t,n,r,i){var a,o,s,u,c,l;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Uc=function(e,n,r){return function(){var e=dt(vt().mark((function e(t,n,r,i){var a,o,s;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ic(r),e.t0=a.ks,!e.t0){e.next=6;break}return e.next=5,tw(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ic(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Ix(t,n.targetId,s.Pc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,tw(t.localStore,n,!0);case 3:return a=e.sent,o=new ex(n,a.Ks),s=o.Ic(a.documents),u=Wm.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),Ix(t,r,c.Pc),l=new tx(n,r,o),e.abrupt("return",(t.Cc.set(n,l),t.Nc.has(r)?t.Nc.get(r).push(n):t.Nc.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),sx.apply(this,arguments)}function ux(e,t){return cx.apply(this,arguments)}function cx(){return cx=dt(vt().mark((function e(t,n){var r,i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ep(t),i=r.Cc.get(n),!((a=r.Nc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Nc.set(i.targetId,a.filter((function(e){return!Vv(e,n)}))),void r.Cc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Xk(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),$w(r.remoteStore,i.targetId),Ex(r,i.targetId)})).catch(yk);case 9:e.next=14;break;case 11:return Ex(r,i.targetId),e.next=14,Xk(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),cx.apply(this,arguments)}function lx(e,t,n){return fx.apply(this,arguments)}function fx(){return fx=dt(vt().mark((function e(t,n,r){var i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jx(t),e.prev=1,e.next=4,function(e,t){var n,r=ep(e),i=gp.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Zm());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Us.Es(e,a).next((function(a){n=a;var o,s=[],u=Ee(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=pm(c,n.get(c.key));null!=l&&s.push(new gm(c.key,l,iv(l.value.mapValue),cm.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.gs.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.$c[e.currentUser.toKey()];r||(r=new Nm(vp)),r=r.insert(t,n),e.$c[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Ox(i,a.changes);case 9:return e.next=11,db(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Db(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),fx.apply(this,arguments)}function hx(e,t){return dx.apply(this,arguments)}function dx(){return dx=dt(vt().mark((function e(t,n){var r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ep(t),e.prev=1,e.next=4,Kk(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Oc.get(t);n&&(Xd(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Sc=!0:e.modifiedDocuments.size>0?Xd(n.Sc):e.removedDocuments.size>0&&(Xd(n.Sc),n.Sc=!1))})),e.next=8,Ox(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,yk(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),dx.apply(this,arguments)}function px(e,t,n){var r=ep(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Cc.forEach((function(e,n){var r=n.view.tc(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=ep(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Ee(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.tc(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Hb(n)}(r.eventManager,t),i.length&&r.Dc.To(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function vx(e,t,n){return mx.apply(this,arguments)}function mx(){return mx=dt(vt().mark((function e(t,n,r){var i,a,o,s,u,c;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=ep(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Oc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Nm(Zp.comparator)).insert(o,av.newNoDocument(o,kp.min())),u=Zm().add(o),c=new zm(kp.min(),new Map,new Pm(vp),s,u),e.next=9,hx(i,c);case 9:i.kc=i.kc.remove(o),i.Oc.delete(n),Nx(i),e.next=16;break;case 14:return e.next=16,Xk(i.localStore,n,!1).then((function(){return Ex(i,n,r)})).catch(yk);case 16:case"end":return e.stop()}}),e)}))),mx.apply(this,arguments)}function yx(e,t){return gx.apply(this,arguments)}function gx(){return gx=dt(vt().mark((function e(t,n){var r,i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ep(t),i=n.batch.batchId,e.prev=1,e.next=4,Gk(r.localStore,n);case 4:return a=e.sent,Sx(r,i,null),_x(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Ox(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,yk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),gx.apply(this,arguments)}function kx(e,t,n){return wx.apply(this,arguments)}function wx(){return wx=dt(vt().mark((function e(t,n,r){var i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ep(t),e.prev=1,e.next=4,function(e,t){var n=ep(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.gs.lookupMutationBatch(e,t).next((function(t){return Xd(null!==t),r=t.keys(),n.gs.removeMutationBatch(e,t)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Sx(i,n,r),_x(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Ox(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,yk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),wx.apply(this,arguments)}function bx(e,t){return xx.apply(this,arguments)}function xx(){return xx=dt(vt().mark((function e(t,n){var r,i,a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nb((r=ep(t)).remoteStore)||Yd("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=ep(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.gs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Fc.get(i)||[]).push(n),r.Fc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Db(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),xx.apply(this,arguments)}function _x(e,t){(e.Fc.get(t)||[]).forEach((function(e){e.resolve()})),e.Fc.delete(t)}function Sx(e,t,n){var r=ep(e),i=r.$c[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.$c[r.currentUser.toKey()]=i}}function Ex(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Ee(e.Nc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Cc.delete(a),n&&e.Dc.qc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Nc.delete(t),e.isPrimaryClient&&e.Mc.si(t).forEach((function(t){e.Mc.containsKey(t)||Tx(e,t)}))}function Tx(e,t){e.xc.delete(t.path.canonicalString());var n=e.kc.get(t);null!==n&&($w(e.remoteStore,n),e.kc=e.kc.remove(t),e.Oc.delete(n),Nx(e))}function Ix(e,t,n){var r,i=Ee(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Jb?(e.Mc.addReference(a.key,t),Cx(e,a)):a instanceof Xb?(Yd("SyncEngine","Document no longer in limbo: "+a.key),e.Mc.removeReference(a.key,t),e.Mc.containsKey(a.key)||Tx(e,a.key)):Jd()}}catch(o){i.e(o)}finally{i.f()}}function Cx(e,t){var n=t.key,r=n.path.canonicalString();e.kc.get(n)||e.xc.has(r)||(Yd("SyncEngine","New document in limbo: "+n),e.xc.add(r),Nx(e))}function Nx(e){for(;e.xc.size>0&&e.kc.size<e.maxConcurrentLimboResolutions;){var t=e.xc.values().next().value;e.xc.delete(t);var n=new Zp(Sp.fromString(t)),r=e.Bc.next();e.Oc.set(r,new nx(n)),e.kc=e.kc.insert(n,r),Qw(e.remoteStore,new bg(jv(Av(n.path)),r,2,hp.A))}}function Ox(e,t,n){return Ax.apply(this,arguments)}function Ax(){return Ax=dt(vt().mark((function e(t,n,r){var i,a,o,s;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ep(t),a=[],o=[],s=[],e.t0=i.Cc.isEmpty(),e.t0){e.next=9;break}return i.Cc.forEach((function(e,t){s.push(i.Uc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Zk.Ss(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Dc.To(a),e.next=9,function(){var e=dt(vt().mark((function e(t,n){var r,i,a,o,s,u,c,l;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ep(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return og.forEach(n,(function(t){return og.forEach(t.vs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return og.forEach(t.Vs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),fg(e.t0)){e.next=10;break}throw e.t0;case 10:Yd("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Ee(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ms.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ms=r.Ms.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Ax.apply(this,arguments)}function Px(e,t){return Rx.apply(this,arguments)}function Rx(){return Rx=dt(vt().mark((function e(t,n){var r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=ep(t)).currentUser.isEqual(n)){e.next=11;break}return Yd("SyncEngine","User change. New user:",n.toKey()),e.next=5,Wk(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Fc.forEach((function(e){e.forEach((function(e){e.reject(new np(tp.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Ox(r,i.qs);case 11:case"end":return e.stop()}}),e)}))),Rx.apply(this,arguments)}function Dx(e,t){var n=ep(e),r=n.Oc.get(t);if(r&&r.Sc)return Zm().add(r.key);var i=Zm(),a=n.Nc.get(t);if(!a)return i;var o,s=Ee(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Cc.get(u);i=i.unionWith(c.view.yc)}}catch(l){s.e(l)}finally{s.f()}return i}function Mx(e,t){return Lx.apply(this,arguments)}function Lx(){return Lx=dt(vt().mark((function e(t,n){var r,i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ep(t),e.next=3,tw(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.vc(i),e.abrupt("return",(r.isPrimaryClient&&Ix(r,n.targetId,a.Pc),a));case 6:case"end":return e.stop()}}),e)}))),Lx.apply(this,arguments)}function Fx(e){return jx.apply(this,arguments)}function jx(){return jx=dt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ep(t),e.abrupt("return",rw(n.localStore).then((function(e){return Ox(n,e)})));case 2:case"end":return e.stop()}}),e)}))),jx.apply(this,arguments)}function Ux(e,t,n,r){return Vx.apply(this,arguments)}function Vx(){return Vx=dt(vt().mark((function e(t,n,r,i){var a,o;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ep(t),e.next=3,function(e,t){var n=ep(e),r=ep(n.gs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Ge(e,t).next((function(t){return t?n.Us.Es(e,t):og.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,db(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Sx(a,n,i||null),_x(a,n),function(e,t){ep(ep(e).gs).Qe(t)}(a.localStore,n)):Jd();case 11:return e.next=13,Ox(a,o);case 13:e.next=16;break;case 15:Yd("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Vx.apply(this,arguments)}function Zx(e,t){return Bx.apply(this,arguments)}function Bx(){return Bx=dt(vt().mark((function e(t,n){var r,i,a,o,s,u,c,l;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($x(r=ep(t)),Jx(r),!0!==n||!0===r.Lc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,qx(r,i.toArray());case 5:return a=e.sent,r.Lc=!0,e.next=9,Nb(r.remoteStore,!0);case 9:o=Ee(a);try{for(o.s();!(s=o.n()).done;)u=s.value,Qw(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Lc){e.next=25;break}return c=[],l=Promise.resolve(),r.Nc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Ex(r,t),Xk(r.localStore,t,!0)})),$w(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,qx(r,c);case 21:return function(e){var t=ep(e);t.Oc.forEach((function(e,n){$w(t.remoteStore,n)})),t.Mc.ii(),t.Oc=new Map,t.kc=new Nm(Zp.comparator)}(r),r.Lc=!1,e.next=25,Nb(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Bx.apply(this,arguments)}function qx(e,t,n){return zx.apply(this,arguments)}function zx(){return zx=dt(vt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=ep(t),a=[],o=[],s=Ee(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.Nc.get(c))||0===f.length){e.next=34;break}return e.next=11,Jk(i.localStore,jv(f[0]));case 11:l=e.sent,h=Ee(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Cc.get(p),e.next=20,Mx(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,nw(i.localStore,c);case 36:return y=e.sent,e.next=39,Jk(i.localStore,y);case 39:return l=e.sent,e.next=42,ox(i,Wx(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Dc.To(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),zx.apply(this,arguments)}function Wx(e){return Ov(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Hx(e){var t=ep(e);return ep(ep(t.localStore).persistence).ds()}function Gx(e,t,n,r){return Yx.apply(this,arguments)}function Yx(){return Yx=dt(vt().mark((function e(t,n,r,i){var a,o,s;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=ep(t)).Lc){e.next=5;break}Yd("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Nc.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,rw(a.localStore);case 11:return o=e.sent,s=zm.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,Ox(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,Xk(a.localStore,n,!0);case 18:return Ex(a,n,i),e.abrupt("break",21);case 20:Jd();case 21:case"end":return e.stop()}}),e)}))),Yx.apply(this,arguments)}function Kx(e,t,n){return Qx.apply(this,arguments)}function Qx(){return Qx=dt(vt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=$x(t)).Lc){e.next=45;break}a=Ee(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Nc.has(s)){e.next=10;break}return Yd("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,nw(i.localStore,s);case 12:return u=e.sent,e.next=15,Jk(i.localStore,u);case 15:return c=e.sent,e.next=18,ox(i,Wx(u),c.targetId,!1);case 18:Qw(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Ee(r),e.prev=30,h=vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Nc.has(t),!e.t0){e.next=5;break}return e.next=5,Xk(i.localStore,t,!1).then((function(){$w(i.remoteStore,t),Ex(i,t)})).catch(yk);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Qx.apply(this,arguments)}function $x(e){var t=ep(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=hx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vx.bind(null,t),t.Dc.To=zb.bind(null,t.eventManager),t.Dc.qc=Wb.bind(null,t.eventManager),t}function Jx(e){var t=ep(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kx.bind(null,t),t}function Xx(e,t,n){var r=ep(e);(function(){var e=dt(vt().mark((function e(t,n,r){var i,a,o,s,u;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=ep(e),r=ay(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Kn.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress($b(i)),a=new Qb(i,t.localStore,n.O),e.next=14,n.Kc();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.lc(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Kc();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,Ox(t,u.ws,void 0);case 30:return e.next=32,function(e,t){var n=ep(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Kn.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),Qd("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var e_=function(){function e(){xe(this,e),this.synchronizeTabs=!1}return(0,_e.Z)(e,[{key:"initialize",value:function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.O=jw(t.databaseInfo.databaseId),this.sharedClientState=this.Gc(t),this.persistence=this.jc(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Qc(t),this.localStore=this.Wc(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){return null}},{key:"Wc",value:function(e){return zk(this.persistence,new Bk,e.initialUser,this.O)}},{key:"jc",value:function(e){return new gw(ww.bi,this.O)}},{key:"Gc",value:function(e){return new Ow}},{key:"terminate",value:function(){var e=dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),t_=function(e){Ce(n,e);var t=Re(n);function n(e,r,i){var a;return xe(this,n),(a=t.call(this)).zc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return(0,_e.Z)(n,[{key:"initialize",value:function(){var e=dt(vt().mark((function e(t){var r=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mn(Ne(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,iw(this.localStore);case 4:return e.next=6,this.zc.initialize(this,t);case 6:return e.next=8,Jx(this.zc.syncEngine);case 8:return e.next=10,db(this.zc.remoteStore);case 10:return e.next=12,this.persistence.Hn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Wc",value:function(e){return zk(this.persistence,new Bk,e.initialUser,this.O)}},{key:"Qc",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new bk(t,e.asyncQueue)}},{key:"jc",value:function(e){var t=jk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ik.withCacheSize(this.cacheSizeBytes):ik.DEFAULT;return new Mk(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Lw(),Fw(),this.O,this.sharedClientState,!!this.forceOwnership)}},{key:"Gc",value:function(e){return new Ow}}]),n}(e_),n_=function(e){Ce(n,e);var t=Re(n);function n(e,r){var i;return xe(this,n),(i=t.call(this,e,r,!1)).zc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return(0,_e.Z)(n,[{key:"initialize",value:function(){var e=dt(vt().mark((function e(t){var r,i=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mn(Ne(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.zc.syncEngine,e.t0=this.sharedClientState instanceof Nw,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={hr:Ux.bind(null,r),lr:Gx.bind(null,r),dr:Kx.bind(null,r),ds:Hx.bind(null,r),ar:Fx.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Hn(function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zx(i.zc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Gc",value:function(e){var t=Lw();if(!Nw.Vt(t))throw new np(tp.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=jk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Nw(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(t_),r_=function(){function e(){xe(this,e)}return(0,_e.Z)(e,[{key:"initialize",value:function(){var e=dt(vt().mark((function e(t,n){var r=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return px(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Px.bind(null,this.syncEngine),e.next=12,Nb(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Ub}},{key:"createDatastore",value:function(e){var t,n=jw(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Mw(t));return function(e,t,n,r){return new qw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return px(o.syncEngine,e,0)},a=Pw.Vt()?new Pw:new Aw,new Ww(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new rx(e,t,n,r,i,a);return o&&(s.Lc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=dt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ep(t),Yd("RemoteStore","RemoteStore shutting down."),n.Ko.add(5),e.next=5,Yw(n);case 5:n.jo.shutdown(),n.Qo.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function i_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return dt(vt().mark((function r(){var i;return vt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var a_=function(){function e(t){xe(this,e),this.observer=t,this.muted=!1}return(0,_e.Z)(e,[{key:"next",value:function(e){this.observer.next&&this.Hc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Jc",value:function(){this.muted=!0}},{key:"Hc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),o_=function(){function e(t,n){var r=this;xe(this,e),this.Yc=t,this.O=n,this.metadata=new rp,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then((function(e){e&&e.ac()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return(0,_e.Z)(e,[{key:"close",value:function(){return this.Yc.cancel()}},{key:"getMetadata",value:function(){var e=dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(){var e=dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Zc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(){var e=dt(vt().mark((function e(){var t,n,r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tu();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Xc.decode(t),r=Number(n),isNaN(r)&&this.eu("length string (".concat(n,") is not valid number")),e.next=9,this.nu(r);case 9:return i=e.sent,e.abrupt("return",new Yb(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"su",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"tu",value:function(){var e=dt(vt().mark((function e(){var t,n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.su()<0)){e.next=7;break}return e.next=3,this.iu();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.su())<0&&this.eu("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nu",value:function(){var e=dt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.iu();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.eu("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"eu",value:function(e){throw this.Yc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"iu",value:function(){var e=dt(vt().mark((function e(){var t,n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Yc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),s_=function(){function e(t){xe(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return(0,_e.Z)(e,[{key:"lookup",value:function(){var e=dt(vt().mark((function e(t){var n,r=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new np(tp.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=dt(vt().mark((function e(t,n){var r,i,a,o,s,u;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ep(t),i=hy(r.O)+"/documents",a={documents:n.map((function(e){return uy(r.O,e)}))},e.next=5,r.Lr("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=my(r.O,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Xd(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Sm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=dt(vt().mark((function e(){var t,n=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Zp.fromPath(t);n.mutations.push(new Em(r,n.precondition(r)))})),e.next=7,function(){var e=dt(vt().mark((function e(t,n){var r,i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ep(t),i=hy(r.O)+"/documents",a={writes:n.map((function(e){return yy(r.O,e)}))},e.next=3,r.Mr("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Jd();t=kp.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new np(tp.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?cm.updateTime(t):cm.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(kp.min()))throw new np(tp.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cm.updateTime(t)}return cm.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),u_=function(){function e(t,n,r,i){xe(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ru=5,this.ro=new Uw(this.asyncQueue,"transaction_retry")}return(0,_e.Z)(e,[{key:"run",value:function(){this.ru-=1,this.ou()}},{key:"ou",value:function(){var e=this;this.ro.Hr(dt(vt().mark((function t(){var n,r;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new s_(e.datastore),(r=e.cu(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.uu(t)}))}))})).catch((function(t){e.uu(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"cu",value:function(e){try{var t=this.updateFunction(e);return!jp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"uu",value:function(e){var t=this;this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget((function(){return t.ou(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"au",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Im(t)}return!1}}]),e}(),c_=function(){function e(t,n,r,i){var a=this;xe(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zd.UNAUTHENTICATED,this.clientId=pp.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yd("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Yd("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return(0,_e.Z)(e,[{key:"getConfiguration",value:function(){var e=dt(vt().mark((function e(){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new np(tp.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new rp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(dt(vt().mark((function n(){var r;return vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Db(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function l_(e,t){return f_.apply(this,arguments)}function f_(){return f_=dt(vt().mark((function e(t,n){var r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Yd("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Wk(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),f_.apply(this,arguments)}function h_(e,t){return d_.apply(this,arguments)}function d_(){return d_=dt(vt().mark((function e(t,n){var r,i;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,p_(t);case 3:return r=e.sent,Yd("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Ib(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Ib(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),d_.apply(this,arguments)}function p_(e){return v_.apply(this,arguments)}function v_(){return v_=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Yd("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,l_(t,new e_);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),v_.apply(this,arguments)}function m_(e){return y_.apply(this,arguments)}function y_(){return y_=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Yd("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,h_(t,new r_);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),y_.apply(this,arguments)}function g_(e){return p_(e).then((function(e){return e.persistence}))}function k_(e){return p_(e).then((function(e){return e.localStore}))}function w_(e){return m_(e).then((function(e){return e.remoteStore}))}function b_(e){return m_(e).then((function(e){return e.syncEngine}))}function x_(e){return __.apply(this,arguments)}function __(){return __=dt(vt().mark((function e(t){var n,r;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m_(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=ix.bind(null,n.syncEngine),r.onUnlisten=ux.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),__.apply(this,arguments)}function S_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new rp;return e.asyncQueue.enqueueAndForget(dt(vt().mark((function i(){return vt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new a_({next:function(a){t.enqueueAndForget((function(){return Bb(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new np(tp.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new np(tp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Gb(Av(n.path),a,{includeMetadataChanges:!0,uc:!0});return Vb(e,o)},i.next=3,x_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function E_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new rp;return e.asyncQueue.enqueueAndForget(dt(vt().mark((function i(){return vt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new a_({next:function(n){t.enqueueAndForget((function(){return Bb(e,o)})),n.fromCache&&"server"===r.source?i.reject(new np(tp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Gb(n,a,{includeMetadataChanges:!0,uc:!0});return Vb(e,o)},i.next=3,x_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var T_=new Map;function I_(e,t,n){if(!n)throw new np(tp.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function C_(e,t,n,r){if(!0===t&&!0===r)throw new np(tp.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function N_(e){if(!Zp.isDocumentKey(e))throw new np(tp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function O_(e){if(Zp.isDocumentKey(e))throw new np(tp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function A_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Jd()}function P_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new np(tp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=A_(e);throw new np(tp.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function R_(e,t){if(t<=0)throw new np(tp.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var D_=function(){function e(t){var n;if(xe(this,e),void 0===t.host){if(void 0!==t.ssl)throw new np(tp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new np(tp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,C_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return(0,_e.Z)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),M_=function(){function e(t,n,r){xe(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D_({}),this._settingsFrozen=!1,t instanceof Fp?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new np(tp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fp(e.options.projectId)}(t))}return(0,_e.Z)(e,[{key:"app",get:function(){if(!this._app)throw new np(tp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new np(tp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ap;switch(e.type){case"gapi":var t=e.client;return Xd(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new cp(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new np(tp.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=T_.get(e);t&&(Yd("ComponentProvider","Removing Datastore"),T_.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function L_(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=P_(e,M_))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Qd("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=zd.MOCK_USER;else{o=qe(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new np(tp.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new zd(u)}e._authCredentials=new op(new ip(o,s))}}var F_=function(){function e(t,n,r){xe(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return(0,_e.Z)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new U_(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),j_=function(){function e(t,n,r){xe(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return(0,_e.Z)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),U_=function(e){Ce(n,e);var t=Re(n);function n(e,r,i){var a;return xe(this,n),(a=t.call(this,e,r,Av(i)))._path=i,a.type="collection",a}return(0,_e.Z)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new F_(this.firestore,null,new Zp(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(j_);function V_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=lt(e),I_("collection","path",t),e instanceof M_){var a=Sp.fromString.apply(Sp,[t].concat(r));return O_(a),new U_(e,null,a)}if(!(e instanceof F_||e instanceof U_))throw new np(tp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Sp.fromString.apply(Sp,[t].concat(r)));return O_(o),new U_(e.firestore,null,o)}function Z_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=lt(e),1===arguments.length&&(t=pp.R()),I_("doc","path",t),e instanceof M_){var a=Sp.fromString.apply(Sp,[t].concat(r));return N_(a),new F_(e,null,new Zp(a))}if(!(e instanceof F_||e instanceof U_))throw new np(tp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Sp.fromString.apply(Sp,[t].concat(r)));return N_(o),new F_(e.firestore,e instanceof U_?e.converter:null,new Zp(o))}function B_(e,t){return e=lt(e),t=lt(t),(e instanceof F_||e instanceof U_)&&(t instanceof F_||t instanceof U_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function q_(e,t){return e=lt(e),t=lt(t),e instanceof j_&&t instanceof j_&&e.firestore===t.firestore&&Vv(e._query,t._query)&&e.converter===t.converter}var z_=function(){function e(){var t=this;xe(this,e),this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new Uw(this,"async_queue_retry"),this.yu=function(){var e=Fw();e&&Yd("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ro.Yr()};var n=Fw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.yu)}return(0,_e.Z)(e,[{key:"isShuttingDown",get:function(){return this.fu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.pu(),this.Iu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.fu){this.fu=!0,this.mu=e||!1;var t=Fw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}},{key:"enqueue",value:function(e){var t=this;if(this.pu(),this.fu)return new Promise((function(){}));var n=new rp;return this.Iu((function(){return t.fu&&t.mu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.lu.push(e),t.Eu()}))}},{key:"Eu",value:function(){var e=dt(vt().mark((function e(){var t=this;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.lu.length){e.next=14;break}return e.prev=1,e.next=4,this.lu[0]();case 4:this.lu.shift(),this.ro.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),fg(e.t0)){e.next=12;break}throw e.t0;case 12:Yd("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.lu.length>0&&this.ro.Hr((function(){return t.Eu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Iu",value:function(e){var t=this,n=this.hu.then((function(){return t.wu=!0,e().catch((function(e){t._u=e,t.wu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Kd("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.wu=!1,e}))}));return this.hu=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.pu(),this.gu.indexOf(e)>-1&&(t=0);var i=Rb.createAndSchedule(this,e,t,n,(function(e){return r.Tu(e)}));return this.du.push(i),i}},{key:"pu",value:function(){this._u&&Jd()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Au",value:function(){var e=dt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.hu,e.next=3,t;case 3:if(t!==this.hu){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ru",value:function(e){var t,n=Ee(this.du);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Pu",value:function(e){var t=this;return this.Au().then((function(){t.du.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Ee(t.du);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Au()}))}},{key:"bu",value:function(e){this.gu.push(e)}},{key:"Tu",value:function(e){var t=this.du.indexOf(e);this.du.splice(t,1)}}]),e}();function W_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Ee(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var H_=function(){function e(){xe(this,e),this._progressObserver={},this._taskCompletionResolver=new rp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return(0,_e.Z)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),G_=function(e){Ce(n,e);var t=Re(n);function n(e,r,i){var a;return xe(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new z_,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return(0,_e.Z)(n,[{key:"_terminate",value:function(){return this._firestoreClient||K_(this),this._firestoreClient.terminate()}}]),n}(M_);function Y_(e){return e._firestoreClient||K_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function K_(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Lp(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new c_(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Q_(e,t,n){var r=new rp;return e.asyncQueue.enqueue(dt(vt().mark((function i(){return vt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,l_(e,n);case 3:return i.next=5,h_(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===tp.FAILED_PRECONDITION||e.code===tp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function $_(e){return function(e){return e.asyncQueue.enqueue(dt(vt().mark((function t(){var n,r;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g_(e);case 2:return n=t.sent,t.next=5,w_(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=ep(e);return t.Ko.delete(0),Hw(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Y_(e=P_(e,G_)))}function J_(e){return function(e){return e.asyncQueue.enqueue(dt(vt().mark((function t(){var n,r;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g_(e);case 2:return n=t.sent,t.next=5,w_(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=dt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ep(t)).Ko.add(0),e.next=4,Yw(n);case 4:n.Qo.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Y_(e=P_(e,G_)))}function X_(e,t){var n=Y_(e=P_(e,G_)),r=new H_;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new o_(e,t)}(function(e,t){if(e instanceof Uint8Array)return i_(e,t);if(e instanceof ArrayBuffer)return i_(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,jw(t));e.asyncQueue.enqueueAndForget(dt(vt().mark((function t(){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Xx,t.next=3,b_(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function eS(e,t){return function(e,t){return e.asyncQueue.enqueue(dt(vt().mark((function n(){return vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=ep(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Kn.getNamedQuery(e,t)}))},n.next=3,k_(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Y_(e=P_(e,G_)),t).then((function(t){return t?new j_(e,null,t.query):null}))}function tS(e){if(e._initialized||e._terminated)throw new np(tp.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var nS=function(){function e(){xe(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new np(tp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tp(n)}return(0,_e.Z)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var rS=function(){function e(t){xe(this,e),this._byteString=t}return(0,_e.Z)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Cp.fromBase64String(t))}catch(t){throw new np(tp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Cp.fromUint8Array(t))}}]),e}(),iS=(0,_e.Z)((function e(t){xe(this,e),this._methodName=t})),aS=function(){function e(t,n){if(xe(this,e),!isFinite(t)||t<-90||t>90)throw new np(tp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new np(tp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return(0,_e.Z)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return vp(this._lat,e._lat)||vp(this._long,e._long)}}]),e}(),oS=/^__.*__$/,sS=function(){function e(t,n,r){xe(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,_e.Z)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new gm(e,this.data,this.fieldMask,t,this.fieldTransforms):new ym(e,this.data,t,this.fieldTransforms)}}]),e}(),uS=function(){function e(t,n,r){xe(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,_e.Z)(e,[{key:"toMutation",value:function(e,t){return new gm(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function cS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jd()}}var lS=function(){function e(t,n,r,i,a,o){xe(this,e),this.settings=t,this.databaseId=n,this.O=r,this.ignoreUndefinedProperties=i,void 0===a&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return(0,_e.Z)(e,[{key:"path",get:function(){return this.settings.path}},{key:"Vu",get:function(){return this.settings.Vu}},{key:"Su",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Du",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.Nu(e),r}},{key:"xu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.vu(),r}},{key:"ku",value:function(e){return this.Su({path:void 0,Cu:!0})}},{key:"Ou",value:function(e){return OS(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"vu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}},{key:"Nu",value:function(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(cS(this.Vu)&&oS.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}]),e}(),fS=function(){function e(t,n,r){xe(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.O=r||jw(t)}return(0,_e.Z)(e,[{key:"Fu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new lS({Vu:e,methodName:t,$u:n,path:Tp.emptyPath(),Cu:!1,Mu:r},this.databaseId,this.O,this.ignoreUndefinedProperties)}}]),e}();function hS(e){var t=e._freezeSettings(),n=jw(e._databaseId);return new fS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function dS(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Fu(a.merge||a.mergeFields?2:0,t,n,i);TS("Data must be an object, but it was:",o,r);var s,u,c=SS(r,o);if(a.merge)s=new Ip(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Ee(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=IS(t,d,n);if(!o.contains(p))throw new np(tp.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));AS(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Ip(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new sS(new rv(c),s,u)}var pS=function(e){Ce(n,e);var t=Re(n);function n(){return xe(this,n),t.apply(this,arguments)}return(0,_e.Z)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Vu)throw 1===e.Vu?e.Ou("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ou("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(iS);function vS(e,t,n){return new lS({Vu:3,$u:t.settings.$u,methodName:e._methodName,Cu:n},t.databaseId,t.O,t.ignoreUndefinedProperties)}var mS=function(e){Ce(n,e);var t=Re(n);function n(){return xe(this,n),t.apply(this,arguments)}return(0,_e.Z)(n,[{key:"_toFieldTransform",value:function(e){return new sm(e.path,new Xv)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(iS),yS=function(e){Ce(n,e);var t=Re(n);function n(e,r){var i;return xe(this,n),(i=t.call(this,e)).Bu=r,i}return(0,_e.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=vS(this,e,!0),n=this.Bu.map((function(e){return _S(e,t)})),r=new em(n);return new sm(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(iS),gS=function(e){Ce(n,e);var t=Re(n);function n(e,r){var i;return xe(this,n),(i=t.call(this,e)).Bu=r,i}return(0,_e.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=vS(this,e,!0),n=this.Bu.map((function(e){return _S(e,t)})),r=new nm(n);return new sm(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(iS),kS=function(e){Ce(n,e);var t=Re(n);function n(e,r){var i;return xe(this,n),(i=t.call(this,e)).Lu=r,i}return(0,_e.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=new im(e.O,Yv(e.O,this.Lu));return new sm(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(iS);function wS(e,t,n,r){var i=e.Fu(1,t,n);TS("Data must be an object, but it was:",i,r);var a=[],o=rv.empty();bp(r,(function(e,r){var s=NS(t,e,n);r=lt(r);var u=i.xu(s);if(r instanceof pS)a.push(s);else{var c=_S(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Ip(a);return new uS(o,s,i.fieldTransforms)}function bS(e,t,n,r,i,a){var o=e.Fu(1,t,n),s=[IS(t,r,n)],u=[i];if(a.length%2!=0)throw new np(tp.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(IS(t,a[c])),u.push(a[c+1]);for(var l=[],f=rv.empty(),h=s.length-1;h>=0;--h)if(!AS(l,s[h])){var d=s[h],p=u[h];p=lt(p);var v=o.xu(d);if(p instanceof pS)l.push(d);else{var m=_S(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Ip(l);return new uS(f,y,o.fieldTransforms)}function xS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return _S(n,e.Fu(r?4:3,t))}function _S(e,t){if(ES(e=lt(e)))return TS("Unsupported field value:",t,e),SS(e,t);if(e instanceof iS)return function(e,t){if(!cS(t.Vu))throw t.Ou("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ou("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Cu&&4!==t.Vu)throw t.Ou("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Ee(e);try{for(a.s();!(n=a.n()).done;){var o=_S(n.value,t.ku(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=lt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Yv(t.O,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=gp.fromDate(e);return{timestampValue:ny(t.O,n)}}if(e instanceof gp){var r=new gp(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ny(t.O,r)}}if(e instanceof aS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof rS)return{bytesValue:ry(t.O,e._byteString)};if(e instanceof F_){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ou("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:oy(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ou("Unsupported field value: ".concat(A_(e)))}(e,t)}function SS(e,t){var n={};return xp(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bp(e,(function(e,r){var i=_S(r,t.Du(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function ES(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof gp||e instanceof aS||e instanceof rS||e instanceof F_||e instanceof iS)}function TS(e,t,n){if(!ES(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=A_(n);throw"an object"===r?t.Ou(e+" a custom object"):t.Ou(e+" "+r)}}function IS(e,t,n){if((t=lt(t))instanceof nS)return t._internalPath;if("string"==typeof t)return NS(e,t);throw OS("Field path arguments must be of type string or ",e,!1,void 0,n)}var CS=new RegExp("[~\\*/\\[\\]]");function NS(e,t,n){if(t.search(CS)>=0)throw OS("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return De(nS,(0,ft.Z)(t.split(".")))._internalPath}catch(r){throw OS("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function OS(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new np(tp.INVALID_ARGUMENT,s+e+u)}function AS(e,t){return e.some((function(e){return e.isEqual(t)}))}var PS=function(){function e(t,n,r,i,a){xe(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return(0,_e.Z)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new F_(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new RS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(DS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),RS=function(e){Ce(n,e);var t=Re(n);function n(){return xe(this,n),t.apply(this,arguments)}return(0,_e.Z)(n,[{key:"data",value:function(){return mn(Ne(n.prototype),"data",this).call(this)}}]),n}(PS);function DS(e,t){return"string"==typeof t?NS(e,t):t instanceof nS?t._internalPath:t._delegate._internalPath}var MS=function(){function e(t,n){xe(this,e),this.hasPendingWrites=t,this.fromCache=n}return(0,_e.Z)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),LS=function(e){Ce(n,e);var t=Re(n);function n(e,r,i,a,o,s){var u;return xe(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return(0,_e.Z)(n,[{key:"exists",value:function(){return mn(Ne(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new FS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(DS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(PS),FS=function(e){Ce(n,e);var t=Re(n);function n(){return xe(this,n),t.apply(this,arguments)}return(0,_e.Z)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return mn(Ne(n.prototype),"data",this).call(this,e)}}]),n}(LS),jS=function(){function e(t,n,r,i){xe(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new MS(i.hasPendingWrites,i.fromCache),this.query=r}return(0,_e.Z)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new FS(n._firestore,n._userDataWriter,r.key,r,new MS(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new np(tp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new FS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new MS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new FS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new MS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:US(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function US(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jd()}}function VS(e,t){return e instanceof LS&&t instanceof LS?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof jS&&t instanceof jS&&e._firestore===t._firestore&&q_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function ZS(e){if(Rv(e)&&0===e.explicitOrderBy.length)throw new np(tp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var BS=(0,_e.Z)((function e(){xe(this,e)}));function qS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var zS=function(e){Ce(n,e);var t=Re(n);function n(e,r,i){var a;return xe(this,n),(a=t.call(this)).Uu=e,a.qu=r,a.Ku=i,a.type="where",a}return(0,_e.Z)(n,[{key:"_apply",value:function(e){var t=hS(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new np(tp.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){tE(o,a);var u,c=[],l=Ee(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(eE(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=eE(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||tE(o,a),s=xS(n,"where",o,"in"===a||"not-in"===a);var h=vv.create(i,a,s);return function(e,t){if(t.S()){var n=Mv(e);if(null!==n&&!n.isEqual(t.field))throw new np(tp.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Dv(e);null!==r&&nE(e,t.field,r)}var i=function(e,t){var n,r=Ee(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new np(tp.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new np(tp.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new j_(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Nv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(BS);var WS=function(e){Ce(n,e);var t=Re(n);function n(e,r){var i;return xe(this,n),(i=t.call(this)).Uu=e,i.Gu=r,i.type="orderBy",i}return(0,_e.Z)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new np(tp.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new np(tp.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ev(t,n);return function(e,t){if(null===Dv(e)){var n=Mv(e);null!==n&&nE(e,n,t.field)}}(e,r),r}(e._query,this.Uu,this.Gu);return new j_(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Nv(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(BS);var HS=function(e){Ce(n,e);var t=Re(n);function n(e,r,i){var a;return xe(this,n),(a=t.call(this)).type=e,a.ju=r,a.Qu=i,a}return(0,_e.Z)(n,[{key:"_apply",value:function(e){return new j_(e.firestore,e.converter,Uv(e._query,this.ju,this.Qu))}}]),n}(BS);var GS=function(e){Ce(n,e);var t=Re(n);function n(e,r,i){var a;return xe(this,n),(a=t.call(this)).type=e,a.Wu=r,a.zu=i,a}return(0,_e.Z)(n,[{key:"_apply",value:function(e){var t=XS(e,this.type,this.Wu,this.zu);return new j_(e.firestore,e.converter,function(e,t){return new Nv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(BS);function YS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new GS("startAt",t,!0)}function KS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new GS("startAfter",t,!1)}var QS=function(e){Ce(n,e);var t=Re(n);function n(e,r,i){var a;return xe(this,n),(a=t.call(this)).type=e,a.Wu=r,a.zu=i,a}return(0,_e.Z)(n,[{key:"_apply",value:function(e){var t=XS(e,this.type,this.Wu,this.zu);return new j_(e.firestore,e.converter,function(e,t){return new Nv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(BS);function $S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new QS("endBefore",t,!1)}function JS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new QS("endAt",t,!0)}function XS(e,t,n,r){if(n[0]=lt(n[0]),n[0]instanceof PS)return function(e,t,n,r,i){if(!r)throw new np(tp.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Ee(Fv(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Qp(t,r.key));else{var c=r.data.field(u.field);if(Rp(c))throw new np(tp.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new np(tp.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Sv(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=hS(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new np(tp.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new np(tp.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Lv(e)&&-1!==c.indexOf("/"))throw new np(tp.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Sp.fromString(c));if(!Zp.isDocumentKey(l))throw new np(tp.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Zp(l);s.push(Qp(t,f))}else{var h=xS(n,r,c);s.push(h)}}return new Sv(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function eE(e,t,n){if("string"==typeof(n=lt(n))){if(""===n)throw new np(tp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lv(t)&&-1!==n.indexOf("/"))throw new np(tp.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Sp.fromString(n));if(!Zp.isDocumentKey(r))throw new np(tp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Qp(e,new Zp(r))}if(n instanceof F_)return Qp(e,n._key);throw new np(tp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(A_(n),"."))}function tE(e,t){if(!Array.isArray(e)||0===e.length)throw new np(tp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new np(tp.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function nE(e,t,n){if(!n.isEqual(t))throw new np(tp.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var rE=function(){function e(){xe(this,e)}return(0,_e.Z)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(qp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ap(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Jd()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return bp(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new aS(Ap(e.latitude),Ap(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Dp(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Mp(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Op(e);return new gp(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Sp.fromString(e);Xd(Oy(n));var r=new Fp(n.get(1),n.get(3)),i=new Zp(n.popFirst(5));return r.isEqual(t)||Kd("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function iE(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var aE=function(e){Ce(n,e);var t=Re(n);function n(e){var r;return xe(this,n),(r=t.call(this)).firestore=e,r}return(0,_e.Z)(n,[{key:"convertBytes",value:function(e){return new rS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new F_(this.firestore,null,t)}}]),n}(rE),oE=function(){function e(t,n){xe(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=hS(t)}return(0,_e.Z)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=sE(e,this._firestore),i=iE(r.converter,t,n),a=dS(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,cm.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=sE(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=lt(t))||t instanceof nS?bS(this._dataReader,"WriteBatch.update",i._key,t,n,o):wS(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,cm.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=sE(e,this._firestore);return this._mutations=this._mutations.concat(new Sm(t._key,cm.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new np(tp.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function sE(e,t){if((e=lt(e)).firestore!==t)throw new np(tp.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var uE=function(e){Ce(n,e);var t=Re(n);function n(e){var r;return xe(this,n),(r=t.call(this)).firestore=e,r}return(0,_e.Z)(n,[{key:"convertBytes",value:function(e){return new rS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new F_(this.firestore,null,t)}}]),n}(rE);function cE(e){e=P_(e,F_);var t=P_(e.firestore,G_),n=Y_(t),r=new uE(t);return function(e,t){var n=new rp;return e.asyncQueue.enqueueAndForget(dt(vt().mark((function r(){return vt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=dt(vt().mark((function e(t,n,r){var i,a;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=ep(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Us.ys(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new np(tp.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Db(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,k_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new LS(t,r,e._key,n,new MS(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function lE(e){e=P_(e,j_);var t=P_(e.firestore,G_),n=Y_(t),r=new uE(t);return function(e,t){var n=new rp;return e.asyncQueue.enqueueAndForget(dt(vt().mark((function r(){return vt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=dt(vt().mark((function e(t,n,r){var i,a,o,s,u;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tw(t,n,!0);case 3:i=e.sent,a=new ex(n,i.Ks),o=a.Ic(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=Db(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,k_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new jS(t,r,e,n)}))}function fE(e,t,n){e=P_(e,F_);var r=P_(e.firestore,G_),i=iE(e.converter,t,n);return vE(r,[dS(hS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,cm.none())])}function hE(e,t,n){e=P_(e,F_);for(var r=P_(e.firestore,G_),i=hS(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return vE(r,[("string"==typeof(t=lt(t))||t instanceof nS?bS(i,"updateDoc",e._key,t,n,o):wS(i,"updateDoc",e._key,t)).toMutation(e._key,cm.exists(!0))])}function dE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=lt(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||W_(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(W_(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof F_)l=P_(e.firestore,G_),f=Av(e._key.path),c={next:function(t){n[u]&&n[u](mE(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=P_(e,j_);l=P_(p.firestore,G_),f=p._query;var v=new uE(l);c={next:function(e){n[u]&&n[u](new jS(l,v,p,e))},error:n[u+1],complete:n[u+2]},ZS(e._query)}return function(e,t,n,r){var i=new a_(r),a=new Gb(t,i,n);return e.asyncQueue.enqueueAndForget(dt(vt().mark((function t(){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Vb,t.next=3,x_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Jc(),e.asyncQueue.enqueueAndForget(dt(vt().mark((function t(){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Bb,t.next=3,x_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Y_(l),f,h,c)}function pE(e,t){return function(e,t){var n=new a_(t);return e.asyncQueue.enqueueAndForget(dt(vt().mark((function t(){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){ep(e).Zo.add(t),t.next()},t.next=3,x_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Jc(),e.asyncQueue.enqueueAndForget(dt(vt().mark((function t(){return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){ep(e).Zo.delete(t)},t.next=3,x_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Y_(e=P_(e,G_)),W_(t)?t:{next:t})}function vE(e,t){return function(e,t){var n=new rp;return e.asyncQueue.enqueueAndForget(dt(vt().mark((function r(){return vt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=lx,r.next=3,b_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Y_(e),t)}function mE(e,t,n){var r=n.docs.get(t._key),i=new uE(e);return new LS(e,i,t._key,r,new MS(n.hasPendingWrites,n.fromCache),t.converter)}var yE=function(e){Ce(n,e);var t=Re(n);function n(e,r){var i;return xe(this,n),(i=t.call(this,e,r))._firestore=e,i}return(0,_e.Z)(n,[{key:"get",value:function(e){var t=this,r=sE(e,this._firestore),i=new uE(this._firestore);return mn(Ne(n.prototype),"get",this).call(this,e).then((function(e){return new LS(t._firestore,i,r._key,e._document,new MS(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){xe(this,e),this._firestore=t,this._transaction=n,this._dataReader=hS(t)}return(0,_e.Z)(e,[{key:"get",value:function(e){var t=this,n=sE(e,this._firestore),r=new aE(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Jd();var i=e[0];if(i.isFoundDocument())return new PS(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new PS(t._firestore,r,n._key,null,n.converter);throw Jd()}))}},{key:"set",value:function(e,t,n){var r=sE(e,this._firestore),i=iE(r.converter,t,n),a=dS(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=sE(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=lt(t))||t instanceof nS?bS(this._dataReader,"Transaction.update",i._key,t,n,o):wS(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=sE(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function gE(e,t){return function(e,t){var n=new rp;return e.asyncQueue.enqueueAndForget(dt(vt().mark((function r(){var i;return vt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return m_(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new u_(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(Y_(e=P_(e,G_)),(function(n){return t(new yE(e,n))}))}function kE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yS("arrayUnion",t)}function wE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new gS("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Wd=e}(Kt),Vt(new mt("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new G_(i,new sp(e.getProvider("auth-internal")),new fp(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),tn(qd,"3.4.5",e),tn(qd,"3.4.5","esm2017")}();function bE(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new np("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function xE(){if("undefined"===typeof Uint8Array)throw new np("unimplemented","Uint8Arrays are not available in this environment.")}function _E(){if("undefined"==typeof atob)throw new np("unimplemented","Blobs are unavailable in Firestore in this environment.")}var SE=function(){function e(t){xe(this,e),this._delegate=t}return(0,_e.Z)(e,[{key:"toBase64",value:function(){return _E(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return xE(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return _E(),new e(rS.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return xE(),new e(rS.fromUint8Array(t))}}]),e}();function EE(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Ee(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var TE=function(){function e(){xe(this,e)}return(0,_e.Z)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){tS(e=P_(e,G_));var n=Y_(e),r=e._freezeSettings(),i=new r_;return Q_(n,i,new t_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){tS(e=P_(e,G_));var t=Y_(e),n=e._freezeSettings(),r=new r_;return Q_(t,r,new n_(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new np(tp.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new rp;return e._queue.enqueueAndForgetEvenWhileRestricted(dt(vt().mark((function n(){return vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=dt(vt().mark((function e(t){var n;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ug.Vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,ug.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(jk(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),IE=function(){function e(t,n,r){var i=this;xe(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Fp||(this._appCompat=t)}return(0,_e.Z)(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Qd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};L_(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return $_(this._delegate)}},{key:"disableNetwork",value:function(){return J_(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&C_("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new rp;return e.asyncQueue.enqueueAndForget(dt(vt().mark((function n(){return vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=bx,n.next=3,b_(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Y_(e=P_(e,G_)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return pE(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new np("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new ZE(this,V_(this._delegate,e))}catch(t){throw RE(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new PE(this,Z_(this._delegate,e))}catch(t){throw RE(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new jE(this,function(e,t){if(e=P_(e,M_),I_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new np(tp.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new j_(e,null,function(e){return new Nv(Sp.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw RE(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return gE(this._delegate,(function(n){return e(new NE(t,n))}))}},{key:"batch",value:function(){var e=this;return Y_(this._delegate),new OE(new oE(this._delegate,(function(t){return vE(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return X_(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return eS(this._delegate,e).then((function(e){return e?new jE(t,e):null}))}}]),e}(),CE=function(e){Ce(n,e);var t=Re(n);function n(e){var r;return xe(this,n),(r=t.call(this)).firestore=e,r}return(0,_e.Z)(n,[{key:"convertBytes",value:function(e){return new SE(new rS(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return PE.forKey(t,this.firestore,null)}}]),n}(rE);var NE=function(){function e(t,n){xe(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new CE(t)}return(0,_e.Z)(e,[{key:"get",value:function(e){var t=this,n=BE(e);return this._delegate.get(n).then((function(e){return new LE(t._firestore,new LS(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=BE(e);return n?(bE("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=BE(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=BE(e);return this._delegate.delete(t),this}}]),e}(),OE=function(){function e(t){xe(this,e),this._delegate=t}return(0,_e.Z)(e,[{key:"set",value:function(e,t,n){var r=BE(e);return n?(bE("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=BE(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=BE(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),AE=function(){function e(t,n,r){xe(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return(0,_e.Z)(e,[{key:"fromFirestore",value:function(e,t){var n=new FS(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new FE(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new CE(t),n),i.set(n,a)),a}}]),e}();AE.INSTANCES=new WeakMap;var PE=function(){function e(t,n){xe(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new CE(t)}return(0,_e.Z)(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new ZE(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new ZE(this.firestore,V_(this._delegate,e))}catch(t){throw RE(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=lt(e))instanceof F_&&B_(this._delegate,e)}},{key:"set",value:function(e,t){t=bE("DocumentReference.set",t);try{return t?fE(this._delegate,e,t):fE(this._delegate,e)}catch(n){throw RE(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?hE(this._delegate,e):hE.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw RE(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return vE(P_(e.firestore,G_),[new Sm(e._key,cm.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=DE(n),a=ME(n,(function(t){return new LE(e.firestore,new LS(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return dE(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?cE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=P_(e,F_);var t=P_(e.firestore,G_);return S_(Y_(t),e._key,{source:"server"}).then((function(n){return mE(t,e,n)}))}(this._delegate):function(e){e=P_(e,F_);var t=P_(e.firestore,G_);return S_(Y_(t),e._key).then((function(n){return mE(t,e,n)}))}(this._delegate),t.then((function(e){return new LE(n.firestore,new LS(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(AE.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new np("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new F_(n._delegate,r,new Zp(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new F_(n._delegate,r,t))}}]),e}();function RE(e,t,n){return e.message=e.message.replace(t,n),e}function DE(e){var t,n=Ee(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!EE(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function ME(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=EE(e[0])?e[0]:EE(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var LE=function(){function e(t,n){xe(this,e),this._firestore=t,this._delegate=n}return(0,_e.Z)(e,[{key:"ref",get:function(){return new PE(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return VS(this._delegate,e._delegate)}}]),e}(),FE=function(e){Ce(n,e);var t=Re(n);function n(){return xe(this,n),t.apply(this,arguments)}return(0,_e.Z)(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Jd()}(void 0!==t),t}}]),n}(LE),jE=function(){function e(t,n){xe(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new CE(t)}return(0,_e.Z)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,qS(this._delegate,function(e,t,n){var r=t,i=DS("where",e);return new zS(i,r,n)}(t,n,r)))}catch(i){throw RE(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,qS(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=DS("orderBy",e);return new WS(n,t)}(t,n)))}catch(r){throw RE(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,qS(this._delegate,function(e){return R_("limit",e),new HS("limit",e,"F")}(t)))}catch(n){throw RE(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,qS(this._delegate,function(e){return R_("limitToLast",e),new HS("limitToLast",e,"L")}(t)))}catch(n){throw RE(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,qS(this._delegate,YS.apply(void 0,arguments)))}catch(t){throw RE(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,qS(this._delegate,KS.apply(void 0,arguments)))}catch(t){throw RE(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,qS(this._delegate,$S.apply(void 0,arguments)))}catch(t){throw RE(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,qS(this._delegate,JS.apply(void 0,arguments)))}catch(t){throw RE(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return q_(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?lE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=P_(e,j_);var t=P_(e.firestore,G_),n=Y_(t),r=new uE(t);return E_(n,e._query,{source:"server"}).then((function(n){return new jS(t,r,e,n)}))}(this._delegate):function(e){e=P_(e,j_);var t=P_(e.firestore,G_),n=Y_(t),r=new uE(t);return ZS(e._query),E_(n,e._query).then((function(n){return new jS(t,r,e,n)}))}(this._delegate),t.then((function(e){return new VE(n.firestore,new jS(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=DE(n),a=ME(n,(function(t){return new VE(e.firestore,new jS(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return dE(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(AE.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),UE=function(){function e(t,n){xe(this,e),this._firestore=t,this._delegate=n}return(0,_e.Z)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new FE(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),VE=function(){function e(t,n){xe(this,e),this._firestore=t,this._delegate=n}return(0,_e.Z)(e,[{key:"query",get:function(){return new jE(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new FE(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new UE(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new FE(n._firestore,r))}))}},{key:"isEqual",value:function(e){return VS(this._delegate,e._delegate)}}]),e}(),ZE=function(e){Ce(n,e);var t=Re(n);function n(e,r){var i;return xe(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return(0,_e.Z)(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new PE(this.firestore,e):null}},{key:"doc",value:function(e){try{return new PE(this.firestore,void 0===e?Z_(this._delegate):Z_(this._delegate,e))}catch(t){throw RE(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=P_(e.firestore,G_),r=Z_(e),i=iE(e.converter,t);return vE(n,[dS(hS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,cm.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new PE(t.firestore,e)}))}},{key:"isEqual",value:function(e){return B_(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(AE.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(jE);function BE(e){return P_(e,F_)}var qE=function(){function e(){xe(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=De(nS,n)}return(0,_e.Z)(e,[{key:"isEqual",value:function(e){return(e=lt(e))instanceof nS&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Tp.keyField().canonicalString())}}]),e}(),zE=function(){function e(t){xe(this,e),this._delegate=t}return(0,_e.Z)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new mS("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new pS("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=kE.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=wE.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new kS("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),WE={Firestore:IE,GeoPoint:aS,Timestamp:gp,Blob:SE,Transaction:NE,WriteBatch:OE,DocumentReference:PE,DocumentSnapshot:LE,Query:jE,QueryDocumentSnapshot:FE,QuerySnapshot:VE,CollectionReference:ZE,FieldPath:qE,FieldValue:zE,setLogLevel:function(e){!function(e){Hd.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new mt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},WE)))}(e,(function(e,t){return new IE(e,t,new TE)})),e.registerVersion("@firebase/firestore-compat","0.1.14")}(fn);fn.initializeApp({apiKey:"AIzaSyCIVWOTxGO2_n8mmsLKoP3I6X1PEztgj5Y",authDomain:"clone-1f37e.firebaseapp.com",projectId:"clone-1f37e",storageBucket:"clone-1f37e.appspot.com",messagingSenderId:"972865750372",appId:"1:972865750372:web:7b75e6ac6dda8c9b69e671",measurementId:"G-C280156N7W"}).firestore();var HE=fn.auth();var GE=function(){var e=we(),t=(0,i.Z)(e,2),n=t[0],r=n.basket,s=n.user;return t[1],(0,ye.jsxs)("div",{className:"header",children:[(0,ye.jsx)(pe,{to:"/",children:(0,ye.jsx)("img",{className:"header_logo",src:"http://pngimg.com/uploads/amazon/amazon_PNG11.png"})}),(0,ye.jsxs)("div",{className:"header_search",children:[(0,ye.jsx)("input",{className:"header_searchInput",type:"text"}),(0,ye.jsx)(a.Z,{className:"header_searchIcon"})]}),(0,ye.jsxs)("div",{className:"header_nav",children:[(0,ye.jsx)(pe,{to:!s&&"/login",children:(0,ye.jsxs)("div",{onClick:function(){s&&HE.signOut()},className:"header_option",children:[(0,ye.jsxs)("span",{className:"header_optionLineOne",children:["Hello ",s?s.email:"Guest"]}),(0,ye.jsx)("span",{className:"header_optionLineTwo",children:s?"Sign Out":"Sign In"})]})}),(0,ye.jsx)(pe,{to:"/orders",children:(0,ye.jsxs)("div",{className:"header_option",children:[(0,ye.jsx)("span",{className:"header_optionLineOne",children:"Returns"}),(0,ye.jsx)("span",{className:"header_optionLineTwo",children:"& Orders"})]})}),(0,ye.jsxs)("div",{className:"header_option",children:[(0,ye.jsx)("span",{className:"header_optionLineOne",children:"Your"}),(0,ye.jsx)("span",{className:"header_optionLineTwo",children:"Prime"})]}),(0,ye.jsx)(pe,{to:"/checkout",children:(0,ye.jsxs)("div",{className:"header_optionBasket",children:[(0,ye.jsx)(o.Z,{}),(0,ye.jsx)("span",{className:"header_optionLineTwo header_basketCount",children:null===r||void 0===r?void 0:r.length})]})}),(0,ye.jsx)(pe,{to:"/Darkmode",children:(0,ye.jsx)("div",{className:"options",children:(0,ye.jsx)("span",{className:"header_optionLineOne"})})})]})]})};var YE=function(e){var t=e.id,n=e.title,r=e.image,a=e.price,o=e.rating,s=we(),u=(0,i.Z)(s,2),c=(u[0].basket,u[1]);return(0,ye.jsxs)("div",{className:"product",children:[(0,ye.jsxs)("div",{className:"product_info",children:[(0,ye.jsx)("p",{children:n}),(0,ye.jsxs)("p",{className:"product_price",children:[(0,ye.jsx)("small",{children:"$"}),(0,ye.jsx)("strong",{children:a})]}),(0,ye.jsx)("div",{className:"product_rating",children:Array(o).fill().map((function(e,t){return(0,ye.jsx)("p",{children:"\u2b50"})}))})]}),(0,ye.jsx)("img",{src:r,alt:""}),(0,ye.jsx)("button",{onClick:function(){c({type:"ADD_TO_BASKET",item:{id:t,title:n,image:r,price:a,rating:o}})},children:"Add to Basket"})]})};var KE=function(){return(0,ye.jsx)("div",{className:"home",children:(0,ye.jsxs)("div",{className:"home_container",children:[(0,ye.jsx)("img",{className:"home_image",src:"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg",alt:""}),(0,ye.jsxs)("div",{className:"home_row",children:[(0,ye.jsx)(YE,{id:"12321341",title:"The Lean Startup: How Constant Innovation Creates Radically Successful Businesses Paperback",price:11.96,rating:5,image:"https://images-na.ssl-images-amazon.com/images/I/51Zymoq7UnL._SX325_BO1,204,203,200_.jpg"}),(0,ye.jsx)(YE,{id:"49538094",title:"Kenwood kMix Stand Mixer for Baking, Stylish Kitchen Mixer with K-beater, Dough Hook and Whisk, 5 Litre Glass Bowl",price:239,rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/81O%2BGNdkzKL._AC_SX450_.jpg"})]}),(0,ye.jsxs)("div",{className:"home_row",children:[(0,ye.jsx)(YE,{id:"4903850",title:"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor",price:199.99,rating:3,image:"https://images-na.ssl-images-amazon.com/images/I/71Swqqe7XAL._AC_SX466_.jpg"}),(0,ye.jsx)(YE,{id:"23445930",title:"Amazon Echo (3rd generation) | Smart speaker with Alexa, Charcoal Fabric",price:98.99,rating:5,image:"https://media.very.co.uk/i/very/P6LTG_SQ1_0000000071_CHARCOAL_SLf?$300x400_retinamobilex2$"}),(0,ye.jsx)(YE,{id:"3254354345",title:"New Apple iPad Pro (12.9-inch, Wi-Fi, 128GB) - Silver (4th Generation)",price:598.99,rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/816ctt5WV5L._AC_SX385_.jpg"})]}),(0,ye.jsx)("div",{className:"home_row",children:(0,ye.jsx)(YE,{id:"90829332",title:"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor - Super Ultra Wide Dual WQHD 5120 x 1440",price:1094.98,rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SX355_.jpg"})})]})})};var QE=function(e){var t=e.id,n=e.image,r=e.title,a=e.price,o=e.rating,s=(e.hideButton,we()),u=(0,i.Z)(s,2),c=(u[0].basket,u[1]);return(0,ye.jsxs)("div",{className:"checkoutProduct",children:[(0,ye.jsx)("img",{className:"checkoutProduct_image",src:n,alt:""}),(0,ye.jsxs)("div",{className:"checkoutProduct_info",children:[(0,ye.jsx)("p",{className:"checkoutProduct_title",children:r}),(0,ye.jsxs)("p",{className:"checkoutProduct_price",children:[(0,ye.jsx)("small",{children:"$"}),(0,ye.jsx)("strong",{children:a})]}),(0,ye.jsx)("div",{className:"checkoutProduct_rating",children:Array(o).fill().map((function(e,t){return(0,ye.jsx)("p",{children:"\u2b50"})}))}),(0,ye.jsx)("button",{onClick:function(){c({type:"REMOVE_FROM_BASKET",id:t})},children:"Remove from Basket"})]})]})},$E=n(2482),JE=n.n($E);function XE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XE(Object(n),!0).forEach((function(t){(0,be.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tT=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0)},nT=function(e,t){switch(console.log(t),t.type){case"ADD_TO_BASKET":return eT(eT({},e),{},{basket:[].concat((0,ft.Z)(e.basket),[t.item])});case"EMPTY_BASKET":return eT(eT({},e),{},{basket:[]});case"REMOVE_FROM_BASKET":var n=e.basket.findIndex((function(e){return e.id===t.id})),r=(0,ft.Z)(e.basket);return n>=0?r.splice(n,1):console.warn("Cant remove product (id: ${action.id} ) as it is not in the basket!"),eT(eT({},e),{},{basket:r});case"SET_USER":return eT(eT({},e),{},{user:t.user});default:return e}};var rT=function(){var e=se(),t=we(),n=(0,i.Z)(t,2),r=n[0].basket;return n[1],(0,ye.jsxs)("div",{className:"subtotal",children:[(0,ye.jsx)(JE(),{renderText:function(e){return(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsxs)("p",{children:["Subtotal (",r.length," items): ",(0,ye.jsx)("strong",{children:e})]}),(0,ye.jsxs)("small",{className:"subtotal__gift",children:[(0,ye.jsx)("input",{type:"checkbox"})," This order contains a gift"]})]})},decimalScale:2,value:tT(r),displayType:"text",thousandSeparator:!0,prefix:"$"}),(0,ye.jsx)("button",{onClick:function(t){return e.push("/payment")},children:"Proceed to Checkout"})]})};var iT=function(){var e=we(),t=(0,i.Z)(e,2),n=t[0],r=n.basket,a=n.user;return t[1],(0,ye.jsxs)("div",{className:"checkout",children:[(0,ye.jsxs)("div",{className:"checkout_left",children:[(0,ye.jsx)("img",{className:"checkout_ad",src:"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg",alt:""}),(0,ye.jsxs)("div",{children:[(0,ye.jsxs)("h3",{children:["Hello, ",null===a||void 0===a?void 0:a.email]}),(0,ye.jsx)("h2",{className:"checkout_title",children:"Your shopping Basket"}),r.map((function(e){return(0,ye.jsx)(QE,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})}))]})]}),(0,ye.jsx)("div",{className:"checkout_right",children:(0,ye.jsx)(rT,{})})]})};var aT=function(){var e=se(),n=(0,t.useState)(""),r=(0,i.Z)(n,2),a=r[0],o=r[1],s=(0,t.useState)(""),u=(0,i.Z)(s,2),c=u[0],l=u[1];return(0,ye.jsxs)("div",{className:"login",children:[(0,ye.jsx)(pe,{to:"/",children:(0,ye.jsx)("img",{className:"login_logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png",alt:""})}),(0,ye.jsxs)("div",{className:"login_container",children:[(0,ye.jsx)("h1",{children:"Sign-in"}),(0,ye.jsxs)("form",{children:[(0,ye.jsx)("h5",{children:"E-mail"}),(0,ye.jsx)("input",{type:"text",value:a,onChange:function(e){return o(e.target.value)}}),(0,ye.jsx)("h5",{children:"Password"}),(0,ye.jsx)("input",{type:"password",value:c,onChange:function(e){return l(e.target.value)}}),(0,ye.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault(),HE.signInWithEmailAndPassword(a,c).then((function(t){e.push("/")})).catch((function(e){return alert(e.message)}))},className:"login_signInButton",children:"Sign In"})]}),(0,ye.jsx)("p",{children:"By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."}),(0,ye.jsx)("button",{onClick:function(t){t.preventDefault(),HE.createUserWithEmailAndPassword(a,c).then((function(t){console.log(t),t&&e.push("/")})).catch((function(e){return alert(e.message)}))},className:"login_registerButton",children:"Create your Amazon Account"})]})]})},oT=n(5764),sT=n(4569),uT=n.n(sT)().create({baseURL:"http://localhost:5001/clone-1f37e/us-central1/api"});var cT=function(){var e=we(),n=(0,i.Z)(e,2),r=n[0],a=r.basket,o=r.user,s=n[1],u=se(),c=(0,oT.useStripe)(),l=(0,oT.useElements)(),f=(0,t.useState)(!1),h=(0,i.Z)(f,2),d=h[0],p=h[1],v=(0,t.useState)(""),m=(0,i.Z)(v,2),y=m[0],g=m[1],k=(0,t.useState)(null),w=(0,i.Z)(k,2),b=w[0],x=w[1],_=(0,t.useState)(!0),S=(0,i.Z)(_,2),E=S[0],T=S[1],I=(0,t.useState)(!0),C=(0,i.Z)(I,2),N=C[0],O=C[1];(0,t.useEffect)((function(){var e=function(){var e=dt(vt().mark((function e(){var t;return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uT({method:"post",url:"/payments/create?total=".concat(100*tT(a))});case 2:t=e.sent,O(t.data.clientSecret);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]),console.log("THE SECRET IS >>>",N),console.log("\ud83e\uddd1",o);var A=function(){var e=dt(vt().mark((function e(t){return vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),g(!0),e.next=4,c.confirmCardPayment(N,{payment_method:{card:l.getElement(oT.CardElement),address:{city:null,country:null,line1:null,line2:null,postal_code:null,state:null}}}).then((function(e){e.paymentIntent;p(!0),x(null),g(!1),s({type:"EMPTY_BASKET"}),u.replace("/orders")}));case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,ye.jsx)("div",{className:"payment",children:(0,ye.jsxs)("div",{className:"payment_container",children:[(0,ye.jsxs)("h1",{children:["Checkout (",(0,ye.jsxs)(pe,{to:"/checkout",children:[null===a||void 0===a?void 0:a.length," items"]}),")"]}),(0,ye.jsxs)("div",{className:"payment_section",children:[(0,ye.jsx)("div",{className:"payment_title",children:(0,ye.jsx)("h3",{children:"Delivery Address"})}),(0,ye.jsx)("div",{className:"payment__addImage",children:(0,ye.jsx)("img",{src:"/map.jpg",alt:""})}),(0,ye.jsxs)("div",{className:"payment_address",children:[(0,ye.jsx)("p",{children:null===o||void 0===o?void 0:o.email}),(0,ye.jsx)("p",{children:"123 React Lane"}),(0,ye.jsx)("p",{children:"Rohini, New Delhi"})]})]}),(0,ye.jsxs)("div",{className:"payment_section",children:[(0,ye.jsx)("div",{className:"payment_title",children:(0,ye.jsx)("h3",{children:"Review items and delivery"})}),(0,ye.jsx)("div",{className:"payment_items",children:a.map((function(e){return(0,ye.jsx)(QE,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})}))})]}),(0,ye.jsxs)("div",{className:"payment_section",children:[(0,ye.jsx)("div",{className:"payment_title",children:(0,ye.jsx)("h3",{children:"Payment Method"})}),(0,ye.jsx)("div",{className:"payment_details",children:(0,ye.jsxs)("form",{onSubmit:A,children:[(0,ye.jsx)(oT.CardElement,{onChange:function(e){T(e.empty),x(e.error?e.error.message:"")}}),(0,ye.jsxs)("div",{className:"payment_priceContainer",children:[(0,ye.jsx)(JE(),{renderText:function(e){return(0,ye.jsx)(ye.Fragment,{children:(0,ye.jsxs)("h3",{children:["Order Total: ",e]})})},decimalScale:2,value:tT(a),displayType:"text",thousandSeparator:!0,prefix:"$"}),(0,ye.jsx)("button",{disabled:y||E||d,children:(0,ye.jsx)("span",{children:y?(0,ye.jsx)("p",{children:"Processing"}):"Buy Now"})})]}),b&&(0,ye.jsx)("div",{children:b})]})})]})]})})};n(2426);var lT=function(){var e=we(),n=(0,i.Z)(e,2),r=n[0],a=(r.basket,r.user,n[1],(0,t.useState)([])),o=(0,i.Z)(a,2);return o[0],o[1],(0,ye.jsxs)("div",{className:"orders",children:[(0,ye.jsx)("h1",{children:"Successful payment \ud83d\ude01\ud83d\ude01\u270c\ufe0f, Hooray !!!"}),(0,ye.jsx)("div",{className:"orders_order"})]})},fT="https://js.stripe.com/v3",hT=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,dT="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",pT=null,vT=function(e){return null!==pT||(pT=new Promise((function(t,n){if("undefined"!==typeof window)if(window.Stripe&&e&&console.warn(dT),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(fT,'"]')),t=0;t<e.length;t++){var n=e[t];if(hT.test(n.src))return n}return null}();r&&e?console.warn(dT):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(fT).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(i){return void n(i)}else t(null)}))),pT},mT=function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.23.0",startTime:t})}(r,n),r},yT=Promise.resolve().then((function(){return vT(null)})),gT=!1;yT.catch((function(e){gT||console.warn(e)}));var kT=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];gT=!0;var r=Date.now();return yT.then((function(e){return mT(e,t,r)}))}("pk_test_51KWP0KSCaQJCeeGcXdHfl6Qd0gp7WUfVhAwznKvGJIPlm6dUotVwpkvAdYvXS0qMiLc1CCP8rconbnGkIdNyS7C800fk7dCkfI");var wT=function(){var e=we(),n=(0,i.Z)(e,2);!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(n[0]);var r=n[1];return(0,t.useEffect)((function(){HE.onAuthStateChanged((function(e){console.log("THE USER IS >>>",e),r(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})}))}),[]),(0,ye.jsx)(ue,{children:(0,ye.jsx)("div",{className:"app",children:(0,ye.jsxs)(ae,{children:[(0,ye.jsxs)(X,{path:"/orders",children:[(0,ye.jsx)(GE,{}),(0,ye.jsx)(lT,{})]}),(0,ye.jsx)(X,{path:"/login",children:(0,ye.jsx)(aT,{})}),(0,ye.jsxs)(X,{path:"/checkout",children:[(0,ye.jsx)(GE,{}),(0,ye.jsx)(iT,{})]}),(0,ye.jsxs)(X,{path:"/payment",children:[(0,ye.jsx)(GE,{}),(0,ye.jsx)(oT.Elements,{stripe:kT,children:(0,ye.jsx)(cT,{})})]}),(0,ye.jsxs)(X,{path:"/",children:[(0,ye.jsx)(GE,{}),(0,ye.jsx)(KE,{})]})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.render((0,ye.jsx)(t.StrictMode,{children:(0,ye.jsx)(ke,{initialState:{basket:[],user:null},reducer:nT,children:(0,ye.jsx)(wT,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}()}();
//# sourceMappingURL=main.02a85d22.js.map